<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xmlns:media="http://search.yahoo.com/mrss/">
    <title>云泽の小屋</title>
    <link href="https://zeyun.dpdns.org/feed.xml" rel="self" />
    <link href="https://zeyun.dpdns.org" />
    <updated>2025-12-28T02:30:21+08:00</updated>
    <author>
        <name>云泽</name>
    </author>
    <id>https://zeyun.dpdns.org</id>

    <entry>
        <title>网络设备配置实战分析 Part 3</title>
        <author>
            <name>云泽</name>
        </author>
        <link href="https://zeyun.dpdns.org/network_with_huawei_ensp_part3.html"/>
        <id>https://zeyun.dpdns.org/network_with_huawei_ensp_part3.html</id>
            <category term="网络设备配置技术学习笔记"/>

        <updated>2025-12-12T23:16:59+08:00</updated>
            <summary>
                <![CDATA[
                    本次项目实验目标： 环境准备：点我下载拓扑图，密码： Step1：先给我们的所有PC机以及各种设备，重命名，配置对应的网路地址和关闭Debug调试（这里我依旧以PC1，L2-SW1，L3-AR1为例）其余设备也是同理 PC1配置如下：（tips：PC3的网关就是与AR1连接的端口IP哦~） L2-SW1配置如下：&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>本次项目实验目标：</p>
<ul style="list-style-type: square;">
<li>实现全网互通（包含OSPF，不同网段vlan规划）</li>
<li>冗余网关协议（包含聚合链路，VRRP实验）</li>
<li>生成树协议STP&amp;MSTP（含测试实验&amp;拓扑扩展）</li>
</ul>
<p>环境准备：点我下载拓扑图，密码：</p>
<h4 class="align-center"><strong>全图总览如下</strong></h4>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-13-012607.png" alt="" width="2381" height="1383" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-012607-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-012607-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-012607-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-012607-xl.webp 1024w"></figure>
<h4 class="align-center">实验一：实现全网互通</h4>
<p class="align-left"><span style="color: #e03e2d;">Step1：</span>先给我们的所有PC机以及各种设备，重命名，配置对应的网路地址和关闭Debug调试（这里我依旧以PC1，L2-SW1，L3-AR1为例）其余设备也是同理</p>
<p class="align-center">PC1配置如下：（tips：PC3的网关就是与AR1连接的端口IP哦~）</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-12-235926.png" alt="" width="1545" height="1055" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-12-235926-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-12-235926-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-12-235926-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-12-235926-xl.webp 1024w"></figure>
<p class="align-center">L2-SW1配置如下：</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-13-000347.png" alt="" width="1309" height="468" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-000347-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-000347-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-000347-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-000347-xl.webp 1024w"></figure>
<p class="align-center">L3-AR1配置如下：</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-13-000228.png" alt="" width="1298" height="497" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-000228-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-000228-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-000228-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-000228-xl.webp 1024w"></figure>
<p class="align-left"><span style="color: #e03e2d;">Step2：</span>进入各个设备的对应端口，配置基础信息</p>
<p class="align-left">先创建几个vlan以便后续的操作（vlan2 ，vlan10，vlan20）</p>
<ul class="align-center">
<li class="align-left">vlan2：用于给我三层的交换机配IP</li>
<li class="align-left">vlan10：用于给PC1以及第二层的交换机配IP用</li>
<li class="align-left">vlan20：同理，用于给PC2以及对应的第二层的交换机配IP用</li>
</ul>
<p class="align-center">我这里依旧以L3-SW1示例：</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-13-001931.png" alt="" width="1280" height="170" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-001931-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-001931-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-001931-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-001931-xl.webp 1024w"></figure>
<pre class="language-c line-numbers"><code>[L3-SW1]vlan batch 2 10 20</code></pre>
<p class="align-left">使用 vlan batch 命令，可以同时配置多条vlan</p>
<p class="align-left">其次进入对应的vlan，去给他们分配IP地址</p>
<p class="align-left"><code>*注：</code>在L3-SW1/2上的vlan2/10/20都不是同一个，都需要进入对应机器去单独配置</p>
<p class="align-left">例如（我这里在L3-SW1上配的vlan2就和L3-SW2的不同）<strong>目前只需要关注我标记出来的就行</strong></p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/L3-SW1-VLANID.png" alt="" width="827" height="452" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/L3-SW1-VLANID-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/L3-SW1-VLANID-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/L3-SW1-VLANID-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/L3-SW1-VLANID-xl.webp 1024w"></figure>
<p class="align-left">上图为L3-SW1，下图为L3-SW2（<strong>目前先看标记的就行，其余的不着急配</strong>）</p>
<p>看细节，这里我的L3-SW1/2的配置的同为vlan20的<strong>ip最后一位不同</strong>（此处的ip千万不能相同，否则会出现后期配VRRP的Master时候，会为双Master，不过就算配错，解决办法后面也有，往下看就行，别担心）</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/L3-SW2-VLANID.png" alt="" width="838" height="446" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/L3-SW2-VLANID-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/L3-SW2-VLANID-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/L3-SW2-VLANID-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/L3-SW2-VLANID-xl.webp 1024w"></figure>
<p class="align-left">那么这个IP地址怎么去看呢？很简单，看连接的端口IP就行。例如我这个L3-SW1的vlan2的IP地址，就是来自于上层路由的连接端口的IP</p>
<p class="align-left"><span style="color: #e03e2d;">Step3：</span>在vlan的信息划分好之后，我们需要进入这个对应的端口，去把刚刚创建的vlan给它加入进来（我这里仅演示了L3-SW1的过程，L3-SW2也是同样的配置方法）</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-13-004012.png" alt="" width="1256" height="542" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-004012-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-004012-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-004012-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-004012-xl.webp 1024w"></figure>
<p class="align-left">这里我设置 g/0/22 口的解释之后的步骤分别是：</p>
<ol class="align-left">
<li>进入 g0/0/22 口</li>
<li>设置 g0/0/22 的端口类型为<code>Access</code>模式（简单来说，是给连接终端设备，PC，服务器等用的“专属通道“，只走一个 vlan 的流量的模式）</li>
<li>将之前配置的 vlan2 划分给 g0/0/22 口</li>
</ol>
<p class="align-left">设置 g0/0/1 口的步骤解释起来分别是：</p>
<ol class="align-left">
<li>进入 g0/0/1 口</li>
<li>设置 g0/0/1 的端口类型为<code>Trunk </code>模式（这个模式与Access模式不同的是，这个Trunk模式就是给“交换机之间”用的“共享通道”，使得设备之间的通讯能同时走多个 vlan 的流量）</li>
<li>设置放行所有流量（通常不会这样做，但这里是实验环境，所以我就全部放行了）</li>
</ol>
<p class="align-left"> g0/0/2 也是和 g0/0/1 同理，这里我就不过多赘述了</p>
<p class="align-left"><span style="color: #e03e2d;">Step4：</span>我比较习惯从下网上配，所以在L3-SW1/2的准备工作做好了之后（也就是在创建好基础的vlan之后）我们先进入L2-SW1/2的 Ethernet 0/0/1 口，去配置与PC1相连接的接口模式</p>
<pre class="language-cpp line-numbers"><code>[L2-SW1]vlan 10
[L2-SW1-vlan10]q
//创建vlan10，并退出这个vlan的视图（IP地址不在这里配）
[L2-SW1-Ethernet0/0/1]int vlan 10
//使用int命令，进入vlan10
[L2-SW1-Vlanif10]ip address 192.168.10.254 24
//配置IP（IP地址+子网掩码）
[L2-SW1]int e0/0/1
//进入e0/0/1
[L2-SW1-Ethernet0/0/1]port link-type access 
//设置端口模式为access
[L2-SW1-Ethernet0/0/1]port default vlan 10
//划分vlan10到这个端口内</code></pre>
<p class="align-left">别忘了在L2-SW1/2还是有两根线连接着L3-SW1/2的（<strong>GE0/0/1，GE0/0/2</strong>口），所以你还需要进入这<strong>两个口</strong>里去配置接口模式，我这里依旧以PC1所对应的L2-SW1演示</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-13-011844.png" alt="" width="997" height="190" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-011844-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-011844-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-011844-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-011844-xl.webp 1024w"></figure>
<p class="align-left">这里的思路依旧是：系统视图下→进入对应的端口→设置模式为<code>Trunk</code>模式→放行所有端口</p>
<p class="align-left">这里使用PC1去Ping网关验证，看看能否Ping通对应网关（PC1的就是之前设置的192.168.10.254的那个）</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-13-011004.png" alt="" width="1083" height="515" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-011004-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-011004-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-011004-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-011004-xl.webp 1024w"></figure>
<p class="align-left">可以看到，我这里已经验证成功</p>
<p class="align-left">这里的PC2所对应的L2-SW2也是同理，我这里就不过多赘述了（唯一需要注意的就是网关别配错，我这里PC2所对应的网关是<strong>192.168.20.250</strong>，别弄成254了）</p>
<p class="align-left"><span style="color: #e03e2d;">Step5：</span>设置在L3-AR1上配置基础信息以及OSPF路由</p>
<p class="align-left">以下是用于设置各个端口的IP的指令（进入端口配IP就行，没啥难度的）</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-13-013328.png" alt="" width="1257" height="346" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-013328-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-013328-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-013328-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-013328-xl.webp 1024w"></figure>
<p class="align-center">在L3-AR1上创建OSPF路由（就是加入临近的网段），如下图所示</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-13-013705.png" alt="" width="1233" height="194" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-013705-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-013705-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-013705-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-013705-xl.webp 1024w"></figure>
<p class="align-left">如果OSPF忘记了的朋友，可以去看看我的上一篇文章里面有讲，这里我就不过多赘述了</p>
<p class="align-left">配置完成后再次回到L3-SW1/2中，我们需要在这<strong>两个设备</strong>中添加OSPF路由，从而实现全网互通</p>
<p class="align-center">这是我在L3-SW1配置的操作，如下图所示：</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-13-014426.png" alt="" width="1257" height="291" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-014426-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-014426-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-014426-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-014426-xl.webp 1024w"></figure>
<p class="align-left">分别对应的是：</p>
<ul class="align-center" style="list-style-type: circle;">
<li class="align-left">192.168.10.0的网段 + 反掩码</li>
<li class="align-left">192.168.20.0的网段 + 反掩码</li>
<li class="align-left">10.0.0.0的网段 + 反掩码</li>
</ul>
<p class="align-left"><code>*注：</code>L3-SW2也需要操作，切记不可以忘记！！！</p>
<p class="align-left">这里我们依旧使用PC3去PingPC1测试，可以看到即使不在同一个网段也能Ping通，即为成功</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-13-015100.png" alt="" width="2466" height="1363" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-015100-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-015100-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-015100-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-015100-xl.webp 1024w"></figure>
<p class="align-center"><strong>至此，恭喜你已经实现基础的全网通</strong></p>
<h4 class="align-center">实验二：冗余网关协议（聚合链路&amp;VRRP）</h4>
<p class="align-left">在原有的基础之上，我们将继续操作（<code>*注：</code>以下的Ping实验验证时，可能会存在短时间Ping不通的情况，那是涉及到ENSP模拟器的性能，及这个网络协商的时间差）我会给L3-SW1与L3-SW2之间配聚合链路（这里我会使用<span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);"><a href="https://info.support.huawei.com/info-finder/encyclopedia/zh/LACP.html" target="_blank" rel="noopener noreferrer">LACP</a>模式来组聚合链路，</span></p>
<div class="align-center" data-page-id="B6msdqjeYoAmxTxeIVScaVKBnNg" data-lark-html-role="root" data-docx-has-block-data="false">
<div class=" old-record-id-DRTQd6vXDocyUYxUmgVc0WqYnDb align-left">并设置L3-SW1为主动端，且设置当前端口中最大的链路活动状态为2个<span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">）</span></div>
<h5>聚合链路配置</h5>
<p class="align-left">功能概述：是一种将<strong>多个物理链路捆绑成一个逻辑链路</strong>的技术，核心作用是<strong>提升带宽、增加链路冗余</strong></p>
<div class="align-left"> </div>
</div>
<div class="align-center" data-page-id="B6msdqjeYoAmxTxeIVScaVKBnNg" data-lark-html-role="root" data-docx-has-block-data="false">
<div class="old-record-id-DRTQd6vXDocyUYxUmgVc0WqYnDb align-left"><span style="color: #e03e2d;">Step1</span>：首先进入L3-SW1上，创建一个聚合接口为Eth-Trunk2，然后设置模式为lacp模式，并且设置聚合口中最大的活动数为2，最后将物理端口加入到当前聚合口中</div>
<div class="align-center"> </div>
<div class="align-center">下图为我在L3-SW1上的演示：（L3-SW2也是同理）</div>
<div class="align-center"> </div>
<div class="align-center"><figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-19-203418.png" alt="" width="1026" height="190" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-203418-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-203418-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-203418-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-203418-xl.webp 1024w"></figure></div>
<div class="align-center"> </div>
<div class="align-center">代码解释如下：</div>
<div class="align-center">
<pre class="language-cpp line-numbers"><code>[L3-SW1]int Eth-Trunk 2
//创建名为 Eth-Trunk 2 的隧道
[L3-SW1-Eth-Trunk2]port link-type trunk
//设置端口类型为Trunk模式
[L3-SW1-Eth-Trunk2]port trunk allow-pass vlan 2 to 4094
//放行所有端口
[L3-SW1-Eth-Trunk2]mode lacp-static
//设置类型为lacp模式

//以下Max设置仅在主动端设置（例如这里我将L3-SW1设为主动端）
[L3-SW1-Eth-Trunk2]max active-linknumber 2
//设置 Eth-Trunk 2 的链路聚合组的最大活动链路数量为 2
[L3-SW1-Eth-Trunk2]trunkport GigabitEthernet 0/0/23 to 0/0/24
//将GigabitEthernet0/0/23 和 0/0/24 这两个物理端口加入当前 Eth-Trunk 聚合组
//注：以上命令需在 Eth-Trunk 接口视图下执行，比如先执行interface Eth-Trunk 2 进入聚合组 2，再执行这些）</code></pre>
</div>
<div class="align-left"><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);"><span style="color: #e03e2d;">Step2</span>：继续在L3-SW2上设置主动端的优先级（默认为32768）我们将主动</span><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">提高其优先级，并配置为100</span></div>
<div class="align-center"> </div>
<div class="align-center">L3-SW2的配置如下图所示：</div>
<div class="align-center"><figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-19-204819.png" alt="" width="788" height="132" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-204819-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-204819-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-204819-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-204819-xl.webp 1024w"></figure></div>
<div class="align-left"> </div>
<div class="align-left">简单来说就是进入端口，使用<code>lacp priority</code>命令，将L3-SW2的两个端口的优先级为100</div>
<div class="align-left"> </div>
<div class="align-left">优先级规则：LACP 端口优先级<strong>数值越小，优先级越高</strong>；在聚合组中，优先级高的端口会优先被选为 “活动链路”（当聚合组的<code>max active-linknumber</code>限制了活动链路数量时，低优先级的端口会成为备用）</div>
<div class="align-center"> </div>
<div class="align-center"><code>*注</code>：在L3-SW2千万别忘记了输入应用的指令，如下所示：</div>
<div class="align-center">
<pre class="language-cpp line-numbers"><code>[L3-SW2]int Eth-Trunk 2
//进入 Eth-Trunk 2 端口
[L3-SW2-Eth-Trunk2]trunkport GigabitEthernet 0/0/23 to 0/0/24
//将之前配置的信息应用到 g0/0/23和24口</code></pre>
</div>
<div class="align-left">以上这条指令会把 <code>GigabitEthernet0/0/23</code>和 <code>GigabitEthernet0/0/24</code>这两个物理端口，批量加入到刚刚配置的 Eth-Trunk 2 的链路聚合组中</div>
<div class="align-left"> </div>
<div class="align-left">可使用我下图中<strong>蓝色高亮</strong>的指令去验证，在L3-SW1/2任意一台设备上</div>
<div class="align-left">去输入一下（若和我下图示范的一样，那么则为配置正确）</div>
<div class="align-center"><figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-19-210320.png" alt="" width="1257" height="603" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-210320-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-210320-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-210320-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-210320-xl.webp 1024w"></figure></div>
<div class="align-center"> </div>
<div class="align-center">成功后，就可以看到这两个端口的状态为UP的了</div>
<div class="align-center"> </div>
<div class="align-center"><strong>至此，聚合链路部分就已经成功配置完毕了</strong></div>
<h5 class="align-center">VRRP配置</h5>
<p class="align-left">功能概述：它是一种用于<strong>网关冗余备份</strong>的网络协议，核心作用是让多台设备（通常是交换机 / 路由器）共享同一个 “虚拟网关 IP”，避免单点故障导致终端无法上网</p>
<div class="align-center" data-page-id="B6msdqjeYoAmxTxeIVScaVKBnNg" data-lark-html-role="root" data-docx-has-block-data="false">
<div class="align-left"> </div>
<div class=" old-record-id-BFA8dNtpPo2UzYxFQY2czjoNn7d align-left"><span style="color: #e03e2d;">Step1</span>：首先创建 vlan 10 和 vlan 20 的虚拟地址（我这里将vlan 10/20 的设置为192.168.10/20.251）</div>
<div class="align-left"> </div>
<div class=" old-record-id-BFA8dNtpPo2UzYxFQY2czjoNn7d align-left"><span style="color: #e03e2d;">Step2</span>：设置监控上行链路为g0/0/22端口，我将设置 L3-SW1 作为 vlan 10 的 Master 设备（所以需要对vlan 10 的vrrp组设置优先级为 120 ，设置链路抢占时间为 20 秒）</div>
<div> </div>
<div>配置如下（我在L3-SW1演示的截图）：</div>
<div><figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-19-213114.png" alt="" width="1133" height="230" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-213114-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-213114-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-213114-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-213114-xl.webp 1024w"></figure></div>
<div> </div>
<div class=" old-record-id-BFA8dNtpPo2UzYxFQY2czjoNn7d">逐行代码解释如下：</div>
<div>
<pre class="language-cpp line-numbers"><code>[L3-SW1]int vlan10
//进入 vlan10
[L3-SW1-Vlanif10]vrrp vrid 10 virtual-ip 192.168.10.251
//设置一个虚拟id为10的vrrp vrid，并划分虚拟ip为192.168.10.251
[L3-SW1-Vlanif10]vrrp vrid 10 priority 120
//设置这个vlan10下的虚拟id的优先级为120
[L3-SW1-Vlanif10]vrrp vrid 10 preempt-mode timer delay 20
//设置vlan10的虚拟id链路抢占时间为20秒
[L3-SW1-Vlanif10]vrrp vrid 10 track interface GigabitEthernet0/0/22
//让vrrp 10的配置应用在L3-SW1的g0/0/22的端口
[L3-SW1-Vlanif10]int vlan20
//进入vlan20
[L3-SW1-Vlanif20]vrrp vrid 20 virtual-ip 192.168.20.251
//配置vlan20的vrrp的虚拟id</code></pre>
</div>
</div>
<p class="align-left">此外在L3-SW2上也亦是如此：</p>
<pre class="language-cpp line-numbers"><code>[L3-SW2]interface vlan10
[L3-SW2-Vlanif10] vrrp vrid 10 virtual-ip 192.168.10.251
//以上用于在这个L3-SW2上去宣告vlan10下的的虚拟id

[L3-SW2-Vlanif10]int vlan20
[L3-SW2-Vlanif20]vrrp vrid 20 virtual-ip 192.168.20.251
//以上用于去设置一个虚拟id为20的vrrp vrid，并划分虚拟ip为192.168.20.251

[L3-SW2-Vlanif20]vrrp vrid 20 priority 120
//设置这个vlan20下的虚拟id的优先级为120
[L3-SW2-Vlanif20] vrrp vrid 20 preempt-mode timer delay 20
//设置vlan20下的虚拟id链路抢占时间为20秒
[L3-SW2-Vlanif20] vrrp vrid 20 track interface GigabitEthernet0/0/22
//让vrrp 20的配置应用在L3-SW2的g0/0/22端口</code></pre>
<p class="align-center"> L3-SW2的配置图片如下：</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-19-214540.png" alt="" width="1120" height="300" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-214540-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-214540-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-214540-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-214540-xl.webp 1024w"></figure>
<p class="align-left"><code>*常见问题</code>：如果我已经配了不同的的优先级（也就是输入了在L3-SW1和L3-SW2不同的vrrp vrid 10 priority 120/100）还是显示都为Master，怎么解决？（如下图所示）</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-20-012320.png" alt="" width="1110" height="231" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-012320-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-012320-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-012320-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-012320-xl.webp 1024w"></figure>
<div class="align-left" data-page-id="B6msdqjeYoAmxTxeIVScaVKBnNg" data-lark-html-role="root" data-docx-has-block-data="false">
<div class="align-center">上图的这个vlan20理应是Backup，而不是Master（此处为错误示范）</div>
<div class="align-center"><figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Xiang-Tong-vlan20De-ipDi-Zhi.png" alt="" width="2388" height="1431" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Xiang-Tong-vlan20De-ipDi-Zhi-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Xiang-Tong-vlan20De-ipDi-Zhi-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Xiang-Tong-vlan20De-ipDi-Zhi-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Xiang-Tong-vlan20De-ipDi-Zhi-xl.webp 1024w"></figure></div>
<div class="align-left">这个很显然就是L3-SW1或L3-SW2的vlan10/20的IP地址最后一位冲突了，只需要进入对应的vlan，修改vlan的ip就可以解决</div>
<h5>需要注意的是这里的L3-SW1和L3-SW2上的vlan20下的ip不能和同网段的ip一样，否则大概率失败</h5>
<div class="align-left"> </div>
<div class="align-left">操作如下（比如我这里就是L3-SW1上的vlan20的ip配错了，不小心配成和L3-SW2一样的ip了）：</div>
<div class="align-center">
<pre class="language-cpp line-numbers"><code>&lt;L3-SW1&gt;sys
//进入系统试图
[L3-SW1]int vlan20
//进入vlan20

[L3-SW1-Vlanif20]dis this
#
interface Vlanif20
 ip address 192.168.20.253 255.255.255.0
 vrrp vrid 20 virtual-ip 192.168.20.251
#
return
//查看这个端口的情况，发现错误地方

[L3-SW1-Vlanif20]undo ip address 192.168.20.253 24
//删除错误ip，使用undo + 需要删除的指令

[L3-SW1-Vlanif20]ip address 192.168.20.254 24
//添加新的ip</code></pre>
<p>修改后即可恢复正常状态（如下图所示）：</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-20-014347.png" alt="" width="1106" height="236" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-014347-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-014347-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-014347-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-014347-xl.webp 1024w"></figure>
</div>
<div class="align-left align-center"> </div>
<div class="old-record-id-SEXrdattxoG9eJxTXq4cOjarnSg align-left"><span style="color: #e03e2d;">Step3</span>：设置完成VRRP之后，需要将全部网络进行联通，所以需要在三层设备上配置OSPF路由，首先进行路由器ID设置，设置路由器的ID信息如下</div>
<div class="align-center">
<div data-page-id="B6msdqjeYoAmxTxeIVScaVKBnNg" data-lark-html-role="root" data-docx-has-block-data="true">
<div>
<table class="ace-table" style="width: 100%; height: 194.25px;" data-ace-table-col-widths="332;488"><colgroup><col style="width: 47.2934%;" width="332"><col style="width: 69.5157%;" width="488"></colgroup>
<tbody>
<tr style="height: 48.5625px;">
<td class="align-center" style="height: 48.5625px;" colspan="1" rowspan="1">
<div class="ace-line ace-line old-record-id-K1mtdbXOQoytwFxwGYEcJYzRn0c"><strong>设备</strong></div>
</td>
<td class="align-center" style="height: 48.5625px;" colspan="1" rowspan="1">
<div class="ace-line ace-line old-record-id-KAFsdTWISoyrBixWYhicmHwinQh"><strong>ID</strong></div>
</td>
</tr>
<tr style="height: 48.5625px;">
<td class="align-center" style="height: 48.5625px;" colspan="1" rowspan="1">
<div class="ace-line ace-line old-record-id-Mu1mdMKjfo89YuxsN1McM5qkn8g">L3-AR1</div>
</td>
<td class="align-center" style="height: 48.5625px;" colspan="1" rowspan="1">
<div class="ace-line ace-line old-record-id-XAGMdPpWJoW4ujxY6H9ccwqAncf">1.1.1.1</div>
</td>
</tr>
<tr style="height: 48.5625px;">
<td class="align-center" style="height: 48.5625px;" colspan="1" rowspan="1">
<div class="ace-line ace-line old-record-id-GRi9d3h3yoLpTCxTKtwck0CSnSb">L3-SW1</div>
</td>
<td class="align-center" style="height: 48.5625px;" colspan="1" rowspan="1">
<div class="ace-line ace-line old-record-id-WxMtdPP7poeO0Dx4B4kc7ZhgnOh">2.2.2.2</div>
</td>
</tr>
<tr style="height: 48.5625px;">
<td class="align-center" style="height: 48.5625px;" colspan="1" rowspan="1">
<div class="ace-line ace-line old-record-id-UQYDdnhDHotgg1xtjbgchAdCnpd">L3-SW2</div>
</td>
<td class="align-center" style="height: 48.5625px;" colspan="1" rowspan="1">
<div class="ace-line ace-line old-record-id-Jgu6dmOWPoGLekxwMskcuGtPnYf">3.3.3.3</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="align-center">配置命令如下（这里我以L3-SW1演示）：</div>
<div class="align-center"><figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-19-220218.png" alt="" width="785" height="163" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-220218-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-220218-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-220218-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-220218-xl.webp 1024w"></figure></div>
<pre class="language-cpp line-numbers"><code>[L3-SW1]router id 2.2.2.2
//修改router id</code></pre>
<p class="align-left">至于在L3-AR1，L3-SW1与L3-SW2之间的OSPF部分，我已经在前面的部分说过了，这里我就不在过多赘述了（前面配过的可以跳过此步骤，没配的记得配一下）</p>
<h5 class="align-left align-center">验证环节</h5>
<p class="align-left align-center">这里我使用wireshark抓包工具向你直观的展示VRRP的“起死回生”环节</p>
<p class="align-left">我们首先使用PC1去一直Ping PC3（我使用的是ping + ip地址 + ”-t“命令）来保持PC1一直往PC3发送<a href="https://baike.baidu.com/item/ICMP/572452" target="_blank" rel="noopener noreferrer">ICMP</a>的报文</p>
<p class="align-left">可以看到这里的PC1走的是GE0/0/2口（图中展示了GE0/0/2抓到了来自PC1与PC3之间通讯的ICMP报文，而这个GE0/0/1口则没有，只是普通的VRRP和OSPF的<a href="https://blog.csdn.net/x13262608581/article/details/134025835" target="_blank" rel="noopener noreferrer">多播协议</a>）</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Zhua-Bao-GE02Kou-You-Shu-Ju.png" alt="" width="2450" height="1413" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Zhua-Bao-GE02Kou-You-Shu-Ju-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Zhua-Bao-GE02Kou-You-Shu-Ju-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Zhua-Bao-GE02Kou-You-Shu-Ju-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Zhua-Bao-GE02Kou-You-Shu-Ju-xl.webp 1024w"></figure>
<p class="align-left">接下来，我将这个PC1与PC3通讯的L3-SW2机器给它物理关掉，那么则会发生下图的的情况（由于本人的电脑性能不佳，等待了较长的时间）最终成功等待到了这个L3-SW1的再次通讯</p>
<p class="align-left">可以看到我在下图的这个GE0/0/1口，成功捕捉到了来自于这个VRRP协议再次拉起的PC1于PC3的ICMP的通讯信息的数据包</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-20-014945.png" alt="" width="2400" height="1543" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-014945-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-014945-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-014945-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-014945-xl.webp 1024w"></figure>
<p class="align-center">从以上的实验可简单说明这个VRRP冗余网关协议的作用</p>
<p class="align-center"><strong>至此，VRRP配置的部分就已经成功配置完毕了</strong></p>
<h4 class="align-center">实验三：生成树协议STP&amp;MSTP</h4>
<p class="align-left">在学习这个概念之前，我们需要先简单的了解有关于以下这几个问题的产生原理，才能理解这STP协议和MSTP协议的本质</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-21-093943.png" alt="" width="2199" height="1106" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-093943-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-093943-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-093943-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-093943-xl.webp 1024w"></figure>
<blockquote>
<h5 class="align-left"> Q：网络环路的产生&amp;什么是网络环路？</h5>
<p class="align-left"><strong>A：</strong>网络设备之间物理意义上的形成环形连接，简单来说就是网络设备之间不存在树状结构的网络拓扑，而全是按照环形拓扑所连接的，那这个我们就称之为网络环路（如上图所示<strong>左侧所示为树状结构，右侧为环形结构</strong>）</p>
<h5 class="align-left"> Q：环形网络会导致什么问题？</h5>
<p class="align-left"><strong>A：</strong>网络环路会导致<strong>广播风暴</strong>和交换机的<strong>帧交换表震荡</strong></p>
<h5 class="align-left">Q：什么是生成树协议？</h5>
<p class="align-left"><strong>A：</strong>以太网交换机使用生成树协议STP（Spanning Tree Protocol），可以在<strong>提高网络可靠性的同时又避免环路带来的各种问题</strong></p>
<h5 class="align-left"><strong>Q：什么是生成树算法？</strong></h5>
<p class="align-left"><strong>A：</strong>那顾名思义，前面我们知道了环路没有树形结构，那么这个生成树算法就可以简单理解成<strong>在这个环路的网络中创建一个树形拓扑</strong>，既可以利用环路的备用优势，还可以避免环路的劣势问题</p>
<h5 class="align-left">Q：生成树算法的定义及目标</h5>
<p class="align-left"><strong>A：</strong>生成树算法STA（Spanning Tree Algorithm）是生成树协议STP（Spanning Tree Protocol）的核心。而它的实现目标是：<strong>在包含有物理环路的网络中，构建出一个能够连通全网各节点的树型无环逻辑拓扑</strong></p>
</blockquote>
<p class="align-left align-center"><strong>接下来我来为你展示STP是怎么工作的</strong></p>
<p class="align-left">首先我们线看到下图，这张图表示着有3台PC（分别为命名为H1&amp;2&amp;3），在每台机器的上层都连接着一个交换机，为了保障这3台机器之间能正常通讯，我们会把这3个交换机的连接设置成环路（目的是为了利用环路的优势去创建备用链路），而这个STP协议就是为了防止环路的产生而设置的（而这个STP协议则会在保证线路通畅的同时，暂时阻塞一个用不着的端口，从而实现防止环路的形成）</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-20-171138.png" alt="" width="1245" height="648" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-171138-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-171138-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-171138-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-171138-xl.webp 1024w"></figure>
<p class="align-left">如上图所示，我们在3台交换机上设置了STP生成树协议，可以看出STP协议的工作原理是把交换机C上的一个接口调整成暂时阻塞的状态，来实现保证网络拓扑的树状结构的</p>
<p class="align-left">如下图所示，我们的交换机A的一个端口出现了故障，那么这个STP协议就会立即打开原本阻塞的端口<strong>顶替已经故障的线路</strong>，实现内网的正常通讯</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-20-171214.png" alt="" width="1264" height="660" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-171214-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-171214-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-171214-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-171214-xl.webp 1024w"></figure>
<p class="align-left align-center"> <strong>以上就是STP协议的的简单理解</strong></p>
<p class="align-left">生成树算法的三个步骤：</p>
<ol>
<li class="align-left">“选举”根交换机</li>
<li class="align-left">“选举”根端口</li>
<li class="align-left">“选举”指定端口并阻塞备用端口</li>
</ol>
<p class="align-left">现在我们在之前的那个拓扑里再次添加几个路由器，和一台“傻瓜”交换机（这里的傻瓜不是字面意思，指的是这个交换机不做配置，只是默认当成路由器的集线器使用）组成一个新的网段，并设置成VRRP来实验</p>
<p>由于前面我说过这个VRRP的配置过程了，那我这里只作简要说明了</p>
<p class="align-left">（1）：给L3-AR1添加网口，用于拓展连接（记住，这里新添加的接口是GE4/0/*了，别ip配错了）</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-21-151107.png" alt="" width="2033" height="1229" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-151107-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-151107-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-151107-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-151107-xl.webp 1024w"></figure>
<p class="align-left">（2）：添加&amp;配置新的路由，拓扑如下（改名，配端口ip等基础操作）</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-21-155210.png" alt="" width="2406" height="1397" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-155210-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-155210-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-155210-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-155210-xl.webp 1024w"></figure>
<p class="align-left"><code>*注意点</code>：（重要核对排查信息点已使用方框括起来了）</p>
<p class="align-left">（1）L3-AR1的OSPF要添加一条来自于10.3.3.0网段的记录</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/l3-ar1-area0-ospf.png" alt="" width="620" height="410" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/l3-ar1-area0-ospf-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/l3-ar1-area0-ospf-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/l3-ar1-area0-ospf-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/l3-ar1-area0-ospf-xl.webp 1024w"></figure>
<p class="align-left">（2）新添加的L3-AR2/AR3都要添加OSPF（网段来自10段和172段的）</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-21-161257-2.png" alt="" width="1387" height="393" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-161257-2-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-161257-2-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-161257-2-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-161257-2-xl.webp 1024w"></figure>
<p class="align-left">（3）新添加的这个L3-AR2/3对应的router id分别为4.4.4.4和5.5.5.5（1~3已经被前面的L3-SW1/2&amp;L3-AR1占用了）</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/l3-ar1andar2routerid.png" alt="" width="1759" height="363" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/l3-ar1andar2routerid-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/l3-ar1andar2routerid-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/l3-ar1andar2routerid-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/l3-ar1andar2routerid-xl.webp 1024w"></figure>
<p class="align-left">（4）VRRP设置的时候需要将L3-AR2设置成Master节点，(即这个端口的优先级设置为120）L3-AR3则不需要设置优先级，但是vrrp virtual-ip必须要两个都配置（还需注意vrid的分组）</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/l3-ar2-vrrp-pr-120.png" alt="" width="826" height="374" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/l3-ar2-vrrp-pr-120-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/l3-ar2-vrrp-pr-120-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/l3-ar2-vrrp-pr-120-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/l3-ar2-vrrp-pr-120-xl.webp 1024w"></figure>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/l3-ar2-vrrp-vid.png" alt="" width="822" height="372" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/l3-ar2-vrrp-vid-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/l3-ar2-vrrp-vid-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/l3-ar2-vrrp-vid-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/l3-ar2-vrrp-vid-xl.webp 1024w"></figure>
<p class="align-left">（5）PC3的网关改成VRRP的虚拟ip，这个直接配在L3-AR2/3的GE0/0/2口就行（PC3的地址我配置的默认是172.16.100.1）</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-21-162624-2.png" alt="" width="1544" height="1048" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-162624-2-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-162624-2-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-162624-2-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-162624-2-xl.webp 1024w"></figure>
<p class="align-left">（6）L2-SW3可以不用做任何的设置，直接当成“傻瓜”交换机就行</p>
<p class="align-left">（7）测试是否全网通（我这里使用PC3去Ping pc1&amp;pc2去测试网路连通性）</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/pc3pingpc1andpc2.png" alt="" width="1542" height="1051" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/pc3pingpc1andpc2-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/pc3pingpc1andpc2-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/pc3pingpc1andpc2-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/pc3pingpc1andpc2-xl.webp 1024w"></figure>
<p><strong>可以看到能成功相互通讯，那么即代表成功</strong></p>
<p class="align-left">在掌握了STP的一些基础的概念之后，那么MSTP和STP就很好区分了</p>
<p> </p>
<strong>MSTP 的域概念：</strong>
<div class="container-Uxvbjy md-box-line-break wrapper-GYqxgQ undefined"><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">MSTP 引入了</span><strong style="font-family: var(--editor-font-family); font-size: inherit;">MST域（MST Region）</strong><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);"> 的概念，同一域内的交换机必须配置相同的</span><strong style="font-family: var(--editor-font-family); font-size: inherit;">域名、修订级别和vlan的实例映射关系</strong><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">，否则会被视为不同的域，按<strong>RSTP</strong>的方式处理（RSTP就是STP的快速版本，而MSTP则是在RSTP基础上扩展了多实例功能，因此 MSTP同时具备<strong>“快速收敛”</strong>和<strong>“多 VLAN 灵活控制”</strong>的优势）</span></div>
<div>
<p><strong>MSTP的核心作用：为不同 VLAN 映射的实例指定根桥，实现流量按需转发</strong></p>
</div>
<div> </div>
<div><strong>MSTP相关的实验：</strong></div>
<div> </div>
<div><strong>步骤一：</strong>先进入L3-SW1和L3-SW2的这俩个交换机，配置状态为MSTP</div>
<div><span style="text-align: left; color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">首先在四台交换机上配置MSTP的区域（需要四台设备的参数完全一致，我这里仅在L3-SW1演示）</span></div>
<div><figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-27-215607.png" alt="" width="1292" height="202" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-27-215607-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-27-215607-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-27-215607-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-27-215607-xl.webp 1024w"></figure></div>
</div>
<div class="align-left" data-page-id="B6msdqjeYoAmxTxeIVScaVKBnNg" data-lark-html-role="root" data-docx-has-block-data="false">
<p>然后在L3-SW1和L3-SW2上输入以下的指令</p>
<pre class="language-cpp line-numbers"><code>[L3-SW1]stp region-configuration
//进入MSTP域的配置视图
[L3-SW1-mst-region]region-name huawei
//设置MSTP域名为 huawei（同域设备域名需一致）
[L3-SW1-mst-region]instance 1 vlan 10
//将vlan10映射到生成树实例 1
[L3-SW1-mst-region]instance 2 vlan 20
//将vlan20映射到生成树实例 2
[L3-SW1-mst-region]active region-configuration 
//激活上述MSTP域配置，使其生效</code></pre>
<p><strong>核心作用</strong>：让vlan10/20分别按实例 1、2 独立计算生成树，实现不同vlan的流量负载分担</p>
<p>输入stp region-configuration进入配置界面，使用display this来查看当前配置是否生效，以及复制以下内容，后续有用</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-28-004530-2.png" alt="" width="1244" height="310" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-28-004530-2-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-28-004530-2-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-28-004530-2-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-28-004530-2-xl.webp 1024w"></figure>
<p><strong>步骤二：</strong><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">继续在L3-SW1上和L3-SW2上进行根节点的配置，因为在VRRP中配置了vlan10的Master节点为L3-SW1所以，在配置的时候，将生成树的1区域，在SW1上设置为根节点，将2号区域设置为非根节点</span></p>
<pre class="language-cpp line-numbers"><code>[L3-SW1]stp instance 1 root primary
//设置本交换机为MSTP实例 1 的主根桥（优先级最高）
[L3-SW1]stp instance 2 root secondary
//设置本交换机为MSTP实例 2 的备根桥（优先级次高），主根桥故障时它接替成为实例 2 的根桥</code></pre>
<p>下图为L3-SW1的配置（注意root的顺序，1为主要，2为次要）</p>
<h5><figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-28-010219.png" alt="" width="802" height="197" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-28-010219-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-28-010219-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-28-010219-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-28-010219-xl.webp 1024w"></figure></h5>
<p><code>*细节注意：</code>在L3-SW1上是这样配的，一旦到了L3-SW2可就不是这样了（如下所示，要和L3-SW1对称配）</p>
<pre class="language-cpp line-numbers"><code>[L3-SW2]stp instance 1 root secondary
//设置 1 号区域为非根节点
[L3-SW2]stp instance 2 root primary
//设置 2 号区域为根节点</code></pre>
<p>下图为L3-SW2的配置（注意root的顺序，2为主要，1为次要）</p>
<h5><figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-28-010503.png" alt="" width="785" height="198" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-28-010503-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-28-010503-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-28-010503-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-28-010503-xl.webp 1024w"></figure></h5>
<p><strong>检查配置环节</strong></p>
<p>（1）使用这个PC1去PingPC3，可以Ping通</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/pc1pingpc3_mstp.png" alt="" width="1540" height="1041" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/pc1pingpc3_mstp-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/pc1pingpc3_mstp-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/pc1pingpc3_mstp-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/pc1pingpc3_mstp-xl.webp 1024w"></figure>
<p>（2）查看L3-SW1的stp设置情况，可以看到各个端口都是打开的状态，意味着L3-S我处于根桥，如下图所示</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-28-020020-2.png" alt="" width="1287" height="430" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-28-020020-2-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-28-020020-2-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-28-020020-2-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-28-020020-2-xl.webp 1024w"></figure>
<p>（3）L2-SW1上，查看一下stp的情况，也是可以发现之前设置，也是可以实现PC1的流量走L3-SW1</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-28-021559.png" alt="" width="1273" height="252" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-28-021559-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-28-021559-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-28-021559-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-28-021559-xl.webp 1024w"></figure>
<p>L3-SW2的配置如下</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-28-022422.png" alt="" width="1280" height="255" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-28-022422-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-28-022422-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-28-022422-md.webp 768w ,https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-28-022422-xl.webp 1024w"></figure>
<p>可以看到，这俩个PC都是默认走G0/0/1的上去，而不是GE0/0/2的备用线路</p>
<p class="align-right"><strong>本次内容到此结束，感谢您的观看，谢谢ԅ(¯﹃¯ԅ)</strong></p>
</div>
</div>
            ]]>
        </content>
    </entry>
    <entry>
        <title>网络设备配置实战分析 Part 2</title>
        <author>
            <name>云泽</name>
        </author>
        <link href="https://zeyun.dpdns.org/network_with_huawei_ensp_part2.html"/>
        <id>https://zeyun.dpdns.org/network_with_huawei_ensp_part2.html</id>
            <category term="网络设备配置技术学习笔记"/>

        <updated>2025-12-06T16:45:00+08:00</updated>
            <summary>
                <![CDATA[
                    本项目基于华为的ENSP模拟器实现 我在这里会更加侧重于实践的步骤，至于部分的理论知识，请参考互联网或者Ai 本章的主要讲解的内容如下 拓扑下载：点我下载 ，密码：8hc8 本项目的拓扑如下图所示（可以看到，我划分了很多的网段，还有很多路由，不用慌，我会一步一步的来）&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <ul style="list-style-type: square;">
<li>本项目基于华为的ENSP模拟器实现</li>
<li>我在这里会更加侧重于实践的步骤，至于部分的理论知识，请参考互联网或者Ai</li>
</ul>
<blockquote>
<p>本章的主要讲解的内容如下</p>
<ol style="list-style-type: upper-roman;">
<li>网关的配置</li>
<li>Rip路由&amp;Rip的对端的简单加密</li>
<li>DHCP服务</li>
<li>OSPF路由</li>
<li>Rip路由与OSPF的结合</li>
</ol>
</blockquote>
<p>拓扑下载：<a href="https://wwbte.lanzn.com/b014wwaaja" target="_blank" rel="noopener noreferrer">点我下载</a> ，密码：8hc8</p>
<p>本项目的拓扑如下图所示（可以看到，我划分了很多的网段，还有很多路由，不用慌，我会一步一步的来）</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-07-015236.png" alt="" width="1924" height="1242" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-015236-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-015236-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-015236-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-015236-xl.webp 1024w"></figure>
<p>开始之前，可以输入sys（等同于system-view，为了方便，以下我将会使用sys这个简化后的指令来操作），进入特权模式（就是[huawei]的这个）输入以下指令，从而关闭烦人的操作日志：</p>
<pre class="language-c line-numbers"><code>undo info-center enable </code></pre>
<p>出现以下提示则关闭成功：</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-06-162219.png" alt="" width="696" height="90" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-162219-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-162219-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-162219-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-162219-xl.webp 1024w"></figure>
<p>另外，可以输入以下命令给设备命名，方便管理和以防混淆</p>
<pre class="language-apacheconf line-numbers"><code>sys + 你设备的名称</code></pre>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-06-162524.png" alt="" width="315" height="33" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-162524-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-162524-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-162524-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-162524-xl.webp 1024w"></figure>
<p>上图为我给我的路由器1，命名为AR1的截图</p>
<p>此外，退出特权模式（就是[huawei]的这个），进入用户模式下（就是&lt;huuawei&gt;的这个），输入save，再按照提示输入y，可以随时保存（此操作强烈建议经常做，如遇到ensp模拟器死机的时候，重启设备的时候，保存前的信息不会丢）</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-06-162855.png" alt="" width="1247" height="207" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-162855-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-162855-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-162855-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-162855-xl.webp 1024w"></figure>
<p><strong>以上的操作非必须，但是建议这样做</strong></p>
<h5>I.项目1：给每个网段，配对应的网关</h5>
<p>核心思路：该网关的IP其实就是上层与他连接的路由的IP</p>
<p>例如：我需要给PC1配网关的IP，那么我需要先进入上层的AR1与PC1连接的GE0/0/0口配IP，而这个IP就是PC1的网关IP</p>
<p>代码如下：</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-06-161832.png" alt="" width="901" height="250" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-161832-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-161832-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-161832-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-161832-xl.webp 1024w"></figure>
<pre class="language-apacheconf line-numbers"><code>ip address + IP地址 + 子网掩码（255.255.255.0或24都行）</code></pre>
<p>然后再进入PC1，给他配上网关和对应的IP，记得点击右下角的“应用”才会生效</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-06-164111.png" alt="" width="1940" height="656" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-164111-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-164111-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-164111-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-164111-xl.webp 1024w"></figure>
<p>去在PC1上Ping自己的网关，可以看到能有结果，即可成功（这一步很关键，很多后续的实验未能成功，很有可能就是卡在了这一步）</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-06-164249.png" alt="" width="1520" height="779" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-164249-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-164249-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-164249-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-164249-xl.webp 1024w"></figure>
<p>其他的设备也是如此(基本上连接路由器的PC机)都需要配置这个网关的（当然这也仅限于手动配IP的机器，DHCP自动分发IP的则不用在PC上手动配置网关）</p>
<h5>II.项目2：Rip路由</h5>
<p>（1）首先先配合拓扑图，给对应的网段配网</p>
<p>我这里以我截选的这个来去分析</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-06-170824.png" alt="" width="965" height="142" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-170824-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-170824-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-170824-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-170824-xl.webp 1024w"></figure>
<p>可以看到，我这里截图的是路由器，俩俩之间的网段的网络配置。需要进入所对应的端口来进行配置</p>
<p>比如我这里的最左边的这台路由，我就需要进入GE0/0/1口，去配置对应的IP地址，即为12.1.1.1/24（注意：这里的12.1.1.0是网段，不可俩边都配12.1.1.0/24）</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-06-171805.png" alt="" width="874" height="133" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-171805-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-171805-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-171805-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-171805-xl.webp 1024w"></figure>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-06-171819.png" alt="" width="804" height="85" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-171819-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-171819-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-171819-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-171819-xl.webp 1024w"></figure>
<p>配置完成后，即可尝试着Ping试一下</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-06-172125.png" alt="" width="1151" height="441" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-172125-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-172125-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-172125-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-172125-xl.webp 1024w"></figure>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-06-172035.png" alt="" width="1123" height="430" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-172035-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-172035-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-172035-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-172035-xl.webp 1024w"></figure>
<p>可以看到，能够相互通讯，成功！</p>
<p>以上演示的是AR1和AR2的配置（同样的AR2和AR3，AR3和AR4，AR5和AR6...）也都需要这样的配置</p>
<div data-page-id="B6msdqjeYoAmxTxeIVScaVKBnNg" data-lark-html-role="root" data-docx-has-block-data="false">
<div> </div>
<div class=" old-record-id-NJ2IdVuK0oCsYDxzCEEcET0wnFf">在三个路由器上启用RIP路由，并且设置版本为2</div>
<div> </div>
<div><figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-06-214715.png" alt="" width="794" height="688" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-214715-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-214715-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-214715-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-214715-xl.webp 1024w"></figure></div>
<div>
<p>可以看到，这个AR1的路由涉及了两个网段（192.168.1.0/24和12.1.1.0/24）</p>
<p>（2）那么就需要创建RIP路由，去关联这两个网段</p>
<p>例如我们的这个拓扑图，就有12.1.1.0和192.168.1.0的</p>
<p>语法如下：</p>
<pre class="language-c line-numbers"><code>rip 1
//创建一个rip路由
version 2
//版本设置为2
network 192.168.1.0
network 12.0.0.0
//宣告网段</code></pre>
</div>
</div>
<p><code>*注</code>：这里RIP版本的原因，使用的是有类别路由协议，它的路由更新报文里不带子网掩码，只能按主类网络来发布路由信息，所以配置时得用12.0.0.0而非12.1.1.0，但效果都一样</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-06-220741.png" alt="" width="858" height="312" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-220741-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-220741-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-220741-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-220741-xl.webp 1024w"></figure>
<p>可以看到我在两边都添加了rip的网段，并且可以Ping通这个路由器的端口IP</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-06-220950.png" alt="" width="1070" height="497" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-220950-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-220950-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-220950-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-220950-xl.webp 1024w"></figure>
<p>同理可得，在AR2，AR3....上也是如此，输入两个相邻的网段的IP，即可</p>
<p>最终结果，实现全网互通（这里我用的是PC3去Ping的PC1来进行验证）</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-06-221243.png" alt="" width="2225" height="1169" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-221243-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-221243-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-221243-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-221243-xl.webp 1024w"></figure>
<h5>Rip的对端简单加密：</h5>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-06-231938.png" alt="" width="611" height="202" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-231938-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-231938-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-231938-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-231938-xl.webp 1024w"></figure>
<p>这里演示AR2和AR3的GE0/0/2和GE0/0/2口的端口加密</p>
<p>首先进入AR2的g0/0/2端口，代码示例如下：</p>
<pre class="language-c line-numbers"><code>[AR2]int g0/0/2  //进入AR4的接口
[AR2-GigabitEthernet0/0/2]rip authentication-mode simple cipher 123456  
//配置简单认证，密码123456（密文存储）</code></pre>
<p>可以看到，这里我添加的密码已经转换成密文</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-06-232826.png" alt="" width="1197" height="298" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-232826-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-232826-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-232826-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-232826-xl.webp 1024w"></figure>
<p>看到这，则说明这个AR2的g0/0/2端口已经加密了</p>
<p>我们来使用PC4去Ping PC1验证一下：</p>
<p>我设置了AR2的g0/0/2口的这个Rip密码，但是AR3的g0/0/2没设置，现在我用这个PC4pingPC1，并在AR2和AR3的这两个g0/0/2口抓的包</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-06-233555.png" alt="" width="2879" height="1696" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-233555-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-233555-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-233555-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-233555-xl.webp 1024w"></figure>
<p>可以看到并没有Ping成功，代表着被Rip的密码给拦截了</p>
<p>当给AR3的g0/0/2口添加后这个Rip密码后，则可看到来自PC4的成功Ping请求</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-06-234458.png" alt="" width="1882" height="476" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-234458-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-234458-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-234458-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-234458-xl.webp 1024w"></figure>
<h5>III.项目3：DHCP拓展模块</h5>
<p>我们在此基础之上，给PC4创建一个DHCP服务，使得其可以自行获取IP地址</p>
<p>首先先进入AR4，去配置DHCP服务</p>
<p>输入以下代码：</p>
<pre class="language-c line-numbers"><code>[AR4]ip pool pc4pool  //创建地址池，命名为pc4pool
[AR4-ip-pool-pc4pool]network 192.168.6.0 mask 255.255.255.0  //配置地址池网段
[AR4-ip-pool-pc4pool]gateway-list 192.168.6.1  //配置网关（即AR4的GE 0/0/1接口IP）</code></pre>
<p>回到PC4，打开DHCP选项</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-06-225006.png" alt="" width="1153" height="343" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-225006-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-225006-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-225006-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-225006-xl.webp 1024w"></figure>
<p>在终端中输入：<code>ipconfig /renew</code>来查看这个更新的信息</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-06-230419.png" alt="" width="1121" height="471" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-230419-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-230419-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-230419-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-230419-xl.webp 1024w"></figure>
<p>可以看到，已经获取到了IP地址</p>
<p>尝试Ping一下PC1的IP，当然也可以Ping通</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-06-230630.png" alt="" width="1777" height="1021" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-230630-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-230630-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-230630-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-06-230630-xl.webp 1024w"></figure>
<p>如果Ping不通，有问题，先尝试Ping一下自己网关，然后就是回头看看这个配RIP路由时候的，是不是两两之间的配置有一边network没配上</p>
<h5>IV.项目4：OSPF路由</h5>
<p>在此基础之上，我们现在手动给这个AR2添加上这个拓展模块（此操作会使得AR2断电，一定要先保存！！！）</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-07-000932.png" alt="" width="1240" height="207" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-000932-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-000932-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-000932-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-000932-xl.webp 1024w"></figure>
<p>先进入用户视图&lt;huawei&gt;（也就是特权模式[huawei]下，输入q即可切换用户视图）</p>
<p>输入save，保存当前配置，否则会丢失配置</p>
<p>其次，右击AR2，鼠标点击“设置”，找到下面的“4GEW-T”的拓展模块，放入到这个AR3260里面</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Tian-Jia-4geKou.png" alt="" width="2008" height="1225" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Tian-Jia-4geKou-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Tian-Jia-4geKou-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Tian-Jia-4geKou-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Tian-Jia-4geKou-xl.webp 1024w"></figure>
<p>随后再次点击”启动设备“，将AR2启动起来</p>
<p>从左侧拖入两台AR3260和一台PC机，并使用Copper线连接起来</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-07-001904.png" alt="" width="2879" height="1703" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-001904-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-001904-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-001904-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-001904-xl.webp 1024w"></figure>
<p>给这个新添加的两个网段（AR2和AR5我设置的是45.1.1.0/24网段，AR5和AR6我设置的56.1.1.0/24网段，AR6和PC5我设置的192.168.20.0/24网段）并且在这个我使用颜色框选的这个区域配置OSPF路由，使得在我所框选的区域内，可以实现设备互通</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-07-003426.png" alt="" width="1694" height="1195" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-003426-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-003426-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-003426-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-003426-xl.webp 1024w"></figure>
<p>配置OSPF的步骤如下：</p>
<div data-page-id="B6msdqjeYoAmxTxeIVScaVKBnNg" data-lark-html-role="root" data-docx-has-block-data="false">
<div class=" old-record-id-Uy71dLcOmoXvAOxuxfBc3AgHnBf">（1）首先进行基础配置，在所有终端上关闭Debug信息和对设备进行重新命名（AR5和AR6都都是如此），此处为在AR5上操作的截图</div>
<div><figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-07-003143.png" alt="" width="846" height="307" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-003143-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-003143-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-003143-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-003143-xl.webp 1024w"></figure></div>
</div>
<div data-page-id="B6msdqjeYoAmxTxeIVScaVKBnNg" data-lark-html-role="root" data-docx-has-block-data="false">
<div> </div>
<div class=" old-record-id-AhxIdabIBoPSXQxVpHcc7I3PnLc">（2）对所有的路由器接口进行配置IP，并对终端进行地址的配置（此处仅演示了AR5上的截图）</div>
<div><figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-07-003749.png" alt="" width="716" height="72" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-003749-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-003749-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-003749-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-003749-xl.webp 1024w"></figure></div>
<div> </div>
<div><code>*注</code>：不要忘记了这个AR2与以下设备连接的GE4/0/0端口也需要配端口IP，这个很重要，千万不能忘记和漏掉（通常情况下，我们习惯将上层设备配xx.xx.xx.1，下层配xx.xx.xx.2）</div>
<div> </div>
<div>
<div data-page-id="B6msdqjeYoAmxTxeIVScaVKBnNg" data-lark-html-role="root" data-docx-has-block-data="false">
<div class=" old-record-id-ZdM6dTJJhoxCWXxHtPAcb5D8nnf">（3）分别在<strong>AR2,AR5,AR6</strong>上配置OSPF，分别进行创建OSPF中路由器的ID，然后设置OSPF的区域，以及宣告自身的网络（此处演示了AR6的配置过程）</div>
<div><figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-07-005322.png" alt="" width="905" height="266" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-005322-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-005322-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-005322-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-005322-xl.webp 1024w"></figure></div>
<div><code>*注</code>：不要忘记了这个AR2与以下设备连接的GE4/0/0端口也需要配OSPF，同上！这个很重要，千万不能忘记和漏掉</div>
<div> </div>
</div>
</div>
<div>此处的network网段宣告指的是，与这个路由器所关连的网段，这里是AR6关联的上层的56.1.1.0/24和下层的192.168.20.1/24网段，示意图如下：</div>
<div><figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-07-005725-2.png" alt="" width="516" height="411" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-005725-2-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-005725-2-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-005725-2-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-005725-2-xl.webp 1024w"></figure></div>
</div>
<p>验证配置：（我这里使用PC5和AR6，去PingGE0/0/0口的45.1.1.2，发现可以Ping通，则代表已经实现配置的OSPF的<span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">网络全部连通</span><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">）</span></p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-07-010132.png" alt="" width="2879" height="1698" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-010132-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-010132-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-010132-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-010132-xl.webp 1024w"></figure>
<h5>V.项目5：Rip路由与OSPF的结合</h5>
<p>如果在此基础之上，直接使用PC5去Ping PC1你会发现这根本Ping不通</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-07-010817.png" alt="" width="1041" height="467" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-010817-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-010817-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-010817-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-010817-xl.webp 1024w"></figure>
<p>因为这个刚加入进来的这个OSPF以及它底下的所有设备（AR5,AR6,PC5）都没有与之前配置的Rip联动</p>
<p>可以输入以下指令，实现Rip与OSPF的互通</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-07-011337.png" alt="" width="520" height="200" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-011337-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-011337-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-011337-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-011337-xl.webp 1024w"></figure>
<p>其实原理很简单，先进入Rip 1宣告之前创建的OSPF 1，再进入OSPF 1宣告之前创建的Rip 1就行了</p>
<p>以下是验证OSPF 1的PC5，去Ping跨网段且位于Rip 1的PC1，成功的截图（此外，全网也互通了）</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/34/Ping-Mu-Jie-Tu-2025-12-07-011906.png" alt="" width="2356" height="1339" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-011906-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-011906-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-011906-md.webp 768w ,https://zeyun.dpdns.org/media/posts/34/responsive/Ping-Mu-Jie-Tu-2025-12-07-011906-xl.webp 1024w"></figure>
<p class="align-center">那么至此，你已经成功掌握以上的所有内容</p>
<p class="align-center">感谢您的阅读，您的肯定是我更新的最大动力(/≧▽≦)/</p>
<p class="align-center">此外，实战分析 Part 3 已经上线，欢迎访问(‾◡◝)</p>
<p class="align-center"><a href="https://zeyun.dpdns.org/network_with_huawei_ensp_part3.html" target="_blank" rel="noopener noreferrer">点我跳转</a></p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Apple Music 导入音乐</title>
        <author>
            <name>云泽</name>
        </author>
        <link href="https://zeyun.dpdns.org/import_yourmusic_to_applemusic.html"/>
        <id>https://zeyun.dpdns.org/import_yourmusic_to_applemusic.html</id>
            <category term="科技分享"/>

        <updated>2025-11-27T23:10:55+08:00</updated>
            <summary>
                <![CDATA[
                    1.下载音频格式转换工具 下载 MHAudioConverter 音频工具：点我下载 密码：6npq&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <h4>1.下载音频格式转换工具</h4>
<ul style="list-style-type: square;">
<li>下载 <span class="f_tpspan f_tpspannow">MHAudioConverter 音频工具：<a href="https://wwve.lanzn.com/b014wvf02h" target="_blank" rel="noopener noreferrer">点我下载</a></span></li>
<li>密码：6npq</li>
</ul>
<h4>2.应用推荐设置如图（注意文件保存路径）</h4>
<h6>（因此软件不支持中文显示，我这里换成类似的日文做演示）</h6>
<h4><figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/33/Zhuan-Huan-Cao-Zuo.png" alt="" width="1495" height="879" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/33/responsive/Zhuan-Huan-Cao-Zuo-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/33/responsive/Zhuan-Huan-Cao-Zuo-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/33/responsive/Zhuan-Huan-Cao-Zuo-md.webp 768w ,https://zeyun.dpdns.org/media/posts/33/responsive/Zhuan-Huan-Cao-Zuo-xl.webp 1024w"></figure></h4>
<h4>3.拖入待转换音频文件</h4>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/33/Ping-Mu-Jie-Tu-2025-11-27-230738.png" alt="" width="988" height="858" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/33/responsive/Ping-Mu-Jie-Tu-2025-11-27-230738-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/33/responsive/Ping-Mu-Jie-Tu-2025-11-27-230738-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/33/responsive/Ping-Mu-Jie-Tu-2025-11-27-230738-md.webp 768w ,https://zeyun.dpdns.org/media/posts/33/responsive/Ping-Mu-Jie-Tu-2025-11-27-230738-xl.webp 1024w"></figure>
<p>拖入文件后，会如下图所示</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/33/Ping-Mu-Jie-Tu-2025-11-27-231300.png" alt="" width="993" height="858" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/33/responsive/Ping-Mu-Jie-Tu-2025-11-27-231300-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/33/responsive/Ping-Mu-Jie-Tu-2025-11-27-231300-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/33/responsive/Ping-Mu-Jie-Tu-2025-11-27-231300-md.webp 768w ,https://zeyun.dpdns.org/media/posts/33/responsive/Ping-Mu-Jie-Tu-2025-11-27-231300-xl.webp 1024w"></figure>
<h4>4.双击待转换的音频文件</h4>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/33/Ping-Mu-Jie-Tu-2025-11-27-231328.png" alt="" width="987" height="864" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/33/responsive/Ping-Mu-Jie-Tu-2025-11-27-231328-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/33/responsive/Ping-Mu-Jie-Tu-2025-11-27-231328-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/33/responsive/Ping-Mu-Jie-Tu-2025-11-27-231328-md.webp 768w ,https://zeyun.dpdns.org/media/posts/33/responsive/Ping-Mu-Jie-Tu-2025-11-27-231328-xl.webp 1024w"></figure>
<p>可以看到完成了格式转换，点击右侧的放大镜，就可打开文件位置</p>
<h4>5.打开iTuns</h4>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/33/Ping-Mu-Jie-Tu-2025-11-27-231715.png" alt="" width="429" height="539" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/33/responsive/Ping-Mu-Jie-Tu-2025-11-27-231715-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/33/responsive/Ping-Mu-Jie-Tu-2025-11-27-231715-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/33/responsive/Ping-Mu-Jie-Tu-2025-11-27-231715-md.webp 768w ,https://zeyun.dpdns.org/media/posts/33/responsive/Ping-Mu-Jie-Tu-2025-11-27-231715-xl.webp 1024w"></figure>
<p>点击“最近添加”，将文件拖入</p>
<p>即可看到有一个新的“未知专辑”</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/33/Zhuan-Ji-Xin-Xi.png" alt="" width="598" height="621" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/33/responsive/Zhuan-Ji-Xin-Xi-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/33/responsive/Zhuan-Ji-Xin-Xi-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/33/responsive/Zhuan-Ji-Xin-Xi-md.webp 768w ,https://zeyun.dpdns.org/media/posts/33/responsive/Zhuan-Ji-Xin-Xi-xl.webp 1024w"></figure>
<p>之后的歌曲信息等内容自己按需填写就行（歌词导入也是同理，只不过没有滚动效果）</p>
<p>打开手机上的Apple Music也可以看到，成功同步</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/33/shoujijieruapplemusic.PNG" alt="" width="750" height="1294" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/33/responsive/shoujijieruapplemusic-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/33/responsive/shoujijieruapplemusic-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/33/responsive/shoujijieruapplemusic-md.webp 768w ,https://zeyun.dpdns.org/media/posts/33/responsive/shoujijieruapplemusic-xl.webp 1024w"></figure>
<blockquote>
<p>写在最后： </p>
<p>建议单独创一个播放列表，将所有导入的音乐备份一份到这个列表中</p>
<p>我的个人建议是：导入的音乐都下载下来，有时候这个Apple Music服务器，会经常抽风，从而导致自己上传的歌听不了</p>
<p>所以保存一份在本地是一个不错的选择<br><br></p>
</blockquote>
<p class="align-center">The end</p>
<p class="align-center">下一篇见 ^o^</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>屏蔽Edge更新&amp;降级</title>
        <author>
            <name>云泽</name>
        </author>
        <link href="https://zeyun.dpdns.org/edge_noupdate.html"/>
        <id>https://zeyun.dpdns.org/edge_noupdate.html</id>
            <category term="科技分享"/>

        <updated>2025-11-23T02:22:35+08:00</updated>
            <summary>
                <![CDATA[
                    以下操作需要确保你当前的系统为win10/win11专业版及以上，否则无效 屏蔽Edge更新方法一 使用Windows内置防火墙禁用Edge更新 stp1：打开文件资源管理器，找到默认路径C:\Program Files&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <h5 class="align-center">以下操作需要确保你当前的系统为win10/win11专业版及以上，否则无效</h5>
<h2 class="align-center">屏蔽Edge更新方法一</h2>
<p class="align-center">使用Windows内置防火墙禁用Edge更新</p>
<p>stp1：打开文件资源管理器，找到默认路径<code>C:\Program Files (x86)\Microsoft\EdgeUpdate</code></p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/32/Ping-Mu-Jie-Tu-2025-11-23-014517.png" alt="" width="2119" height="722" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-014517-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-014517-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-014517-md.webp 768w ,https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-014517-xl.webp 1024w"></figure>
<p>stp2：鼠标右击下图的这个文件图标，点击复制文件地址</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/32/Ping-Mu-Jie-Tu-2025-11-23-015130.png" alt="" width="957" height="975" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-015130-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-015130-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-015130-md.webp 768w ,https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-015130-xl.webp 1024w"></figure>
<p> </p>
<p>stp3：按下windows徽标，搜索CMD，<strong>以管理员身份运行</strong>CMD</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/32/Ping-Mu-Jie-Tu-2025-11-23-015246.png" alt="" width="1517" height="1421" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-015246-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-015246-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-015246-md.webp 768w ,https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-015246-xl.webp 1024w"></figure>
<p>stp4：复制以下代码，然后点击鼠标右键，粘贴刚刚的复制的路径（cmd中是右击鼠标粘贴）</p>
<pre class="language-python line-numbers"><code>netsh advfirewall firewall add rule name="Disable Edge Update" dir=out action=block program= 你的文件路径
#将“你的文件路径“替换成你刚才复制的内容</code></pre>
<p>然后再按下回车，成功后终端会显示“成功”字样</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/32/Ping-Mu-Jie-Tu-2025-11-23-020838.png" alt="" width="1920" height="133" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-020838-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-020838-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-020838-md.webp 768w ,https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-020838-xl.webp 1024w"></figure>
<p>打开Edge，可以看到成功将Edge禁止联网更新了</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/32/Ping-Mu-Jie-Tu-2025-11-23-022648.png" alt="" width="1755" height="426" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-022648-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-022648-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-022648-md.webp 768w ,https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-022648-xl.webp 1024w"></figure>
<p>如果第一个不行，就试试以下的这个方法二（如果你担心后面还会悄咪咪的更新，那也可以跟着下面接着做）</p>
<p class="align-center">想要直接降级的，可跳过方法二，看后面的安装部分</p>
<h2 class="align-center">屏蔽Edge更新方法二</h2>
<p><code>*注</code>：以下的操作可能会影响到其他的应用，还请注意</p>
<p>stp1：打开设置→网络和Internet→属性（good wifi是我的wifi名称，每个人的不一样）→按流量计费，打开这个</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/32/An-Liu-Liang-Ji-Fei-2.png" alt="" width="2087" height="1037" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/32/responsive/An-Liu-Liang-Ji-Fei-2-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/32/responsive/An-Liu-Liang-Ji-Fei-2-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/32/responsive/An-Liu-Liang-Ji-Fei-2-md.webp 768w ,https://zeyun.dpdns.org/media/posts/32/responsive/An-Liu-Liang-Ji-Fei-2-xl.webp 1024w"></figure>
<p>stp2：打开Edge，设置→关于Edge→通过流量计费，打开这个开关</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/32/Ping-Mu-Jie-Tu-2025-11-23-032205.png" alt="" width="1620" height="129" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-032205-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-032205-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-032205-md.webp 768w ,https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-032205-xl.webp 1024w"></figure>
<p class="align-center">至此，你已经成功屏蔽Edge更新</p>
<p>stp1：下载官方的Edge安装包：<a href="https://www.microsoft.com/en-gb/edge/business/download?form=MA13H4" target="_blank" rel="noopener noreferrer">点我跳转</a></p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/32/Ping-Mu-Jie-Tu-2025-11-23-023718.png" alt="" width="2711" height="1028" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-023718-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-023718-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-023718-md.webp 768w ,https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-023718-xl.webp 1024w"></figure>
<p><strong>下载后不要双击安装，请按照以下来操作</strong></p>
<p>stp2：复制你自己的下载的文件路径（你的位置肯能和我的不一样，那是因为我是自行移动了文件位置，如下如所示）</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/32/Ping-Mu-Jie-Tu-2025-11-23-024156.png" alt="" width="1555" height="550" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-024156-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-024156-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-024156-md.webp 768w ,https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-024156-xl.webp 1024w"></figure>
<p>stp2：依旧以<strong>管理员身份运行</strong>CMD（如果你上一个窗口没关，可以继续操作）</p>
<p>stp3：使用以下的命令，进入下载的安装包的目录</p>
<pre class="language-python line-numbers"><code>cd 你的文件目录

#例如，我的是C:\Program Files (x86)\Microsoft\Edge
#那就cd C:\Program Files (x86)\Microsoft\Edge</code></pre>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/32/Ping-Mu-Jie-Tu-2025-11-23-024618.png" alt="" width="999" height="279" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-024618-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-024618-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-024618-md.webp 768w ,https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-024618-xl.webp 1024w"></figure>
<p>stp4：输入以下的代码</p>
<pre class="language-apacheconf line-numbers"><code>msiexec /I MicrosoftEdgeEnterpriseX64.msi ALLOWDOWNGRADE=1</code></pre>
<p class="align-center">安装完毕后，可以看到，你的Edge已经成功降级了</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/32/Ping-Mu-Jie-Tu-2025-11-23-031250.png" alt="" width="1808" height="655" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-031250-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-031250-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-031250-md.webp 768w ,https://zeyun.dpdns.org/media/posts/32/responsive/Ping-Mu-Jie-Tu-2025-11-23-031250-xl.webp 1024w"></figure>
<p class="align-center">The END</p>
<p class="align-center">感谢您的阅读，下一篇再见（￣︶￣）↗　</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>数据库基础入门指南 Part 3</title>
        <author>
            <name>云泽</name>
        </author>
        <link href="https://zeyun.dpdns.org/my_sql_part3.html"/>
        <id>https://zeyun.dpdns.org/my_sql_part3.html</id>
            <category term="数据库学习笔记"/>

        <updated>2025-11-19T21:59:27+08:00</updated>
            <summary>
                <![CDATA[
                    前提环境准备说明 本文所有题目基于以下两张核心表（就是我在 Part 2 里须要copy的那张表）&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <h2 class="header-iWP5WJ auto-hide-last-sibling-br align-center">前提环境准备说明</h2>
<div class="auto-hide-last-sibling-br paragraph-pP9ZLC paragraph-element br-paragraph-space align-center">本文所有题目基于以下两张核心表（就是我在 Part 2 里须要copy的那张表）</div>
<div class="align-center"><a href="https://zeyun.dpdns.org/my_sql_part2.html" target="_blank" rel="noopener noreferrer">点我跳转 <strong>Part 2</strong></a></div>
<div> </div>
<h5 class="align-center">表格内容回顾</h5>
<ul class="auto-hide-last-sibling-br">
<li><code>product_series</code>（产品系列表）：存储产品分类（如 iPhone Standard、iPad Pro），核心字段<code>series_id</code>（主键）、<code>series_name</code>（系列名称）、<code>product_type</code>（产品类型：iPhone/iPad）</li>
<li><code>products</code>（产品详情表）：存储具体型号参数，核心字段<code>product_id</code>（主键）、<code>model_name</code>（型号名称）、<code>release_year</code>（发布年份）、<code>series_id</code>（外键，关联系列表）、<code>screen_size_inch</code>（屏幕尺寸）等</li>
<li>模拟扩展表<code>sales</code>（产品销量表）：用于多表关联练习，字段含<code>sale_id</code>（主键）、<code>product_id</code>（关联产品表）、<code>sale_num</code>（销量）、<code>sale_year</code>（销售年份）</li>
</ul>
<h3 class="header-iWP5WJ auto-hide-last-sibling-br">题目 1：使用 USING 语法查询产品型号 + 系列信息</h3>
<h4 class="header-iWP5WJ auto-hide-last-sibling-br">题目要求：</h4>
<div class="auto-hide-last-sibling-br paragraph-pP9ZLC paragraph-element br-paragraph-space">用 USING 语法查询所有产品的型号名称（中文别名 “产品型号”）、系列名称（中文别名 “所属系列”）、产品类型（中文别名 “产品类型”）</div>
<h6><strong>思路参考：</strong></h6>
<div>
<pre class="language-sql line-numbers"><code>--语法格式
SELECT 
  表1别名.字段1 AS 中文别名1,
  表2别名.字段2 AS 中文别名2,
  表2别名.字段3 AS 中文别名3
FROM 表1 表1别名
INNER JOIN 表2 表2别名
USING(关联字段);  -- 仅当两张表的关联字段名称完全一致时可用USING</code></pre>
</div>
<h6><strong>答案如下：</strong></h6>
<div>
<pre class="language-sql line-numbers"><code>SELECT 
  p.model_name AS 产品型号,
  ps.series_name AS 所属系列,
  ps.product_type AS 产品类型
FROM products p
INNER JOIN product_series ps
USING(series_id);  -- USING语法：关联字段在两张表中名称相同（均为series_id），可简化写法
</code></pre>
</div>
<div>
<h4 class="header-iWP5WJ auto-hide-last-sibling-br">含义解释</h4>
<ul class="auto-hide-last-sibling-br">
<li><code>USING(series_id)</code>是内连接的简化写法，当两张表的关联字段名称完全相同时（此处均为<code>series_id</code>），可替代<code>ON p.series_id = ps.series_id</code>，让代码更简洁</li>
<li>例如查询结果会同时显示 “iPhone 15” 对应的 “Standard” 系列和 “iPhone” 类型，“iPad Pro M5” 对应的 “Pro” 系列和 “iPad” 类型</li>
<li>作用：在关联字段同名时简化连接条件，同时保留内连接 “只匹配关联字段相等的数据” 的核心逻辑</li>
</ul>
<h4 class="header-iWP5WJ auto-hide-last-sibling-br">核心知识点</h4>
<ol class="auto-hide-last-sibling-br">
<li>USING 语法的适用场景（关联字段名称相同）</li>
<li>表别名与字段别名的使用（简化代码 + 优化结果可读性）</li>
</ol>
</div>
<div> </div>
<div>
<h3 class="header-iWP5WJ auto-hide-last-sibling-br">题目 2：查询屏幕尺寸≥10 英寸的 iPad Pro 产品</h3>
<h4 class="header-iWP5WJ auto-hide-last-sibling-br">题目要求</h4>
<div class="auto-hide-last-sibling-br paragraph-pP9ZLC paragraph-element br-paragraph-space">查询屏幕尺寸≥10 英寸的 iPad Pro 系列产品，显示型号名称（“产品型号”）、屏幕尺寸（“屏幕尺寸 (英寸)”）、存储选项（“存储版本”），按屏幕尺寸升序排序</div>
<div>
<h6><strong>思路参考：</strong></h6>
</div>
</div>
<div>
<pre class="language-sql line-numbers"><code>--语法格式如下
SELECT 
  表1别名.字段1 AS 中文别名1,
  表1别名.字段2 AS 中文别名2,
  表1别名.字段3 AS 中文别名3
FROM 表1 表1别名
INNER JOIN 表2 表2别名
ON 表1别名.关联字段 = 表2别名.关联字段
WHERE 表2别名.筛选字段1 = '条件值1'
AND 表2别名.筛选字段2 = '条件值2'
AND 表1别名.筛选字段3 &gt;= 数值条件
ORDER BY 表1别名.排序字段 ASC;</code></pre>
<h6><strong>答案如下：</strong></h6>
</div>
<div>
<pre class="language-sql line-numbers"><code>SELECT 
  p.model_name AS 产品型号,
  p.screen_size_inch AS 屏幕尺寸(英寸),
  p.storage_options AS 存储版本
FROM products p
INNER JOIN product_series ps
ON p.series_id = ps.series_id
WHERE ps.product_type = 'iPad'  -- 筛选“iPad”类型
AND ps.series_name = 'Pro'    -- 筛选“Pro”系列
AND p.screen_size_inch &gt;= 10  -- 筛选屏幕尺寸≥10英寸
ORDER BY p.screen_size_inch ASC;  -- 按屏幕尺寸升序（ASC可省略，默认升序）</code></pre>
</div>
<div>
<h4 class="header-iWP5WJ auto-hide-last-sibling-br">含义解释</h4>
<ul class="auto-hide-last-sibling-br">
<li>先通过<code>ON p.series_id = ps.series_id</code>关联两张表，确保每个产品都能匹配到对应的系列信息</li>
<li>再通过<code>WHERE</code>子句的三个条件精准筛选：只保留 “iPad 类型”“Pro 系列” 且 “屏幕≥10 英寸” 的数据，例如 “iPad Pro 11-inch (2018)”“iPad Pro 12.9-inch (3rd gen, 2018)” 等型号</li>
<li>最后用<code>ORDER BY p.screen_size_inch ASC</code>按屏幕尺寸从小到大排序，方便对比不同型号的屏幕差异</li>
<li>作用：实现 “多条件精准筛选 + 有序展示”，满足 “找特定规格产品” 的业务需求</li>
</ul>
<h4 class="header-iWP5WJ auto-hide-last-sibling-br">核心知识点</h4>
<ol class="auto-hide-last-sibling-br">
<li>多条件筛选（AND 连接多个过滤条件）</li>
<li>数值比较条件（≥等运算符的使用）</li>
<li>排序方向（ASC 升序的应用）</li>
</ol>
</div>
<div> </div>
<div>
<h3 class="header-iWP5WJ auto-hide-last-sibling-br">题目 3：查询 2020 年后发布的产品（含型号、系列、初始系统、类型）</h3>
<h4 class="header-iWP5WJ auto-hide-last-sibling-br">题目要求</h4>
<div class="auto-hide-last-sibling-br paragraph-pP9ZLC paragraph-element br-paragraph-space">查询 2020 年及以后发布的所有产品，显示型号名称（“产品型号”）、系列名称（“所属系列”）、初始系统（“初始操作系统”）、产品类型（“产品类型”），按发布年份降序排列</div>
<div> </div>
<div class="auto-hide-last-sibling-br paragraph-pP9ZLC paragraph-element br-paragraph-space"><strong style="font-family: var(--font-base); font-size: 1em; letter-spacing: var(--letter-spacing);">思路参考：</strong></div>
<div>
<pre class="language-sql line-numbers"><code>--语法格式如下
SELECT 
  表1别名.字段1 AS 中文别名1,
  表2别名.字段2 AS 中文别名2,
  表1别名.字段3 AS 中文别名3,
  表2别名.字段4 AS 中文别名4
FROM 表1 表1别名
INNER JOIN 表2 表2别名
ON 表1别名.关联字段 = 表2别名.关联字段
WHERE 表1别名.时间字段 &gt;= 年份条件
ORDER BY 表1别名.时间字段 DESC;</code></pre>
<h6><strong>答案如下：</strong></h6>
</div>
</div>
<div>
<pre class="language-sql line-numbers"><code>SELECT 
  p.model_name AS 产品型号,
  ps.series_name AS 所属系列,
  p.initial_os AS 初始操作系统,
  ps.product_type AS 产品类型
FROM products p
INNER JOIN product_series ps
ON p.series_id = ps.series_id
WHERE p.release_year &gt;= 2020  -- 筛选2020年后发布的产品
ORDER BY p.release_year DESC;  -- 按发布年份倒序（最新产品在前）</code></pre>
</div>
<div>
<h4 class="header-iWP5WJ auto-hide-last-sibling-br">含义解释</h4>
<ul class="auto-hide-last-sibling-br">
<li>关联表后，通过<code>WHERE p.release_year &gt;= 2020</code>筛选出 2020 年及之后发布的产品，例如 “iPhone 12”“iPad Air 4” 等</li>
<li>查询结果包含型号、系列、初始系统和产品类型，相当于 “一站式获取产品的基础信息 + 分类信息”</li>
<li><code>ORDER BY p.release_year DESC</code>让最新发布的产品（如 2025 年的 “iPhone 17”）排在最前面，符合 “关注新品” 的常规需求</li>
<li>作用：按时间范围筛选数据，并整合多维度信息，便于快速了解产品迭代情况</li>
</ul>
<h4 class="header-iWP5WJ auto-hide-last-sibling-br">核心知识点</h4>
<ol class="auto-hide-last-sibling-br">
<li>时间条件筛选（年份字段的比较）</li>
<li>多字段提取（整合不同表的关键信息）</li>
<li>降序排序（DESC 在时间类数据中的应用）</li>
</ol>
</div>
<div> </div>
<div>
<h3 class="header-iWP5WJ auto-hide-last-sibling-br">题目 4：多表内连接（模拟销量表查询 2022 年高销量产品）</h3>
<h4 class="header-iWP5WJ auto-hide-last-sibling-br">题目要求</h4>
<div class="auto-hide-last-sibling-br paragraph-pP9ZLC paragraph-element br-paragraph-space">新增 “产品销量表（sales）”，字段：sale_id (主键自增)、product_id (关联产品表)、sale_num (销量)、sale_year (销售年份)；查询 2022 年销量≥1000 的产品，显示型号名称（“产品型号”）、系列名称（“所属系列”）、产品类型（“产品类型”）、销量（“2022 年销量”）</div>
<h6><strong>数据补充：</strong></h6>
<div>
<pre class="language-sql line-numbers"><code>-- 先模拟创建销量表并插入测试数据（实际使用时执行）
CREATE TABLE IF NOT EXISTS sales (
  sale_id INT PRIMARY KEY AUTO_INCREMENT,
  product_id INT NOT NULL,
  sale_num INT NOT NULL,
  sale_year YEAR NOT NULL,
  FOREIGN KEY (product_id) REFERENCES products(product_id)
);
INSERT INTO sales (product_id, sale_num, sale_year) VALUES
(1, 1200, 2022), (5, 1500, 2022), (10, 900, 2022), (15, 2000, 2022);</code></pre>
</div>
<div><strong style="font-family: var(--font-base); font-size: 1em; letter-spacing: var(--letter-spacing);">思路参考：</strong></div>
</div>
<div>
<pre class="language-sql line-numbers"><code>SELECT 
  表1别名.字段1 AS 中文别名1,
  表2别名.字段2 AS 中文别名2,
  表2别名.字段3 AS 中文别名3,
  表3别名.字段4 AS 中文别名4
FROM 表1 表1别名
INNER JOIN 表2 表2别名 ON 表1别名.关联字段1 = 表2别名.关联字段1
INNER JOIN 表3 表3别名 ON 表1别名.关联字段2 = 表3别名.关联字段2
WHERE 表3别名.筛选字段1 = 条件值1
AND 表3别名.筛选字段2 &gt;= 条件值2;</code></pre>
<h6><strong>答案如下：</strong></h6>
</div>
<div>
<pre class="language-sql line-numbers"><code>-- 多表连接查询SQL
SELECT 
  p.model_name AS 产品型号,
  ps.series_name AS 所属系列,
  ps.product_type AS 产品类型,
  s.sale_num AS 2022年销量
FROM products p
INNER JOIN product_series ps ON p.series_id = ps.series_id  -- 先关联产品表和系列表
INNER JOIN sales s ON p.product_id = s.product_id          -- 再关联销量表
WHERE s.sale_year = 2022  -- 筛选2022年销量数据
AND s.sale_num &gt;= 1000; -- 筛选销量≥1000的产品</code></pre>
</div>
<div>
<h4 class="header-iWP5WJ auto-hide-last-sibling-br">含义解释</h4>
<ul class="auto-hide-last-sibling-br">
<li>这是三张表的关联查询：先通过<code>products</code>与<code>product_series</code>关联获取产品分类信息，再通过<code>products</code>与<code>sales</code>关联获取销量数据，形成 “产品详情→分类→销量” 的完整链条</li>
<li>筛选条件<code>s.sale_year = 2022 AND s.sale_num &gt;= 1000</code>确保只显示 2022 年销量超 1000 的产品，例如假设 “iPhone 14” 在 2022 年销量 1500，就会被选中</li>
<li>作用：实现跨表数据整合，解决 “哪些高销量产品属于什么系列” 这类复杂业务问题</li>
</ul>
<h4 class="header-iWP5WJ auto-hide-last-sibling-br">核心知识点</h4>
<ol class="auto-hide-last-sibling-br">
<li>多表内连接语法（连续使用 INNER JOIN 关联多张表）</li>
<li>多表关联条件（每张表需明确与其他表的关联字段）</li>
<li>基于业务场景的多表数据整合</li>
</ol>
</div>
<div> </div>
<div>
<h3 class="header-iWP5WJ auto-hide-last-sibling-br">题目 5：统计每个 iPhone 系列的产品总数</h3>
<h4 class="header-iWP5WJ auto-hide-last-sibling-br">题目要求</h4>
<div class="auto-hide-last-sibling-br paragraph-pP9ZLC paragraph-element br-paragraph-space">统计每个 iPhone 系列的产品数量，显示系列名称（“iPhone 系列”）、产品总数（“产品数量”），按产品数量降序排序</div>
<h6>思路参考：</h6>
<div>
<pre class="language-sql line-numbers"><code>--语法格式如下
SELECT 
  表2别名.分组字段 AS 中文别名1,
  COUNT(表1别名.主键字段) AS 中文别名2  -- 用主键计数，避免NULL影响结果
FROM 表1 表1别名
INNER JOIN 表2 表2别名
ON 表1别名.关联字段 = 表2别名.关联字段
WHERE 表2别名.筛选字段 = '条件值'
GROUP BY 表2别名.分组字段
ORDER BY 中文别名2 DESC;</code></pre>
<h6>答案如下：</h6>
</div>
</div>
<div>
<pre class="language-sql line-numbers"><code>SELECT 
  ps.series_name AS iPhone系列,
  COUNT(p.product_id) AS 产品数量  -- COUNT统计产品ID（非NULL值），确保计数准确
FROM products p
INNER JOIN product_series ps
ON p.series_id = ps.series_id
WHERE ps.product_type = 'iPhone'  -- 仅统计iPhone产品
GROUP BY ps.series_name  -- 按系列名称分组（每个系列对应一组统计）
ORDER BY 产品数量 DESC;  -- 按产品数量倒序</code></pre>
</div>
<div>
<h4 class="header-iWP5WJ auto-hide-last-sibling-br">含义解释</h4>
<ul class="auto-hide-last-sibling-br">
<li><code>GROUP BY ps.series_name</code>将 iPhone 产品按系列分组（如 “Standard”“Pro”“Plus” 等单独成组）</li>
<li><code>COUNT(p.product_id)</code>统计每组内的产品数量（用主键<code>product_id</code>计数，确保不会漏算或多算），例如 “Standard” 系列可能有 10 款产品，“Pro” 系列有 7 款</li>
<li>排序后能直观看到哪个系列的产品型号最多，方便分析产品布局</li>
<li>作用：按类别统计数量，回答 “每个分类有多少数据” 的问题</li>
</ul>
<h4 class="header-iWP5WJ auto-hide-last-sibling-br">核心知识点</h4>
<ol class="auto-hide-last-sibling-br">
<li>GROUP BY 分组逻辑（按类别聚合数据）</li>
<li>COUNT 聚合函数（统计记录数量，优先使用主键）</li>
<li>分组后排序（按统计结果排序，强化数据可读性）</li>
</ol>
</div>
<div> </div>
<div>
<h3 class="header-iWP5WJ auto-hide-last-sibling-br">题目 6：查询平均电池容量≥3000mAh 的 iPhone 系列</h3>
<h4 class="header-iWP5WJ auto-hide-last-sibling-br">题目要求</h4>
<div class="auto-hide-last-sibling-br paragraph-pP9ZLC paragraph-element br-paragraph-space">查询平均电池容量≥3000mAh 的 iPhone 系列，显示系列名称（“iPhone 系列”）、平均电池容量（“平均电池容量 (mAh)”，保留 1 位小数），按平均电池容量降序排序</div>
<h6>思路参考：</h6>
</div>
<div>
<pre class="language-sql line-numbers"><code>SELECT 
  表2别名.分组字段 AS 中文别名1,
  ROUND(AVG(表1别名.数值字段), 保留小数位数) AS 中文别名2
FROM 表1 表1别名
INNER JOIN 表2 表2别名
ON 表1别名.关联字段 = 表2别名.关联字段
WHERE 表2别名.筛选字段 = '条件值'
AND 表1别名.数值字段 IS NOT NULL  -- 排除NULL值
GROUP BY 表2别名.分组字段
HAVING 中文别名2 &gt;= 数值条件  -- 分组后筛选用HAVING（WHERE无法筛选聚合结果）
ORDER BY 中文别名2 DESC;</code></pre>
<h6>答案如下：</h6>
</div>
<div>
<pre class="language-sql line-numbers"><code>SELECT 
ps.series_name AS iPhone系列,ROUND(AVG(p.battery_capacity_mah), 1) AS 平均电池容量(mAh) 
 -- ROUND(值,1)保留1位小数
FROM products p
INNER JOIN product_series ps
ON p.series_id = ps.series_id
WHERE ps.product_type = 'iPhone'  -- 仅统计iPhone产品
AND p.battery_capacity_mah IS NOT NULL  -- 排除电池容量为NULL的数据（避免影响平均值）
GROUP BY ps.series_name
HAVING 平均电池容量(mAh) &gt;= 3000  -- 分组后筛选：平均容量≥3000mAh（注意用HAVING而非WHERE）
ORDER BY 平均电池容量(mAh) DESC;</code></pre>
<h4 class="header-iWP5WJ auto-hide-last-sibling-br">含义解释</h4>
<ul class="auto-hide-last-sibling-br">
<li><code>AVG(p.battery_capacity_mah)</code>计算每个 iPhone 系列的平均电池容量，例如 “Plus” 系列可能平均 4000mAh，“mini” 系列可能平均 2300mAh。</li>
<li><code>ROUND(..., 1)</code>将平均值保留 1 位小数（如 3279.0 而不是 3279），让结果更规范。</li>
<li><code>HAVING 平均电池容量(mAh) &gt;= 3000</code>筛选出平均容量达标的系列（注意：分组后的筛选必须用 HAVING，不能用 WHERE）。</li>
<li>作用：实现 “按类别算平均值 + 筛选达标的类别”，适合分析产品性能差异。</li>
</ul>
<h4 class="header-iWP5WJ auto-hide-last-sibling-br">核心知识点</h4>
<ol class="auto-hide-last-sibling-br">
<li>AVG 聚合函数（计算数值字段的平均值）</li>
<li>ROUND 函数（格式化数值，保留指定小数位数）</li>
<li>HAVING 子句（分组后筛选聚合结果，与 WHERE 区分）</li>
</ol>
<h3 class="header-iWP5WJ auto-hide-last-sibling-br">题目 7：查询初始系统为 iOS 16 及以上的 Pro 系列产品</h3>
<h4 class="header-iWP5WJ auto-hide-last-sibling-br">题目要求</h4>
<div class="auto-hide-last-sibling-br paragraph-pP9ZLC paragraph-element br-paragraph-space">查询初始系统是 iOS 16、iOS 17、iOS 18 或 iOS 26 的 Pro 系列产品（含 iPhone 和 iPad），显示型号名称（“产品型号”）、系列名称（“所属系列”）、产品类型（“产品类型”）、初始系统（“初始操作系统”），按产品类型升序排序</div>
<h6><strong style="font-family: var(--font-base); font-size: 1em; letter-spacing: var(--letter-spacing);">思路参考：</strong></h6>
<div>
<pre class="language-sql line-numbers"><code>SELECT 
  表1别名.字段1 AS 中文别名1,
  表2别名.字段2 AS 中文别名2,
  表2别名.字段3 AS 中文别名3,
  表1别名.字段4 AS 中文别名4
FROM 表1 表1别名
INNER JOIN 表2 表2别名
ON 表1别名.关联字段 = 表2别名.关联字段
WHERE 表2别名.筛选字段1 = '条件值1'
AND 表1别名.筛选字段2 IN ('条件值2', '条件值3', '条件值4')  -- IN简化多值匹配
ORDER BY 表2别名.排序字段 ASC;</code></pre>
<h6><strong style="font-family: var(--font-base); font-size: 1em; letter-spacing: var(--letter-spacing);">答案如下：</strong></h6>
</div>
<pre class="language-sql line-numbers"><code>SELECT 
  p.model_name AS 产品型号,
  ps.series_name AS 所属系列,
  ps.product_type AS 产品类型,
  p.initial_os AS 初始操作系统
FROM products p
INNER JOIN product_series ps
ON p.series_id = ps.series_id
WHERE ps.series_name = 'Pro'  -- 筛选Pro系列
AND p.initial_os IN ('iOS 16', 'iOS 17', 'iOS 18', 'iOS 26')  -- IN匹配多个系统值
ORDER BY ps.product_type ASC;  -- 按产品类型升序（iPhone在前或iPad在前，按字母排序）</code></pre>
<h4 class="header-iWP5WJ auto-hide-last-sibling-br">含义解释</h4>
<ul class="auto-hide-last-sibling-br">
<li><code>IN ('iOS 16', 'iOS 17', 'iOS 18', 'iOS 26')</code>是多值匹配的简化写法，相当于 “初始系统 = iOS 16 OR 初始系统 = iOS 17 ...”，筛选出搭载较新系统的产品</li>
<li>结果只包含 “Pro” 系列（如 “iPhone 14 Pro”“iPad Pro 11-inch (4th gen, 2022)”），且按产品类型升序排列（通常 “iPad” 会排在 “iPhone” 前面，按字母顺序）</li>
<li>作用：高效匹配多个离散值，快速定位符合特定属性的产品</li>
</ul>
<h4 class="header-iWP5WJ auto-hide-last-sibling-br">核心知识点</h4>
<ol class="auto-hide-last-sibling-br">
<li>IN 运算符（简化多值匹配条件）</li>
<li>字符型字段的筛选（匹配系统版本等文本信息）</li>
<li>按分类字段排序（让同类型数据集中展示）</li>
</ol>
<h3 class="header-iWP5WJ auto-hide-last-sibling-br">题目 8：统计 2021 年后发布的各系列产品数量</h3>
<h4 class="header-iWP5WJ auto-hide-last-sibling-br">题目要求</h4>
<div class="auto-hide-last-sibling-br paragraph-pP9ZLC paragraph-element br-paragraph-space">统计 2021 年及以后发布的各产品系列（含 iPhone 和 iPad）的产品数量，显示产品类型（“产品类型”）、系列名称（“所属系列”）、产品数量（“产品数量”），按产品类型升序、产品数量降序排序</div>
<h6><span style="color: var(--headings-color); font-family: var(--font-base); font-size: 1em; font-weight: var(--font-weight-bold); letter-spacing: var(--letter-spacing);">思路参考：</span></h6>
<div>
<pre class="language-sql line-numbers"><code>SELECT 
  表2别名.分组字段1 AS 中文别名1,
  表2别名.分组字段2 AS 中文别名2,
  COUNT(表1别名.主键字段) AS 中文别名3
FROM 表1 表1别名
INNER JOIN 表2 表2别名
ON 表1别名.关联字段 = 表2别名.关联字段
WHERE 表1别名.时间字段 &gt;= 条件值
GROUP BY 表2别名.分组字段1, 表2别名.分组字段2  -- 联合分组：按多个字段分组
ORDER BY 表2别名.分组字段1 ASC, 中文别名3 DESC;  -- 多字段排序：先排字段1，再排统计结果</code></pre>
<h6><strong style="font-family: var(--font-base); font-size: 1em; letter-spacing: var(--letter-spacing);">答案如下：</strong></h6>
<pre class="language-sql line-numbers"><code>SELECT 
  ps.product_type AS 产品类型,
  ps.series_name AS 所属系列,
  COUNT(p.product_id) AS 产品数量
FROM products p
INNER JOIN product_series ps
ON p.series_id = ps.series_id
WHERE p.release_year &gt;= 2021  -- 筛选2021年后发布的产品
GROUP BY ps.product_type, ps.series_name  -- 按“产品类型+系列名称”联合分组（同一类型下的不同系列）
ORDER BY ps.product_type ASC, 产品数量 DESC;  -- 先按类型升序，再按数量降序</code></pre>
<h4 class="header-iWP5WJ auto-hide-last-sibling-br">含义解释</h4>
<ul class="auto-hide-last-sibling-br">
<li><code>GROUP BY ps.product_type, ps.series_name</code>是 “联合分组”，先按 “产品类型”（iPhone/iPad）分大类，再在每个大类下按 “系列名称” 分小类（如 iPad 下的 “数字版”“Air” 等）。</li>
<li>统计结果能同时看到 “iPhone 的 Pro 系列有 5 款 2021 年后的产品”“iPad 的 Air 系列有 4 款” 等信息。</li>
<li>排序规则<code>ps.product_type ASC, 产品数量 DESC</code>确保先按类型归类，同一类型内按数量从多到少排列，层次清晰。</li>
<li>作用：实现多级分类统计，适合分析不同类别下的子分类数据分布。</li>
</ul>
<h4 class="header-iWP5WJ auto-hide-last-sibling-br">核心知识点</h4>
<ol class="auto-hide-last-sibling-br">
<li>联合分组（GROUP BY 多个字段，实现多级分类）</li>
<li>多字段排序（按多个条件排序，先主后次）</li>
<li>时间范围 + 分类统计的组合应用</li>
</ol>
<h2 class="header-iWP5WJ auto-hide-last-sibling-br align-center">总结</h2>
<div class="auto-hide-last-sibling-br paragraph-pP9ZLC paragraph-element br-paragraph-space align-center">本文通过举例苹果产品设备库的现实场景，覆盖了内连接查询的核心考点：从基础的 <strong>ON/USING</strong> 语法、多条件<strong>筛选排序</strong>，到进阶的<strong>多表关联</strong>、<strong>分组聚合（COUNT/AVG）</strong>、<strong>HAVING 筛选</strong>等</div>
<h5 class="auto-hide-last-sibling-br paragraph-pP9ZLC paragraph-element br-paragraph-space align-center"><strong>未完待续 ing</strong></h5>
</div>
</div>
            ]]>
        </content>
    </entry>
    <entry>
        <title>数据库基础入门指南 Part 2</title>
        <author>
            <name>云泽</name>
        </author>
        <link href="https://zeyun.dpdns.org/my_sql_part2.html"/>
        <id>https://zeyun.dpdns.org/my_sql_part2.html</id>
            <category term="数据库学习笔记"/>

        <updated>2025-11-16T22:40:00+08:00</updated>
            <summary>
                <![CDATA[
                    本章内容概述：学习简单的连接查询 本章难度：(⭐⭐⭐⭐/⭐) 连接查询是一种数据库查询技术，用于将多张表中存在关联关系的数据合并在一起，从而获取更完整的信息。以苹果产品库为例，product_series 表存储了产品系列的分类信息（如系列名称、产品类型），products 表存储了具体产品型号的参数（如型号名称、发布年份）。这两张表通过 series_id 字段产生关联（products 的 series_id 关联 product_series 的 series_id）。连接查询就是通过这个关联关系，把两张表中匹配的数据 “拼接” 成一条结果，让我们能同时看到产品型号所属的系列和类型等信息&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p><span style="color: var(--headings-color); font-family: var(--font-base); font-size: 1.80203em; font-weight: var(--font-weight-bold); letter-spacing: var(--letter-spacing);">本章内容概述：学习简单的连接查询</span></p>
<p>本章难度：(⭐⭐⭐⭐/⭐)</p>
<h2 class="align-center">Stp 1：基础知识储备（<strong>新手3问环节</strong>）</h2>
<h3>Q：什么是连接查询？</h3>
<h3><strong>A:</strong></h3>
<p>连接查询是一种数据库查询技术，用于<strong>将多张表中存在关联关系的数据合并在一起</strong>，从而获取更完整的信息。以苹果产品库为例，<code>product_series</code> 表存储了产品系列的分类信息（如系列名称、产品类型），<code>products</code> 表存储了具体产品型号的参数（如型号名称、发布年份）。这两张表通过 <code>series_id</code> 字段产生关联（<code>products</code> 的 <code>series_id</code> 关联 <code>product_series</code> 的 <code>series_id</code>）。连接查询就是通过这个关联关系，把两张表中匹配的数据 “拼接” 成一条结果，让我们能同时看到产品型号所属的系列和类型等信息</p>
<h3>Q：学了这个连接查询有什么用？</h3>
<h3><strong>A:</strong></h3>
<div class="auto-hide-last-sibling-br paragraph-pP9ZLC paragraph-element br-paragraph-space">在实际业务中，我们很少只关注单张表的数据，比如：</div>
<ul class="auto-hide-last-sibling-br" style="list-style-type: square;">
<li>作为苹果产品爱好者，你想知道 “iPhone 15 属于哪个系列”，就需要把 <code>products</code> 表的型号和 <code>product_series</code> 表的系列关联起来查询</li>
<li>作为市场分析师，你想统计 “每个 iPad 系列有多少款产品”，也需要通过连接查询将系列分类和具体产品数结合起来</li>
</ul>
<p> </p>
<div class="auto-hide-last-sibling-br paragraph-pP9ZLC paragraph-element br-paragraph-space">如果不用连接查询，只用 <code>products</code> 表，你只能看到产品的 <code>series_id</code> 却不知道对应的系列名称；只用 <code>product_series</code> 表，又看不到具体有哪些产品型号。所以连接查询能帮我们<strong>整合多表的关联信息</strong>，解决更复杂的业务问题</div>
<h3>Q：如何去学习这个连接查询:</h3>
<h3><strong>A:</strong></h3>
<div class="auto-hide-last-sibling-br paragraph-pP9ZLC paragraph-element br-paragraph-space">可以按照 “从简单到复杂” 的路径学习：</div>
<ul class="auto-hide-last-sibling-br" style="list-style-type: square;">
<li><strong>第一步：掌握基础内连接语法</strong>
<div class="container-Uxvbjy md-box-line-break wrapper-GYqxgQ undefined"> </div>
先学会把两张表通过关联字段连接起来，获取最基础的关联数据</li>
<li><strong>第二步：添加筛选条件</strong>
<div class="container-Uxvbjy md-box-line-break wrapper-GYqxgQ undefined"> </div>
在连接的基础上，过滤出自己需要的特定数据</li>
<li><strong>第三步：结合排序、聚合等操作</strong>
<div class="container-Uxvbjy md-box-line-break wrapper-GYqxgQ undefined"> </div>
让查询结果更符合业务需求，比如按时间排序、统计平均值等</li>
</ul>
<p><strong>了解完基础的概念前奏和对应的疑问，接下来我会带着你结合最简单的几道小题，去学习这个知识点</strong></p>
<h2 class="align-center">Stp 2：学习前的数据准备</h2>
<p>可以参考以下的SQL语句（不懂的语句可以参考注释，实在不明白就去问AI吧，我也没招了）</p>
<p>以下数据可直接<strong>复制粘贴到查询语句中去运行</strong>（必要条件）</p>
<pre class="language-sql line-numbers"><code>-- 创建数据库：如果不存在名为apple_products_db的数据库则创建，指定字符集为utf8mb4（支持所有Unicode字符），排序规则为utf8mb4_unicode_ci（支持多语言排序）
CREATE DATABASE IF NOT EXISTS apple_products_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
-- 使用该数据库（后续操作都在这个数据库中执行）
USE apple_products_db;

-- 产品系列表：用于分类产品（如iPhone标准版、iPad Pro等）
CREATE TABLE product_series (
    series_id INT PRIMARY KEY AUTO_INCREMENT,  -- 系列ID：整数类型，主键（唯一标识），自动增长（插入时无需手动填写）
    series_name VARCHAR(50) NOT NULL,  -- 系列名称：字符串类型，最大长度50字符，不能为空（如"Standard"、"Pro"）
    product_type ENUM('iPhone', 'iPad') NOT NULL,  -- 产品类型：枚举类型，只能从指定值中选择，不能为空（限制为iPhone或iPad）
    UNIQUE KEY uk_series_type (series_name, product_type)  -- 唯一键：确保同一产品类型下的系列名称不重复（如不会有两个"Pro"的iPhone系列）
);

-- 产品详细信息表：存储具体型号的参数
CREATE TABLE products (
    product_id INT PRIMARY KEY AUTO_INCREMENT,  -- 产品ID：整数类型，主键，自动增长（唯一标识每个型号）
    model_name VARCHAR(100) NOT NULL,  -- 型号名称：字符串类型，最大长度100字符，不能为空（如"iPhone 15 Pro"、"iPad Air 5"）
    release_year YEAR NOT NULL,  -- 发布年份：年份类型，不能为空（如2023、2024）
    series_id INT NOT NULL,  -- 所属系列ID：整数类型，不能为空，关联到product_series表的series_id
    battery_capacity_mah DECIMAL(6,1) NULL,  -- 电池容量（毫安时）：十进制数字类型，总长度6位（含小数），保留1位小数，允许为空（查不到数据时用NULL）
    screen_size_inch DECIMAL(3,1) NULL,  -- 屏幕尺寸（英寸）：十进制数字类型，总长度3位（含小数），保留1位小数，允许为空（查不到数据时用NULL）
    initial_os VARCHAR(50) NULL,  -- 初始系统：字符串类型，最大长度50字符，允许为空（如"iOS 17"、"iPadOS 16"）
    storage_options VARCHAR(100) NULL,  -- 存储选项：字符串类型，最大长度100字符，允许为空（如"128GB, 256GB"）
    FOREIGN KEY fk_series (series_id) REFERENCES product_series(series_id)  -- 外键约束：series_id的值必须存在于product_series表的series_id中
        ON DELETE RESTRICT ON UPDATE CASCADE  -- 删除限制：不允许删除被引用的系列；更新级联：系列ID更新时，此处自动同步
);

-- 插入产品系列数据：向product_series表添加分类数据
-- 语法格式：INSERT INTO 表名 (字段1, 字段2, ...) VALUES (值1, 值2, ...), (值1, 值2, ...);
INSERT INTO product_series (series_name, product_type) VALUES
('Standard', 'iPhone'),
('Plus', 'iPhone'),
('Xs/Xr', 'iPhone'),
('mini', 'iPhone'),
('Pro', 'iPhone'),
('数字版', 'iPad'),
('Air', 'iPad'),
('mini', 'iPad'),
('Pro', 'iPad');

-- 插入iPhone数据：向products表添加iPhone型号数据
-- 语法格式：INSERT INTO 表名 (字段1, 字段2, ...) VALUES (值1, 值2, ...), (值1, 值2, ...);
INSERT INTO products (model_name, release_year, series_id, battery_capacity_mah, screen_size_inch, initial_os, storage_options) VALUES
-- 标准版
('iPhone 7', 2016, 1, 1960.0, 4.7, 'iOS 10', '32GB, 128GB, 256GB'),
('iPhone 8', 2017, 1, 1821.0, 4.7, 'iOS 11', '64GB, 256GB'),
('iPhone X', 2017, 1, 2716.0, 5.8, 'iOS 11', '64GB, 256GB'),
('iPhone 11', 2019, 1, 3110.0, 6.1, 'iOS 13', '64GB, 128GB, 256GB'),
('iPhone 12', 2020, 1, 2815.0, 6.1, 'iOS 14', '64GB, 128GB, 256GB'),
('iPhone 13', 2021, 1, 3227.0, 6.1, 'iOS 15', '128GB, 256GB, 512GB'),
('iPhone 14', 2022, 1, 3279.0, 6.1, 'iOS 16', '128GB, 256GB, 512GB, 1TB'),
('iPhone 15', 2023, 1, 3300.0, 6.1, 'iOS 17', '128GB, 256GB, 512GB, 1TB'),
('iPhone 16', 2024, 1, NULL, 6.1, 'iOS 18', '128GB, 256GB, 512GB, 1TB'),
('iPhone 17', 2025, 1, NULL, 6.1, 'iOS 26', '256GB, 512GB, 1TB, 2TB'),

-- Plus型号
('iPhone 7 Plus', 2016, 2, 2900.0, 5.5, 'iOS 10', '32GB, 128GB, 256GB'),
('iPhone 8 Plus', 2017, 2, 2691.0, 5.5, 'iOS 11', '64GB, 256GB'),
('iPhone 14 Plus', 2022, 2, 4323.0, 6.7, 'iOS 16', '128GB, 256GB, 512GB, 1TB'),
('iPhone 15 Plus', 2023, 2, 4422.0, 6.7, 'iOS 17', '128GB, 256GB, 512GB, 1TB'),

-- Xs/Xr分支
('iPhone Xs', 2018, 3, 2658.0, 5.8, 'iOS 12', '64GB, 256GB, 512GB'),
('iPhone Xs Max', 2018, 3, 3174.0, 6.5, 'iOS 12', '64GB, 256GB, 512GB'),
('iPhone Xr', 2018, 3, 2942.0, 6.1, 'iOS 12', '64GB, 128GB, 256GB'),

-- mini型号
('iPhone 12 mini', 2020, 4, 2227.0, 5.4, 'iOS 14', '64GB, 128GB, 256GB'),
('iPhone 13 mini', 2021, 4, 2406.0, 5.4, 'iOS 15', '128GB, 256GB, 512GB'),

-- Pro型号
('iPhone 11 Pro', 2019, 5, 3046.0, 5.8, 'iOS 13', '64GB, 256GB, 512GB'),
('iPhone 12 Pro', 2020, 5, 2815.0, 6.1, 'iOS 14', '128GB, 256GB, 512GB'),
('iPhone 13 Pro', 2021, 5, 3095.0, 6.1, 'iOS 15', '128GB, 256GB, 512GB, 1TB'),
('iPhone 14 Pro', 2022, 5, 3200.0, 6.1, 'iOS 16', '128GB, 256GB, 512GB, 1TB'),
('iPhone 15 Pro', 2023, 5, 3279.0, 6.1, 'iOS 17', '128GB, 256GB, 512GB, 1TB'),
('iPhone 16 Pro', 2024, 5, NULL, 6.1, 'iOS 18', '256GB, 512GB, 1TB, 2TB'),
('iPhone 17 Pro', 2025, 5, NULL, 6.1, 'iOS 26', '256GB, 512GB, 1TB, 2TB');

-- 插入iPad数据：向products表添加iPad型号数据
-- 语法格式：INSERT INTO 表名 (字段1, 字段2, ...) VALUES (值1, 值2, ...), (值1, 值2, ...);
INSERT INTO products (model_name, release_year, series_id, battery_capacity_mah, screen_size_inch, initial_os, storage_options) VALUES
-- 数字版
('iPad (5th gen)', 2017, 6, 8827.0, 9.7, 'iOS 10.3', '32GB, 128GB'),
('iPad (6th gen)', 2018, 6, 8827.0, 9.7, 'iOS 12', '32GB, 128GB'),
('iPad (7th gen)', 2019, 6, 8827.0, 10.2, 'iPadOS 13', '32GB, 128GB'),
('iPad (8th gen)', 2020, 6, 8827.0, 10.2, 'iPadOS 14', '32GB, 128GB'),
('iPad (9th gen)', 2021, 6, 8827.0, 10.2, 'iPadOS 15', '64GB, 256GB'),
('iPad (10th gen)', 2022, 6, 7700.0, 10.9, 'iPadOS 16', '64GB, 256GB'),
('iPad (11th gen)', 2024, 6, NULL, 10.9, 'iPadOS 18', '64GB, 256GB, 512GB'),

-- Air系列
('iPad Air 2', 2014, 7, 7340.0, 9.7, 'iOS 8.1', '16GB, 32GB, 64GB, 128GB'),
('iPad Air 3', 2019, 7, 8134.0, 10.5, 'iPadOS 12.2', '64GB, 256GB'),
('iPad Air 4', 2020, 7, 7700.0, 10.9, 'iPadOS 14.1', '64GB, 256GB'),
('iPad Air 5', 2022, 7, NULL, 10.9, 'iPadOS 15.4', '64GB, 256GB'),
('iPad Air 6', 2023, 7, NULL, 10.9, 'iPadOS 17', '64GB, 256GB, 512GB'),
('iPad Air 7 ', 2024, 7, NULL, 10.9, 'iPadOS 18', '128GB, 256GB, 512GB, 1TB'),

-- mini系列
('iPad mini 4', 2015, 8, 5124.0, 7.9, 'iOS 9.0', '16GB, 32GB, 64GB, 128GB'),
('iPad mini 5', 2019, 8, 5124.0, 7.9, 'iPadOS 12.2', '64GB, 256GB'),
('iPad mini 6', 2021, 8, 5124.0, 8.3, 'iPadOS 15', '64GB, 256GB'),
('iPad mini 7', 2024, 8, NULL, 8.3, 'iPadOS 18', '128GB, 256GB, 512GB'),

-- Pro系列
('iPad Pro 11-inch (2018)', 2018, 9, 9720.0, 11.0, 'iPadOS 12.1', '64GB, 256GB, 512GB, 1TB'),
('iPad Pro 12.9-inch (3rd gen, 2018)', 2018, 9, 10307.0, 12.9, 'iPadOS 12.1', '64GB, 256GB, 512GB, 1TB'),
('iPad Pro 11-inch (2nd gen, 2020)', 2020, 9, 9720.0, 11.0, 'iPadOS 13.4', '128GB, 256GB, 512GB, 1TB'),
('iPad Pro 12.9-inch (4th gen, 2020)', 2020, 9, 10090.0, 12.9, 'iPadOS 13.4', '128GB, 256GB, 512GB, 1TB'),
('iPad Pro 11-inch (3rd gen, 2021)', 2021, 9, NULL, 11.0, 'iPadOS 14.5', '128GB, 256GB, 512GB, 1TB'),
('iPad Pro 12.9-inch (5th gen, 2021)', 2021, 9, NULL, 12.9, 'iPadOS 14.5', '128GB, 256GB, 512GB, 1TB'),
('iPad Pro 11-inch (4th gen, 2022)', 2022, 9, NULL, 11.0, 'iPadOS 16', '128GB, 256GB, 512GB, 1TB'),
('iPad Pro 12.9-inch (6th gen, 2022)', 2022, 9, NULL, 12.9, 'iPadOS 16', '128GB, 256GB, 512GB, 1TB'),
('iPad Pro M5 (11-inch, 2024)', 2024, 9, NULL, 11.0, 'iPadOS 26', '256GB, 512GB, 1TB, 2TB');</code></pre>
<p>注意：创建完成后别忘记了<code>USE apple_products_db;</code></p>
<p>成功后你会看到以下两张表已经创建成功，并且这两张表的数据也会出现</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/30/Ping-Mu-Jie-Tu-2025-11-16-225738.png" alt="" width="427" height="571" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/30/responsive/Ping-Mu-Jie-Tu-2025-11-16-225738-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/30/responsive/Ping-Mu-Jie-Tu-2025-11-16-225738-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/30/responsive/Ping-Mu-Jie-Tu-2025-11-16-225738-md.webp 768w ,https://zeyun.dpdns.org/media/posts/30/responsive/Ping-Mu-Jie-Tu-2025-11-16-225738-xl.webp 1024w"></figure>
<h6>可以使用以下的语句去查看这个product_series表的创建是否成功</h6>
<pre class="language-sql line-numbers"><code>--查询语句，升序（从小到大排序）
SELECT * FROM product_series ORDER BY series_id ASC;</code></pre>
<p>成功后如下图所示：</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/30/Ping-Mu-Jie-Tu-2025-11-16-235518.png" alt="" width="1960" height="776" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/30/responsive/Ping-Mu-Jie-Tu-2025-11-16-235518-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/30/responsive/Ping-Mu-Jie-Tu-2025-11-16-235518-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/30/responsive/Ping-Mu-Jie-Tu-2025-11-16-235518-md.webp 768w ,https://zeyun.dpdns.org/media/posts/30/responsive/Ping-Mu-Jie-Tu-2025-11-16-235518-xl.webp 1024w"></figure>
<h6>如下语句去查看这个products表是否成功</h6>
<pre class="language-sql line-numbers"><code>--简单的全查询语句，详细解释请看上一篇Part1
SELECT * FROM products;</code></pre>
<p>成功后如下图所示：</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/30/Ping-Mu-Jie-Tu-2025-11-16-235929.png" alt="" width="1906" height="1284" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/30/responsive/Ping-Mu-Jie-Tu-2025-11-16-235929-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/30/responsive/Ping-Mu-Jie-Tu-2025-11-16-235929-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/30/responsive/Ping-Mu-Jie-Tu-2025-11-16-235929-md.webp 768w ,https://zeyun.dpdns.org/media/posts/30/responsive/Ping-Mu-Jie-Tu-2025-11-16-235929-xl.webp 1024w"></figure>
<h2 class="align-center">Stp 3：实战演练</h2>
<h5 class="align-center"><code>*注</code>：以下题目会配合讲解一同出现，如有必要，请自行先看题，再去看解析</h5>
<h4 class="header-iWP5WJ auto-hide-last-sibling-br">题目 1：请查询所有产品的型号名称、所属系列名称和产品类型</h4>
<p class="header-iWP5WJ auto-hide-last-sibling-br"><strong>此题核心点：基础的内连接查询（获取产品 + 系列关联信息</strong>）</p>
<div class="auto-hide-last-sibling-br paragraph-pP9ZLC paragraph-element br-paragraph-space"> </div>
<div class="auto-hide-last-sibling-br paragraph-pP9ZLC paragraph-element br-paragraph-space">本题的SQL示例语句如下：</div>
<div>
<pre class="language-sql line-numbers"><code>-- 查询所有产品的型号、所属系列和产品类型
SELECT 
  p.model_name AS 型号名称,
  ps.series_name AS 系列名称,
  ps.product_type AS 产品类型
FROM products p
INNER JOIN product_series ps
ON p.series_id = ps.series_id;

--语法结构如下
SELECT 
  表1别名.字段1 [AS 别名1],
  表2别名.字段2 [AS 别名2]
FROM 表1 表1别名
INNER JOIN 表2 表2别名
ON 表1别名.关联字段 = 表2别名.关联字段;</code></pre>
</div>
<div>
<p class="header-iWP5WJ auto-hide-last-sibling-br"><strong>含义解释：</strong></p>
<ul class="auto-hide-last-sibling-br">
<li><code>FROM products p</code>：从<code>products</code>表查询，给表起个别名<code>p</code>（方便后续简写）</li>
<li><code>INNER JOIN product_series ps</code>：用内连接关联<code>product_series</code>表，别名<code>ps</code></li>
<li><code>ON p.series_id = ps.series_id</code>：连接的条件 ——<code>products</code>表的<code>series_id</code>必须和<code>product_series</code>表的<code>series_id</code>相等（这是两张表的 "桥梁"）</li>
<li><code>SELECT</code>后的字段：从关联后的结果中，提取需要的信息（这里取了型号、系列名称、产品类型）</li>
<li><code>AS</code>：给字段起中文别名，让结果更易读</li>
</ul>
</div>
<h4 class="header-iWP5WJ auto-hide-last-sibling-br">题目 2：请查询 2022 年及以后发布的 iPhone Pro 系列产品，显示型号名称、发布年份和初始系统</h4>
<p><strong>此题核心点：带筛选条件的内连接（查询特定类型产品）</strong></p>
<p>本题的SQL示例语句如下：</p>
<pre class="language-sql line-numbers"><code>-- 查询所有iPhone Pro系列的产品型号和发布年份
SELECT 
  p.model_name AS 型号名称,
  p.release_year AS 发布年份,
  ps.series_name AS 系列名称
FROM products p
INNER JOIN product_series ps
ON p.series_id = ps.series_id
WHERE ps.product_type = 'iPhone'  -- 筛选产品类型为iPhone
AND ps.series_name = 'Pro';     -- 同时筛选系列名称为Pro

--语法结构如下
SELECT 
  表1别名.字段1 [AS 别名1],
  表2别名.字段2 [AS 别名2]
FROM 表1 表1别名
INNER JOIN 表2 表2别名
ON 表1别名.关联字段 = 表2别名.关联字段
WHERE 筛选条件1 
AND 筛选条件2;  -- 多个条件用AND连接</code></pre>
<p class="header-iWP5WJ auto-hide-last-sibling-br"><strong>含义解释：</strong></p>
<ul class="auto-hide-last-sibling-br">
<li>前面的<code>FROM</code>、<code>INNER JOIN</code>、<code>ON</code>和示例 1 作用相同，先完成两张表的关联</li>
<li><code>WHERE</code>后面的是筛选条件：在关联后的所有数据中，只保留 "产品类型是 iPhone" 且 "系列名称是 Pro" 的数据</li>
<li>执行顺序：先关联表，再按条件筛选，最后返回符合条件的结果（比如这里会得到 iPhone 11 Pro、iPhone 12 Pro 等型号）</li>
</ul>
<h4 class="header-iWP5WJ auto-hide-last-sibling-br">题目 3：请统计每个 iPad 系列的产品平均屏幕尺寸，结果按平均屏幕尺寸从大到小排序</h4>
<p><strong>此题核心点：内连接 + 排序（按发布时间整理结果）</strong></p>
<p>本题的SQL示例语句如下：</p>
<pre class="language-sql line-numbers"><code>--请统计每个 iPad 系列的产品平均屏幕尺寸，结果按平均屏幕尺寸从大到小排序
SELECT 
  ps.series_name,
AVG(p.screen_size_inch) AS avg_screen_size
FROM products p
INNER JOIN product_series ps
ON p.series_id = ps.series_id
WHERE ps.product_type = 'iPad'
GROUP BY ps.series_name
ORDER BY avg_screen_size DESC;

--语法结构如下
SELECT 
  表2别名.分组字段,
  聚合函数(表1别名.数值字段) AS 别名
FROM 表1 表1别名
INNER JOIN 表2 表2别名
ON 表1别名.关联字段 = 表2别名.关联字段
WHERE 筛选条件
GROUP BY 表2别名.分组字段
ORDER BY 聚合结果别名 DESC;</code></pre>
<p class="header-iWP5WJ auto-hide-last-sibling-br"><strong>含义解释：</strong></p>
<ul class="auto-hide-last-sibling-br">
<li><code>WHERE ps.product_type = 'iPad'</code>：先筛选出所有 iPad 类型的产品，排除 iPhone 的数据干扰</li>
<li><code>GROUP BY ps.series_name</code>：将筛选后的 iPad 产品按系列名称分组，比如 "数字版"、"Air"、"Pro" 等各自成为一组</li>
<li><code>AVG(p.screen_size_inch)</code>：对每组内的屏幕尺寸字段计算平均值，例如 Pro 系列可能平均 11.9 英寸，mini 系列可能平均 8.1 英寸</li>
<li><code>AS avg_screen_size</code>：给计算出的平均值字段起个别名，让结果更易读</li>
<li><code>ORDER BY avg_screen_size DESC</code>：按平均屏幕尺寸从大到小排序，结果会显示 Pro 系列（最大）在最前面，mini 系列（最小）在最后面</li>
</ul>
<div class="auto-hide-last-sibling-br paragraph-pP9ZLC paragraph-element br-paragraph-space">作用：实现 "先筛选特定类型→按系列分组→计算每组平均值→按平均值排序" 的完整统计流程，能快速看出不同 iPad 系列的屏幕尺寸差异</div>
<h2 class="align-center">Stp 4：核心语法总结</h2>
<h5 class="auto-hide-last-sibling-br paragraph-pP9ZLC paragraph-element br-paragraph-space"><strong>内连接查询的固定 "公式"：</strong></h5>
<pre class="language-sql line-numbers"><code>SELECT 要显示的字段
FROM 第一张表 别名1
INNER JOIN 第二张表 别名2
ON 别名1.关联字段 = 别名2.关联字段  -- 必须写，否则会出现数据混乱
[WHERE 筛选条件]  -- 可选，按需求添加
[ORDER BY 排序字段]  -- 可选，按需求添加</code></pre>
<p class="align-center">内连接就像 "找朋友"，只有两张表中共同有 "<strong>关联字段匹配</strong>" 的数据才能被选中</p>
<p class="align-center">就像只有互相认识的人才能成为朋友一样～</p>
<h3 class="align-center">结束语：以上就是数据库的入门指南 Part 2 的教程(●'◡'●)</h3>
<p class="align-center"><strong>数据库入门指南 Part3 已经上线，欢迎访问\^o^/</strong></p>
<p class="align-center"><strong><a href="https://zeyun.dpdns.org/my_sql_part3.html" target="_blank" rel="noopener noreferrer">点我跳转 Part 3</a></strong></p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>网络设备配置实战分析 Part 1</title>
        <author>
            <name>云泽</name>
        </author>
        <link href="https://zeyun.dpdns.org/network_with_huawei_ensp_part1.html"/>
        <id>https://zeyun.dpdns.org/network_with_huawei_ensp_part1.html</id>
            <category term="网络设备配置技术学习笔记"/>

        <updated>2025-11-08T16:20:07+08:00</updated>
            <summary>
                <![CDATA[
                    本人贴心的做了专业名词的超链接，如有不懂的，可直接点击红色文字直接跳转相关名词解释的网页 网络设备配置技术：通过路由器和交换机协同工作，实现数据在不同设备、网段间的高效传输 路由器：用于识别网络地址，并选择最佳路径进行数据传输。它通常被称为网络层设备，因为它们在网络层上进行数据传输。工作在网络层（3 层），基于 IP&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <blockquote>
<p>本人贴心的做了专业名词的超链接，如有不懂的，可直接点击<strong>红色文字</strong>直接跳转相关名词解释的网页</p>
</blockquote>
<h5 class="align-center">常识补充</h5>
<ul style="list-style-type: circle;">
<li>通常进入这个设备时显示的&lt;huawei&gt;代表着当前为用户模式，权限较低，通常来说，这个模式用于保存数据（<code>save</code>命令）</li>
<li>[huawei]这个为系统模式/特权模式。该模式的权限较高，可以在这个模式下进行配网，划分vlan，配置接口ip等操作，使用<code>system-view</code>（可简写成<code>sys</code>）命令进入。再次输入这个命令 + 所改设备名称，即可为当前设备改名</li>
<li>使用键盘上的<code>Tab</code>键，可以补全命令</li>
<li>按下键盘的"<code>q</code>"同quit，返回上一级，比如从特权模式切换回用户模式</li>
<li>在系统视图下，可使用<code>display current-configuration</code>（可简写成<code>dis cu</code>）来查看所有的配置信息，以便后续排错</li>
<li>在对应的接口，或者任何模式下，使用<code>display this</code>（可键写成<code>dis th</code>）来查看当前这个当前的模式的配置情况</li>
<li>大部分使用<code>undo + 对应输入的命令</code>，即可删除</li>
</ul>
<h4>基础概念&amp;设备</h4>
<p>网络设备配置技术：通过路由器和交换机协同工作，实现数据在不同设备、网段间的高效传输</p>
<p><strong>路由器</strong>：用于识别网络地址，并选择最佳路径进行数据传输。它通常被称为网络层设备，因为它们在网络层上进行数据传输。工作在网络层（3 层），基于 IP 地址转发数据，核心作用是跨网段路径选择、网络互联，还能实现防火墙、NAT 等功能</p>
<p class="align-center">实体机就长以下这样（图源：ENSP的AR3200）</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/29/Ping-Mu-Jie-Tu-2025-12-21-144401.png" alt="" width="2013" height="615" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-12-21-144401-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-12-21-144401-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-12-21-144401-md.webp 768w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-12-21-144401-xl.webp 1024w"></figure>
<p><strong>交换机</strong>：一交换机是局域网基于 MAC 转发数据帧、分割冲突域的设备。二层仅 MAC 转发，不能跨 VLAN；三层叠加 IP 路由，可跨 VLAN。ENSP 中 S3700 多为弱三层（仅简单 VLAN 间路由），S5700 是全三层（支持 OSPF 等动态路由，适合汇聚 / 核心）</p>
<p class="align-center">实体机就长以下这样（下一来源：ENSP的S5700，下二来源：互联网）</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/29/Ping-Mu-Jie-Tu-2025-12-21-144556.png" alt="" width="2002" height="206" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-12-21-144556-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-12-21-144556-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-12-21-144556-md.webp 768w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-12-21-144556-xl.webp 1024w"></figure>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/29/Ping-Mu-Jie-Tu-2025-11-08-153425.png" alt="" width="1486" height="770" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-153425-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-153425-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-153425-md.webp 768w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-153425-xl.webp 1024w"></figure>
<p><strong>以下讲解将会全部使用华为的ENSP环境来模拟，请先准备好运行环境</strong></p>
<p>华为ENSP下载教程：<a href="https://blog.csdn.net/weixin_43113691/article/details/124847964" target="_blank" rel="noopener noreferrer">点我直达</a></p>
<p>本次所使用的知识点大全：<a href="https://wwve.lanzn.com/b014wtwq5g" target="_blank" rel="noopener noreferrer">点我下载</a>，密码：8m8l</p>
<p>现在我们来模拟一个企业的网络环境，从而实现边学边用</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/29/Ping-Mu-Jie-Tu-2025-11-08-152835.png" alt="" width="2359" height="1314" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-152835-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-152835-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-152835-md.webp 768w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-152835-xl.webp 1024w"></figure>
<p>网络拓扑图分析：现将PC2-3，PC4-5，PC6-7&amp;Client-1，划分成3个不同的vlan，代表着3中不同的网络环境，统一使用2层交换机来管理，并且最终将会汇聚到一个三层交换机中，使得可以连接路由器去访问在vlan100和vlan110下的网络，真实环境的效果图如下（使用思科模拟搭建模拟）</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/29/Ping-Mu-Jie-Tu-2025-11-08-204836.png" alt="" width="2458" height="1158" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-204836-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-204836-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-204836-md.webp 768w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-204836-xl.webp 1024w"></figure>
<h5>实验1：给设备重命名</h5>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/29/Ping-Mu-Jie-Tu-2025-11-08-160334-2.png" alt="" width="485" height="266" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-160334-2-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-160334-2-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-160334-2-md.webp 768w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-160334-2-xl.webp 1024w"></figure>
<p>如果不重新命名的话，默认的名字会导致后面的配网工作混淆，导致不能顺利的理清思路，所以一般来说，会使用<strong>设备层次+设备名称+编号来命名</strong>，这里我将会使用L2-JR-SW1来去命名这台交换机，后面的设备也是同理</p>
<pre class="language-apacheconf line-numbers"><code>#进入系统视图，通常前面的设备会从 &lt;huawei&gt; 变成 [huawei] 这样，就代表成功了
system-view

#改名，将[huawei]改成[L2-JR-SW1]
sysname L2-JR-SW1</code></pre>
<p>改名完成后如下：</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/29/Ping-Mu-Jie-Tu-2025-11-08-161330.png" alt="" width="903" height="178" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-161330-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-161330-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-161330-md.webp 768w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-161330-xl.webp 1024w"></figure>
<h5>实验2：关闭烦人的消息日志</h5>
<p>通常情况下，我们每次输入完成指令后，都会弹出一长串的消息日志，这些日志对我们输入一些长指令的时候很不友好，通常情况下，会选择关闭（每台交换机和路由器都会这样做）指令如下：</p>
<pre class="language-apacheconf line-numbers"><code>undo info-center enable </code></pre>
<p>关闭后的指令如下：</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/29/Ping-Mu-Jie-Tu-2025-11-08-161908.png" alt="" width="1014" height="94" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-161908-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-161908-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-161908-md.webp 768w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-161908-xl.webp 1024w"></figure>
<h5>实验3：配置合理的<a href="https://baike.baidu.com/item/IP%E5%9C%B0%E5%9D%80/150859" target="_blank" rel="noopener noreferrer">IP地址</a>和<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992" target="_blank" rel="noopener noreferrer">网关</a>，使得<strong>各个区域的网络设备和计算机能够正常的内网通讯</strong></h5>
<p>通常会将同一个vlan下的网络设备划分到同一网段，PC3的配网如下图所示：</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/29/Ping-Mu-Jie-Tu-2025-11-08-162645.png" alt="" width="1493" height="365" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-162645-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-162645-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-162645-md.webp 768w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-162645-xl.webp 1024w"></figure>
<p>PC2的配网如下：</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/29/Ping-Mu-Jie-Tu-2025-11-08-162912.png" alt="" width="1481" height="369" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-162912-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-162912-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-162912-md.webp 768w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-162912-xl.webp 1024w"></figure>
<p>验证成果（使用PC3的终端去 ping PC2 的IP，检测是否Ping通）：</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/29/Ping-Mu-Jie-Tu-2025-11-08-163106.png" alt="" width="1101" height="525" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-163106-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-163106-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-163106-md.webp 768w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-163106-xl.webp 1024w"></figure>
<p>可以看到，我这台PC3的IP为192.168.3.1去ping192.168.3.2的时候是可以ping的通的</p>
<p>其余的设备也是如此，我在下面写了网段的划分，只需将这个IP地址的后一位划分成1/2就行，通常情况下我们习惯将网关设置成254，<a href="https://baike.baidu.com/item/%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81?fromModule=lemma_search-box" target="_blank" rel="noopener noreferrer">子网掩码</a>通常划分成255.255.255.0就行</p>
<h5>实验4：<strong>在交换机上划分对应的VLAN，并且将其对应的物理端口划入到对应的<a href="https://baike.baidu.com/item/%E8%99%9A%E6%8B%9F%E5%B1%80%E5%9F%9F%E7%BD%91/419962?fromtitle=VLAN&amp;fromid=320429&amp;fromModule=lemma_search-box" target="_blank" rel="noopener noreferrer">VLAN</a>中，使其能够进行正常的网络通讯</strong></h5>
<p>进入L2-JR-SW2，vlan10的创建，划分和修改接口类型的步骤如下：</p>
<pre class="language-apacheconf line-numbers"><code>#先创建vlan，这里是创建vlan10的指令如下
vlan 10

#按下q退出这个[L2-JR-SW1-vlan10]模式，这里只是创建，而不是进入
q

#进入需要划分的接口，注意是eth口还是ge口
int e0/0/1

#随后修改接口类型为access模式
port link-type access 

#将该接口划分至vlan10
port default vlan 10</code></pre>
<p>其他的设备也都是如此，比如vlan10，20，30，100，110</p>
<p>以上的操作都是进入交换机的<strong>系统模式</strong>下进行的操作</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/29/Ping-Mu-Jie-Tu-2025-11-08-210138.png" alt="" width="2398" height="1168" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-210138-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-210138-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-210138-md.webp 768w ,https://zeyun.dpdns.org/media/posts/29/responsive/Ping-Mu-Jie-Tu-2025-11-08-210138-xl.webp 1024w"></figure>
<p>成功过后可以看到，在同一vlan下的PC相互能够成功通讯，而不在同一vlan下的PC相互不可通讯</p>
<p class="align-center"><strong>至此，最基础的子网划分以及一些基本操作你已经学会ヾ(≧ ▽ ≦)ゝ</strong></p>
<p class="align-center"><span style="color: #f2f2f5;"><strong>看第二章前，请务必记住本章开头的”常识补充“</strong></span></p>
<p class="align-center"><strong>第二篇已经更新，<a href="https://zeyun.dpdns.org/network_with_huawei_ensp_part2.html" target="_blank" rel="noopener noreferrer">点我跳转</a></strong></p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>数据库基础入门指南  Part 1</title>
        <author>
            <name>云泽</name>
        </author>
        <link href="https://zeyun.dpdns.org/my_sql_part1.html"/>
        <id>https://zeyun.dpdns.org/my_sql_part1.html</id>
            <category term="数据库学习笔记"/>

        <updated>2025-11-02T03:00:50+08:00</updated>
            <summary>
                <![CDATA[
                    本章内容：从软件的下载，到学会数据库的简单查询 本章难度：(🌵🌵🌵/🌵🌵) Navicat Premium 17&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <h1>本章内容：从软件的下载，到学会数据库的简单查询</h1>
<p>本章难度：(🌵🌵🌵/🌵🌵)</p>
<h3>Stp 1：如何下载？</h3>
<p>Navicat Premium 17 安装及下载链接：<a href="https://www.123865.com/s/foFNjv-Bq9TH" target="_blank" rel="noopener noreferrer">点我下载</a></p>
<p>为了便于演示和理解，以下内容将使用 Navicat Premium 17 演示</p>
<p>说实话，我不建议直接copy我的示例代码，我认为自己敲一遍能加深初学的印象</p>
<p>（<strong>Don't copy. Study it by yourself！</strong>）        ヾ(≧▽≦*)o</p>
<p>此外由于代码部分的内容全由本人敲写，由于中英混用，难免出现些符号的问题，例如：（；&amp;;）（，&amp;,），如果执意copy我示例代码的，如果出错了，还请多多包涵(；′⌒`)</p>
<h3>Stp 2：适当了解些基础概念</h3>
<p>1.字段：可以理解成Excel表格里横着的表头，不可再划分的最小单位</p>
<p>2.第一范式：所有字段值都是不可分解的原子值</p>
<p>3.主键（PRIMARY KEY）：一张表中仅有一个主键，不能为NULL，设置为主键的字段不能重复，多个字段共同构成的主键称为联合主键</p>
<p>4.唯一键（UNIQE）：字段值不能重复”（允许 NULL 值，且多个 NULL 不视为重复）</p>
<p>5.外键（FOREIGN KEY）：与主键建立关系的键，一张表中 “引用另一张表主键” 的字段，作用是把两个表 “绑在一起”的就是外键</p>
<p>6.非空约束值（NOT NULL）：代表这个字段不能为空值</p>
<p>7.自增约束值（AUTO_INCREMENT）：实现（主键，唯一键）的数值自增，实际中用到的最多的是主键的自增约束，外键不能设置自增</p>
<h3>Stp 3：实操演练</h3>
<p>不妨看看数据库在实际中应用的例子，边用边学，才会有效果（此内容为虚构，仅供教学使用，请勿当真）</p>
<p>假设你是xx学校教务处的实习生，现在需要用 SQL 语句管理该校的学生成绩数据，从<strong>创建专属数据库</strong>开始，到<strong>创建表存储学生信息和成绩</strong>，再到<strong>录入数据</strong>、<strong>修正错误</strong>成绩、<strong>删除</strong>无效记录，最后按老师要求<strong>查询</strong>各类成绩报表</p>
<h5 class="header-vfC6AV auto-hide-last-sibling-br">第一步：创建专属数据库（数据库管理）</h5>
<p>首先是得要新建一个连接</p>
<p>打开Navicat17，左上角新建连接→选择my sql→随便输入连接名称和你记得住的密码→双击左侧打开（一般是变成绿色），即可创建成功</p>
<p>点击左上角“新建查询”按钮，即可开始以下指令的操作</p>
<p>要求：数据库名为<code>student+两个数字</code>（比如我是 66，就叫<code>student66</code>），字符集用<code>utf8mb4</code>（支持中文和特殊符号，避免乱码，默认就是）</p>
<pre class="language-sql line-numbers"><code>--创建数据库，指定字符集
CREATE DATABASE student66 CHARACTER SET utf8mb4; 

--创建数据库的语法格式
CREATE DATABASE + 数据库名 + CHARACTER SET + 字符类型 ;

--切换到刚创建的数据库（后续操作都在这个库下） 
USE student66;

--切换数据库的语法格式
USE + 数据库名</code></pre>
<p>输入之后，选择你输入的这条代码，点击”运行已选择的“按钮，即可运行成功（这里不建议全选运行，或者直接不选择单条代码直接点击”运行“，因为同时多条代码运行起来大概率会导致报错。主要是这玩意同时运行，总会会遇到很多奇奇怪怪的问题）</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/28/Ping-Mu-Jie-Tu-2025-11-02-041834.png" alt="" width="1021" height="229" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/28/responsive/Ping-Mu-Jie-Tu-2025-11-02-041834-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/28/responsive/Ping-Mu-Jie-Tu-2025-11-02-041834-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/28/responsive/Ping-Mu-Jie-Tu-2025-11-02-041834-md.webp 768w ,https://zeyun.dpdns.org/media/posts/28/responsive/Ping-Mu-Jie-Tu-2025-11-02-041834-xl.webp 1024w"></figure>
<p>确保这个数据库变为上图这样，也就是切换成你所创建的之后再写，否则所有的内容都将会运行失败（左侧可使用右击鼠标右键或者按下键盘上的 F5 按键，来刷新实时的表的状态）没出现的话，可以多刷新几次，有时会不太灵敏</p>
<h5 class="header-vfC6AV auto-hide-last-sibling-br">第二步：创建数据表（数据表管理）</h5>
<p>要求：需要两个表：<code>student_info_66</code>（存学生基本信息）和<code>student_score_66</code>（存学生成绩）字段要求已给</p>
<p class="header-vfC6AV auto-hide-last-sibling-br"><strong>1. 创建学生信息表（student_info_66）</strong></p>
<div class="auto-hide-last-sibling-br paragraph-JOTKXA paragraph-element br-paragraph-space">字段要求：如下</div>
<div class="auto-hide-last-sibling-br mdbox-table-root table-container-GhL7Lo" data-scroll-inline-overflow="false" data-scroll-inline-at-start="true" data-scroll-inline-start-overflow="false" data-scroll-inline-at-end="true" data-scroll-inline-end-overflow="false">
<div class="table-scroll-container-hgHkfW mdbox-table-scroll-container">
<table style="width: 91.5954%;">
<thead>
<tr>
<th style="width: 26.3243%;">字段名</th>
<th style="width: 21.4956%;">字段类型</th>
<th style="width: 21.9629%;">字段约束</th>
<th style="width: 30.2184%;">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="width: 26.3243%;">student_id</td>
<td style="width: 21.4956%;">字符串</td>
<td style="width: 21.9629%;">主键</td>
<td style="width: 30.2184%;">学号（唯一）</td>
</tr>
<tr>
<td style="width: 26.3243%;">student_name</td>
<td style="width: 21.4956%;">字符串</td>
<td style="width: 21.9629%;">非空</td>
<td style="width: 30.2184%;">姓名（不能为空）</td>
</tr>
<tr>
<td style="width: 26.3243%;">student_class</td>
<td style="width: 21.4956%;">字符串</td>
<td style="width: 21.9629%;"> </td>
<td style="width: 30.2184%;">班级</td>
</tr>
<tr>
<td style="width: 26.3243%;">student_sex</td>
<td style="width: 21.4956%;">字符串</td>
<td style="width: 21.9629%;"> </td>
<td style="width: 30.2184%;">性别</td>
</tr>
</tbody>
</table>
<p class="header-vfC6AV auto-hide-last-sibling-br"><strong>2.创建学生成绩表（student_score_66）</strong></p>
<div class="auto-hide-last-sibling-br paragraph-JOTKXA paragraph-element br-paragraph-space">字段要求：如下</div>
<div class="auto-hide-last-sibling-br mdbox-table-root table-container-GhL7Lo" data-scroll-inline-overflow="false" data-scroll-inline-at-start="true" data-scroll-inline-start-overflow="false" data-scroll-inline-at-end="true" data-scroll-inline-end-overflow="false">
<div class="table-scroll-container-hgHkfW mdbox-table-scroll-container">
<table style="width: 91.453%;">
<thead>
<tr>
<th style="width: 22.4583%;">字段名</th>
<th style="width: 21.2443%;">字段类型</th>
<th style="width: 18.3612%;">字段约束</th>
<th style="width: 37.9363%;">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="width: 22.4583%;">student_id</td>
<td style="width: 21.2443%;">字符串</td>
<td style="width: 18.3612%;">主键（联合主键）</td>
<td style="width: 37.9363%;">学号</td>
</tr>
<tr>
<td style="width: 22.4583%;">student_class</td>
<td style="width: 21.2443%;">整数</td>
<td style="width: 18.3612%;">非空</td>
<td style="width: 37.9363%;">班级（比如 2318）</td>
</tr>
<tr>
<td style="width: 22.4583%;">subject</td>
<td style="width: 21.2443%;">字符串</td>
<td style="width: 18.3612%;">主键（联合主键）</td>
<td style="width: 37.9363%;">科目</td>
</tr>
<tr>
<td style="width: 22.4583%;">score</td>
<td style="width: 21.2443%;">小数</td>
<td style="width: 18.3612%;"> </td>
<td style="width: 37.9363%;">成绩（支持小数，比如 58.9）</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>示例如下：</p>
</div>
</div>
<pre class="language-sql line-numbers"><code>--添加表的代码示例
CREATE TABLE student_info_66(
student_id VARCHAR(20) PRIMARY KEY,
student_name VARCHAR(50) NOT NULL,
student_class VARCHAR(20), 
student_sex VARCHAR(10)
);

CREATE TABLE student_score_66(
student_id VARCHAR(20),
student_class INT NOT NULL,
subject VARCHAR(20),
score FLOAT,
PRIMARY KEY(student_id,subject) --这里是联合主键，使用主键 + （）即可
);

--添加表的语法格式
CREATE TABLE 表名(
student_id VARCHAR(20) PRIMARY KEY,
表的字段名 + 类型 + 约束 + ,
如下同理可得...
);</code></pre>
<p>注意的是使用VARCHAR/CHAR都需要加（）应为这个类型是用来限制长度的，VARCHAR/CHAR都会需要预设长度，一般来说，使用VARCHAR就行，通用性很高</p>
<h6 class="header-vfC6AV auto-hide-last-sibling-br">此处的避坑点如下：</h6>
<ul class="auto-hide-last-sibling-br">
<li>学号用<code>VARCHAR</code>（字符串）而非<code>INT</code>（整数）：因为学号可能以 0 开头（比如 001），用整数会丢失前面的 0</li>
<li><code>NOT NULL</code>约束：姓名必须填，否则插入数据时会报错，避免 “无名学生” 的无效数据</li>
</ul>
<h5 class="header-vfC6AV auto-hide-last-sibling-br"><strong>附加题</strong></h5>
<p class="header-vfC6AV auto-hide-last-sibling-br"><strong>1.尝试添加一个外键</strong></p>
<div class="auto-hide-last-sibling-br paragraph-JOTKXA paragraph-element br-paragraph-space">现在需要给<code>student_info_66</code>里的<code>student_class</code>添加一个外键，并且关联到<code>student_score_66</code>这张表里，命名为<code>class_id</code></div>
<pre class="language-sql line-numbers"><code>--添加外键代码示例（两种方法）
--方法一：使用常规方法，建表时直接定义外键
CREATE TABLE student_info_66 (
student_id VARCHAR(20) PRIMARY KEY,
student_name VARCHAR(20) NOT NULL,
student_class VARCHAR(20),  -- 外键字段（关联班级表的 class_id）
student_sex VARCHAR(20),
FOREIGN KEY (student_class) REFERENCES student_score_66(class_id) -- 外键：关联班级分数表的键 class_id
);

--方法二：使用 ALTER 方法，如果表已创建，用 ALTER TABLE 添加外键
ALTER TABLE student_info_66
ADD FOREIGN KEY (student_class)  -- 本表里的外键字段
REFERENCES student_score_66(class_id);  -- 关联班级表的主键

-- ALTER 方法的添加外键的代码语法格式
ALTER TABLE + 需要修改的表名
ADD + FOREIGN KEY + 需要添加本表里的外键字段 
REFERENCES + 需要关联的外表表名 + (所要关联的表，所表示的键的名称) + ;

*特别注意：外键关联的另一张表（父表）的字段，必须是 “不可重复、有唯一代表性” 的键（主键或唯一键），就是说这个所谓的class_id必须要在那个所对应的表中为唯一的键值</code></pre>
<p class="header-vfC6AV auto-hide-last-sibling-br"><strong>本题的注意事项：</strong></p>
<ol class="auto-hide-last-sibling-br">
<li>外键关联的必须是主表的<strong>主键或唯一键</strong>（否则会报错 “无法添加外键约束”）</li>
<li>从表的外键字段（<code>student_class</code>）和主表的被关联字段（比如 <code>class_id</code> 或 <code>student_class</code>）且<strong>数据类型必须完全一致</strong>（比如都是 <code>VARCHAR(20)</code> 或 <code>INT</code>）</li>
</ol>
<p class="header-vfC6AV auto-hide-last-sibling-br"><strong>2.删除学生信息表</strong></p>
<div class="auto-hide-last-sibling-br paragraph-JOTKXA paragraph-element br-paragraph-space">如果建表后发现字段错了，需要删除表（<strong>注意：删除表会清空所有数据，谨慎操作</strong>）</div>
<pre class="language-sql line-numbers"><code>--删除学生信息表
DROP TABLE student_info_66;

--删除表的语法格式
DROP TABLE + 表名 + ;</code></pre>
<p>注意区分<code>DROP</code>和<code>DELETE</code>的用法：</p>
<ul>
<li>想删<strong>整个表 / 库 / 结构</strong> → 用 <code>DROP</code>（再次注意，此操作删除时须谨慎！！！）</li>
<li>想删<strong>表中的部分 / 全部数据</strong>，但保留表 → 用 <code>DELETE</code>（记得加 <code>WHERE</code> 条件，避免误删所有）</li>
</ul>
<h5 class="header-vfC6AV auto-hide-last-sibling-br">第三步：管理表数据（DML 操作：增删改）</h5>
<div class="auto-hide-last-sibling-br paragraph-JOTKXA paragraph-element br-paragraph-space">表建好后，我们需要录入成绩数据、修正不及格成绩、删除无效科目记录，这三步对应 SQL 的<code>INSERT</code><strong>（增）</strong>、<code>UPDATE</code><strong>（改）</strong>、<code>DELETE</code><strong>（删）</strong></div>
<p class="header-vfC6AV auto-hide-last-sibling-br"><strong>1. 插入成绩数据（INSERT）</strong></p>
<div class="auto-hide-last-sibling-br paragraph-JOTKXA paragraph-element br-paragraph-space">要求：将给了的 9 条成绩数据，插入到<code>student_score_66</code>：</div>
<div class="auto-hide-last-sibling-br mdbox-table-root table-container-GhL7Lo" data-scroll-inline-overflow="false" data-scroll-inline-at-start="true" data-scroll-inline-start-overflow="false" data-scroll-inline-at-end="true" data-scroll-inline-end-overflow="false">
<div class="table-scroll-container-hgHkfW mdbox-table-scroll-container">
<table style="width: 75.3561%;">
<thead>
<tr>
<th style="width: 27.8431%;">学号</th>
<th style="width: 25.1872%;">班级</th>
<th style="width: 22.3485%;">科目</th>
<th style="width: 24.6212%;">成绩</th>
</tr>
</thead>
<tbody>
<tr>
<td style="width: 27.8431%;">2024001</td>
<td style="width: 25.1872%;">2318</td>
<td style="width: 22.3485%;">语文</td>
<td style="width: 24.6212%;">58.9</td>
</tr>
<tr>
<td style="width: 27.8431%;">2024001</td>
<td style="width: 25.1872%;">2318</td>
<td style="width: 22.3485%;">数学</td>
<td style="width: 24.6212%;">90</td>
</tr>
<tr>
<td style="width: 27.8431%;">2024002</td>
<td style="width: 25.1872%;">2319</td>
<td style="width: 22.3485%;">语文</td>
<td style="width: 24.6212%;">90</td>
</tr>
<tr>
<td style="width: 27.8431%;">2024002</td>
<td style="width: 25.1872%;">2319</td>
<td style="width: 22.3485%;">数学</td>
<td style="width: 24.6212%;">79</td>
</tr>
<tr>
<td style="width: 27.8431%;">2024003</td>
<td style="width: 25.1872%;">2320</td>
<td style="width: 22.3485%;">语文</td>
<td style="width: 24.6212%;">92</td>
</tr>
<tr>
<td style="width: 27.8431%;">2024003</td>
<td style="width: 25.1872%;">2320</td>
<td style="width: 22.3485%;">数学</td>
<td style="width: 24.6212%;">94</td>
</tr>
<tr>
<td style="width: 27.8431%;">2024004</td>
<td style="width: 25.1872%;">2321</td>
<td style="width: 22.3485%;">语文</td>
<td style="width: 24.6212%;">66</td>
</tr>
<tr>
<td style="width: 27.8431%;">2024004</td>
<td style="width: 25.1872%;">2321</td>
<td style="width: 22.3485%;">数学</td>
<td style="width: 24.6212%;">9.5</td>
</tr>
<tr>
<td style="width: 27.8431%;">2024004</td>
<td style="width: 25.1872%;">2321</td>
<td style="width: 22.3485%;">test</td>
<td style="width: 24.6212%;">100</td>
</tr>
</tbody>
</table>
</div>
</div>
<pre class="language-sql line-numbers"><code>--添加表中的数据示例
INSERT INTO student_score_66 (student_id,student_class,subject,score) 
VALUES --多个值，一定要加s
('2024001', 2318, '语文', 58), 
('2024001', 2318, '数学', 90.0), -- 小数可以写90或90.0，不影响 
('2024002', 2319, '语文', 90), 
('2024002', 2319, '数学', 79), 
('2024003', 2320, '语文', 92),
('2024003', 2320, '数学', 94), 
('2024004', 2321, '语文', 66), 
('2024004', 2321, '数学', 9.5), 
('2024004', 2321, 'test', 100);

--添加表中的数据的代码语法格式
INSERT INTO + 表名 +（字段1，字段2，字段3...）
VALUES + （数据1，数据2，数据3...）+ ;</code></pre>
<h6 class="header-vfC6AV auto-hide-last-sibling-br">特别注意</h6>
<ul class="auto-hide-last-sibling-br">
<li>学号用<code>VARCHAR</code>（字符串）：所以必须使用 ' ' （上引号），将数据括起来</li>
<li>而非<code>INT</code>（整数）：可以不适用 ' ' ，直接写数字就行</li>
<li>字段名需要和数据一一对应，字段顺序要和<code style="font-weight: var(--font-weight-normal);">VALUES</code><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">里的数据顺序一致：比如</span><code style="font-weight: var(--font-weight-normal);">(student_id, student_class)</code><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">对应</span><code style="font-weight: var(--font-weight-normal);">('2024001', 2318)</code><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">，不能颠倒</span></li>
</ul>
<p class="header-vfC6AV auto-hide-last-sibling-br"><strong>2. 修正不及格成绩（UPDATE）</strong></p>
<div class="auto-hide-last-sibling-br paragraph-JOTKXA paragraph-element br-paragraph-space">要求：将成绩低于 60 分的同学，成绩统一改成 60 分（避免不及格）</div>
<div>
<pre class="language-sql line-numbers"><code>--将成绩 &lt;60 的记录，修改为60分示例：
UPDATE student_score_66 
SET score = 60.0 
WHERE score &lt; 60;

--修改数据部分的代码语法格式：
UPDATE + 需要修改的表的表名
SET + 需要修改后的数据
WHERE + 判断的条件 + ;</code></pre>
</div>
<p>运行成功效果如下：（可以看到，原本的两条数据已被修改）</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/28/Ping-Mu-Jie-Tu-2025-11-03-215753.png" alt="" width="741" height="522" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/28/responsive/Ping-Mu-Jie-Tu-2025-11-03-215753-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/28/responsive/Ping-Mu-Jie-Tu-2025-11-03-215753-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/28/responsive/Ping-Mu-Jie-Tu-2025-11-03-215753-md.webp 768w ,https://zeyun.dpdns.org/media/posts/28/responsive/Ping-Mu-Jie-Tu-2025-11-03-215753-xl.webp 1024w"></figure>
<p class="header-vfC6AV auto-hide-last-sibling-br"><strong>关键说明</strong></p>
<ul class="auto-hide-last-sibling-br">
<li>必须加<code>WHERE</code>条件：如果没加，会把所有学生的成绩都改成 60 分，酿成大错！！</li>
<li>后面没有加入逗号的原因是：这原本是个一行的代码语句，为了提高代码的<strong>可读性</strong>和美观考虑，我写成了换行的样式，<strong>全选这部分代码后的运行结果和单行的结果是一样的</strong></li>
</ul>
<p class="header-vfC6AV auto-hide-last-sibling-br"><strong>3. 删除无效科目记录（DELETE）</strong></p>
<div class="auto-hide-last-sibling-br paragraph-JOTKXA paragraph-element br-paragraph-space">要求：发现有个 “test” 科目是测试数据，要求删除该科目的所有成绩</div>
<pre class="language-sql line-numbers"><code>--删除科目为test的记录代码示例：
DELETE FROM student_score_66 WHERE subject = 'test';

--删除数据的代码语法格式：
DELETE FROM + 需要删除的表名 WHERE + 删除条件 + ;</code></pre>
<p class="header-vfC6AV auto-hide-last-sibling-br"><strong>避坑点</strong></p>
<ul class="auto-hide-last-sibling-br">
<li>同样要加<code>WHERE</code>条件：没加的话会删除表中所有成绩数据，无法恢复</li>
<li>字符串匹配要准确：<code>'test'</code>区分大小写（比如<code>'Test'</code>不会被匹配），按实际数据写</li>
</ul>
<h5 class="header-vfC6AV auto-hide-last-sibling-br">第四步：成绩查询（SQL 核心：SELECT语句）</h5>
<div class="auto-hide-last-sibling-br paragraph-JOTKXA paragraph-element br-paragraph-space">要求 ：以下将会使用 4 类查询，覆盖了“筛选、排序、限制数量”等常用场景，也是工作中最常遇到的需求</div>
<p class="header-vfC6AV auto-hide-last-sibling-br"><strong>1. 查询学号为 2024001 的成绩，按成绩从高到低排序</strong></p>
<div class="auto-hide-last-sibling-br paragraph-JOTKXA paragraph-element br-paragraph-space">需求拆解：筛选学号 = 2024001 的记录，输出学号（<code>student_id</code>）、班级（<code>student_class</code>）、科目（<code>subject</code>）、成绩（<code>score</code>），按成绩<strong>降序</strong>排列</div>
<ul>
<li>温馨提示：升序（<code>ASC</code>），降序（<code>DESC</code>）</li>
</ul>
<div class="code-block-element-YDlfvc dark-xmPie6 dark custom-code-block-container--sql hide-indicator disable-theme-style custom-code-block-container">
<div class="code-area-tZtDgG code-area" dir="ltr">
<div class="content-EGRozu code-content light-scrollbar-TbsSwi">
<pre class="language-sql line-numbers"><code>--查询代码语句示例：
SELECT student_id, student_class, subject, score
FROM student_score_66
WHERE student_id = '2024001'  -- 筛选指定学号
ORDER BY score DESC;  -- 按成绩降序（从高到低）

--查询代码语法格式：
SELECT + 查询数据1，查询数据2，查询数据3 +...
FROM  + 所要查询数据来源的表名
WHERE + 判断的条件
ORDER BY + 排序字段 + 升序/降序 + ;</code></pre>
</div>
</div>
</div>
<p><strong>目标结果如下：（*注：原 58.9 已改成 60）</strong></p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/28/Ping-Mu-Jie-Tu-2025-11-02-051724.png" alt="" width="854" height="397" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/28/responsive/Ping-Mu-Jie-Tu-2025-11-02-051724-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/28/responsive/Ping-Mu-Jie-Tu-2025-11-02-051724-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/28/responsive/Ping-Mu-Jie-Tu-2025-11-02-051724-md.webp 768w ,https://zeyun.dpdns.org/media/posts/28/responsive/Ping-Mu-Jie-Tu-2025-11-02-051724-xl.webp 1024w"></figure>
<p class="header-vfC6AV auto-hide-last-sibling-br"><strong>2. 查询数学成绩 90-100 分的记录，按班级升序、成绩降序排列</strong></p>
<div class="auto-hide-last-sibling-br paragraph-JOTKXA paragraph-element br-paragraph-space">需求拆解：筛选科目 = 数学且成绩在 90-100 之间的记录，输出指定字段</div>
<div class="auto-hide-last-sibling-br paragraph-JOTKXA paragraph-element br-paragraph-space"><strong>排序时注意：先按班级从低到高，再按成绩从高到低排序</strong></div>
<p>示例代码如下：</p>
<pre class="language-sql line-numbers"><code>--查询代码示例
SELECT student_id, student_class, subject, score
FROM student_score_66
WHERE subject = '数学' 
AND score BETWEEN 90 AND 100  -- 成绩在90-100之间（包含90和100）
ORDER BY student_class ASC, score DESC;  -- 先按班级升序，再按成绩降序

--查询代码语法格式
SELECT + 要查询且打印输出的数据
FROM + 数据来源的表名
WHERE + 筛选条件
AND + 所要筛选的字段名 + BETWEEN 最低的分数线 AND 最高的分数线 --可理解为阈值
ORDER BY + 先排序的字段 + 排序方式  + , + 再需要排序的字段 + ;</code></pre>
<p><strong>目标结果如下：</strong></p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/28/Ping-Mu-Jie-Tu-2025-11-02-051225.png" alt="" width="754" height="232" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/28/responsive/Ping-Mu-Jie-Tu-2025-11-02-051225-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/28/responsive/Ping-Mu-Jie-Tu-2025-11-02-051225-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/28/responsive/Ping-Mu-Jie-Tu-2025-11-02-051225-md.webp 768w ,https://zeyun.dpdns.org/media/posts/28/responsive/Ping-Mu-Jie-Tu-2025-11-02-051225-xl.webp 1024w"></figure>
<p><strong>关键说明</strong></p>
<ul class="auto-hide-last-sibling-br">
<li><code>BETWEEN 90 AND 100</code>：等价于<code>score &gt;=90 AND score &lt;=100</code>，只不过我个人认为这样的写法更简洁</li>
<li>多字段排序：先按<code>student_class ASC</code>（班级从<strong>低到高</strong>），同一班级的再按<code>score DESC</code>（成绩从高到低），排序优先级按字段顺序来</li>
</ul>
<p class="header-vfC6AV auto-hide-last-sibling-br"><strong>3. 查询语文成绩 &lt;70 或&gt; 90 的记录，按班级升序排列</strong></p>
<div class="auto-hide-last-sibling-br paragraph-JOTKXA paragraph-element br-paragraph-space">需求拆解：筛选科目 = 语文且成绩 “低于 70 或高于 90” 的记录，按班级从低到高排序</div>
<div class="auto-hide-last-sibling-br paragraph-JOTKXA paragraph-element br-paragraph-space"><strong>先筛选，再判断（需要注意判断符号的关系），后排序</strong></div>
<pre class="language-sql line-numbers"><code>--查询代码示例
SELECT student_id,student_class,subject,score
FROM student_score_66
WHERE subject = '语文'
AND (score &lt; 70 OR score &gt; 90)  -- 括号不能少！
ORDER BY student_class ASC;

--查询代码语法格式
SELECT + 要查询且打印输出的数据
FROM + 数据来源的表名
WHERE + 筛选条件
AND + 判断的条件 --这里加入括号的原因是 AND 的优先级高于 OR ，所以需要加入括号
ORDER BY + 排序的字段 + 排序方式  + ;</code></pre>
<p><strong>目标结果如下：</strong></p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/28/Ping-Mu-Jie-Tu-2025-11-02-053902.png" alt="" width="866" height="525" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/28/responsive/Ping-Mu-Jie-Tu-2025-11-02-053902-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/28/responsive/Ping-Mu-Jie-Tu-2025-11-02-053902-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/28/responsive/Ping-Mu-Jie-Tu-2025-11-02-053902-md.webp 768w ,https://zeyun.dpdns.org/media/posts/28/responsive/Ping-Mu-Jie-Tu-2025-11-02-053902-xl.webp 1024w"></figure>
<p class="header-vfC6AV auto-hide-last-sibling-br"><strong>避坑点</strong></p>
<ul class="auto-hide-last-sibling-br">
<li>括号必须加：<code>AND</code>优先级高于<code>OR</code>，如果没加括号，会被解析为<code>(subject='语文' AND score&lt;70) OR score&gt;90</code>，从而导致 “非语文科目且成绩&gt; 90” 的记录被误查</li>
<li>逻辑判断要准确：“低于 70 或高于 90” = 不包含 70 和 90，按需求写条件</li>
</ul>
<h5 class="header-vfC6AV auto-hide-last-sibling-br">4. 查询全校语文成绩前 3 名</h5>
<div class="auto-hide-last-sibling-br paragraph-JOTKXA paragraph-element br-paragraph-space">需求拆解：筛选科目 = 语文的记录，按成绩降序排列，取前 3 条</div>
<div><strong>先筛选，再排序，后取前三</strong></div>
<div>
<pre class="language-sql line-numbers"><code>--查询代码示例
SELECT student_id,student_class,subject,score
FROM student_score_66
WHERE subject = '语文'
ORDER BY score DESC  -- 先按成绩降序，确保高分在前
LIMIT 3;  -- 取前3条，即前3名

--查询代码语法格式
SELECT + 要查询且打印输出的数据
FROM + 数据来源的表名
WHERE + 筛选条件
ORDER BY + 排序的字段 + 排序方式  --DESC降序，ASC升序
LIMIT + 需要取的排名数量 + ;</code></pre>
</div>
<p><strong>目标结果如下：</strong></p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/28/Ping-Mu-Jie-Tu-2025-11-02-054712.png" alt="" width="1010" height="521" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/28/responsive/Ping-Mu-Jie-Tu-2025-11-02-054712-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/28/responsive/Ping-Mu-Jie-Tu-2025-11-02-054712-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/28/responsive/Ping-Mu-Jie-Tu-2025-11-02-054712-md.webp 768w ,https://zeyun.dpdns.org/media/posts/28/responsive/Ping-Mu-Jie-Tu-2025-11-02-054712-xl.webp 1024w"></figure>
<p class="header-vfC6AV auto-hide-last-sibling-br"><strong>关键说明</strong></p>
<ul class="auto-hide-last-sibling-br">
<li><code>LIMIT 3</code>：必须在<code>ORDER BY</code>之后 ，如果先取 3 条再排序，会导致取的是 “随机 3 条再排序”，不是真正的前 3 名</li>
<li>如果有成绩并列：比如第 3 名有 2 个学生都是 90 分，<code>LIMIT 3</code>会只取其中 1 条，若要包含并列，需要调整逻辑（比如先查第 3 名的分数，再查≥该分数的记录）</li>
</ul>
<h2 class="header-vfC6AV auto-hide-last-sibling-br">至此，你已经基本学会数据库核心操作</h2>
<p> </p>
<div class="auto-hide-last-sibling-br paragraph-JOTKXA paragraph-element br-paragraph-space">跟着这些小题实操下来，你会发现：数据库操作说白了其实就是</div>
<div class="auto-hide-last-sibling-br paragraph-JOTKXA paragraph-element br-paragraph-space"><strong>“建库→建表→填数据→查数据” </strong>的流程，核心 SQL 就那几个：</div>
<ul class="auto-hide-last-sibling-br">
<li><strong>建库建表</strong>：<code>CREATE DATABASE</code>/<code>CREATE TABLE</code>；</li>
<li><strong>增删改数据</strong>：<code>INSERT</code>/<code>DELETE</code>/<code>UPDATE</code>（记住加<code>WHERE</code>）；</li>
<li><strong>查询数据</strong>：<code>SELECT</code>（结合<code>WHERE</code>筛选、<code>ORDER BY</code>排序、<code>LIMIT</code>限制数量）</li>
</ul>
<p> </p>
<div class="auto-hide-last-sibling-br paragraph-JOTKXA paragraph-element br-paragraph-space">接下来，你可以试着换个数字（比如把你的<code>studentxx</code>改成<code>abcd</code>），自己尝试重新走一遍流程，或者自己加个需求（比如，查询 2318 班所有学生的数学成绩）</div>
<div class="auto-hide-last-sibling-br paragraph-JOTKXA paragraph-element br-paragraph-space">基本上多练几次就能熟练掌握</div>
<div> </div>
<div class="align-center">以上就是数据库的入门指南 Part 1 的教程ψ(｀∇´)ψ</div>
<div> </div>
<div class="align-center">进阶版本的 ”Part 2 内连接的查询入门“</div>
<div class="align-center">现已经更新</div>
<div class="align-center"><a href="https://zeyun.dpdns.org/my_sql_part2.html" target="_blank" rel="noopener noreferrer">点我跳转 <strong>Part 2</strong></a></div>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Apple M系列芯片全分析</title>
        <author>
            <name>云泽</name>
        </author>
        <link href="https://zeyun.dpdns.org/apple_silicon_m1tom4chip.html"/>
        <id>https://zeyun.dpdns.org/apple_silicon_m1tom4chip.html</id>
            <category term="科技分享"/>

        <updated>2025-10-19T08:48:16+08:00</updated>
            <summary>
                <![CDATA[
                    Apple M1 ~ M4 系列芯片全解析&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <h1>Apple M1 ~ M4 系列芯片全解析</h1>
<p>苹果从 Intel 转向自研 <strong>Apple Silicon</strong>，不仅是换了一颗芯片，更是改变了整个计算生态的思维方式<br>从 2020 年的 M1，到如今的 M4，苹果在短短四年内，完成了从“移动端芯片”到“桌面级算力平台”的演化<br>这篇文章，本人就来完整地解析 Apple M 系列芯片的设计逻辑、性能变化与 未来 AI 方向上的布局</p>
<p data-start="672" data-end="704">（为了让不太熟技术的读者也能掌握以下内容的含义，我下面先做几个术语超链接解释）</p>
<ul data-start="706" data-end="1372">
<li data-start="706" data-end="836">
<p data-start="708" data-end="836"><strong data-start="708" data-end="768"><a href="https://baike.baidu.com/item/ARM%E6%9E%B6%E6%9E%84/9154278" target="_blank" rel="noopener noreferrer">ARM 架构</a></strong>：一种广泛用于手机／平板／嵌入式设备的 CPU 架构，典型特点是低功耗。苹果 M 系列采用 ARM 指令集（AArch64）为基础</p>
</li>
<li data-start="837" data-end="944">
<p data-start="839" data-end="944"><strong data-start="839" data-end="886"><a href="https://baike.baidu.com/item/X86%E6%9E%B6%E6%9E%84?fromModule=lemma_search-box" target="_blank" rel="noopener noreferrer">x86 架构</a></strong>：传统 PC／笔记本 CPU 多用的架构，由 Intel 和 AMD 主导。苹果以前 Mac 使用的即为此架构</p>
</li>
<li data-start="945" data-end="1066">
<p data-start="947" data-end="1066"><strong data-start="947" data-end="991"><a href="https://baike.baidu.com/item/%E7%BB%9F%E4%B8%80%E5%86%85%E5%AD%98%E6%9E%B6%E6%9E%84?fromModule=lemma_search-box" target="_blank" rel="noopener noreferrer">统一内存架构</a>（Unified Memory Architecture, UMA）</strong>：即 CPU、GPU、神经网络引擎（Neural Engine）等共享同一物理内存，而不是各自独立分配，这样可减少复制、降低延迟、提升带宽利用率</p>
</li>
<li><strong><a href="https://feeds-drcn.cloud.huawei.com.cn/landingpage/latest?docid=105120369ccbfb270776ad6f1b954197aef87ba&amp;to_app=hwbrowser&amp;dy_scenario=relate&amp;tn=486eb2d4d803630155155f328494b99e25a0c7e36bb9345d0baa03df77f3be34&amp;channel=HW_TECH&amp;ctype=news&amp;cpid=666&amp;r=CN#/">SoC（System on Chip）</a></strong>：顾名思义，它就是把一整套微型计算机系统都塞进了一个小小的芯片里！这可不是简单的换个名字，而是芯片功能本质的升级</li>
<li data-start="1067" data-end="1173">
<p data-start="1069" data-end="1173"><strong data-start="1069" data-end="1094"><a href="https://blog.csdn.net/u013132758/article/details/145709360" target="_blank" rel="noopener noreferrer">神经网络引擎</a>（Neural Engine）</strong>：苹果自研的 AI 加速器，用于机器学习／推理任务，在 M 系列芯片中成为标配</p>
</li>
<li data-start="1174" data-end="1250">
<p data-start="1176" data-end="1250"><strong data-start="1176" data-end="1197"><a href="https://baike.baidu.com/item/%E5%88%B6%E7%A8%8B%E5%B7%A5%E8%89%BA?fromModule=lemma_search-box" target="_blank" rel="noopener noreferrer">制程工艺</a>（如 5 nm、3 nm）</strong>：指半导体器件中 晶体管 和互连线的最小特征尺寸。数值越小，理论上可做更多晶体管、功耗更低、性能更强</p>
</li>
<li data-start="1251" data-end="1372">
<p data-start="1253" data-end="1372"><strong data-start="1253" data-end="1289"><a href="https://baike.baidu.com/item/%E5%A4%A7%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B?fromModule=lemma_search-box" target="_blank" rel="noopener noreferrer">大语言模型</a>（Large Language Model, LLM）</strong>：近年来 AI 领域热门，指如 GPT 系列此类拥有大量参数、用于生成语言／对话／推理的模型。苹果将这些 AI 能力与设备端硬件结合，是 M 系列发展的未来方向之一</p>
</li>
<li data-start="1251" data-end="1372"><strong><a href="https://www.trustedreviews.com/explainer/what-is-dynamic-caching-4385742" target="_blank" rel="noopener noreferrer">Dynamic Caching（动态缓存）</a></strong>： 是一种动态缓存机制，主要用于优化模型生成过程中的性能和内存使用。它通过动态调整缓存大小，存储生成过程中计算的键值对（Key-Value Pairs），从而避免重复计算，提高生成效率</li>
</ul>
<h2>M1：从“换芯”到“重启”的开端</h2>
<p>M1 是苹果芯片的分水岭<br>我认为它不仅仅只是 A12X/Z 的强化版，而是一场彻底的“革命”，直到如今，再次回顾当年苹果 M1 芯片发布会，给我的感觉是不亚于，iPhone重新定义手机，iPad重新定义平板得存在</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/26/apple_m1_chip.jpg" alt="" width="3066" height="1720" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/26/responsive/apple_m1_chip-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/26/responsive/apple_m1_chip-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/26/responsive/apple_m1_chip-md.webp 768w ,https://zeyun.dpdns.org/media/posts/26/responsive/apple_m1_chip-xl.webp 1024w"></figure>
<p>M1 首次采用了 <strong>ARM 指令集</strong>（与 Intel 的 x86 不同），并结合苹果自研的 <strong>Firestorm 高性能核心 + Icestorm 高能效核心</strong>，实现了前所未有的能效比</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/26/Ping-Mu-Jie-Tu-2025-10-19-063414.png" alt="" width="995" height="570" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/26/responsive/Ping-Mu-Jie-Tu-2025-10-19-063414-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/26/responsive/Ping-Mu-Jie-Tu-2025-10-19-063414-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/26/responsive/Ping-Mu-Jie-Tu-2025-10-19-063414-md.webp 768w ,https://zeyun.dpdns.org/media/posts/26/responsive/Ping-Mu-Jie-Tu-2025-10-19-063414-xl.webp 1024w"></figure>
<p>更重要的是，M1 采用了 <strong>UMA（统一内存架构）</strong></p>
<p>这意味着 CPU、GPU、NPU（神经引擎）都在同一个内存池中工作——不再像传统电脑那样来回搬运数据<br>所以哪怕只有 8GB 内存，M1 的性能表现依然能媲美 16GB 的传统笔电</p>
<figure class="post__image"><img  src="https://zeyun.dpdns.org/media/posts/26/M1_product.webp" alt="" width="189" height="189" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/26/responsive/M1_product-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/26/responsive/M1_product-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/26/responsive/M1_product-md.webp 768w ,https://zeyun.dpdns.org/media/posts/26/responsive/M1_product-xl.webp 1024w"></figure><figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/26/M1_APL1102_temp.png" alt="" width="189" height="189" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/26/responsive/M1_APL1102_temp-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/26/responsive/M1_APL1102_temp-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/26/responsive/M1_APL1102_temp-md.webp 768w ,https://zeyun.dpdns.org/media/posts/26/responsive/M1_APL1102_temp-xl.webp 1024w"></figure><figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/26/M1_structure-2.webp" alt="" width="189" height="189" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/26/responsive/M1_structure-2-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/26/responsive/M1_structure-2-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/26/responsive/M1_structure-2-md.webp 768w ,https://zeyun.dpdns.org/media/posts/26/responsive/M1_structure-2-xl.webp 1024w"></figure>
<p>在当时，M1 芯片的单核性能超越了 Intel i9，而功耗却只有它的三分之一</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/26/Ping-Mu-Jie-Tu-2025-10-19-064611.png" alt="" width="1063" height="783" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/26/responsive/Ping-Mu-Jie-Tu-2025-10-19-064611-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/26/responsive/Ping-Mu-Jie-Tu-2025-10-19-064611-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/26/responsive/Ping-Mu-Jie-Tu-2025-10-19-064611-md.webp 768w ,https://zeyun.dpdns.org/media/posts/26/responsive/Ping-Mu-Jie-Tu-2025-10-19-064611-xl.webp 1024w"></figure>
<p>此外，苹果把不同的核心和缓存采用多层堆叠的方式，集成在很小的面积上，进一步加快了核心与核心/缓存/内存之间的通讯速度，相比于平铺式的设计（例如Intel的CPU，核心与核心之间存在着几到几十纳秒的通讯延迟）而从苹果的设计就可看出，这种堆叠的设计就是为了能让电信号少绕弯路，减少延迟和功耗</p>
<p>无奈当时的技术条件有限（指的是M1芯片面积不大，为保证时钟周期内的芯片之间的互联不出现错误，所以为了保证不降低时钟频率所导致的CPU性能的降低，当时的封装技术只能做到这样），M1 只能做到16GB这种大小的统一内存</p>
<p>这也就说明了为什么同时期 M1 芯片相比于去年最新的Intel底压处理器，性能提升了3倍<br>这也是为什么那一代 MacBook Air 即使“无风扇设计”，也能长时间高性能运行</p>
<p>M1 的意义，不在于速度的暴涨，而在于 <strong>重新定义了性能与能耗的关系</strong></p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/26/m1_m1pro_m1_max.jpeg" alt="" width="868" height="488" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/26/responsive/m1_m1pro_m1_max-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/26/responsive/m1_m1pro_m1_max-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/26/responsive/m1_m1pro_m1_max-md.webp 768w ,https://zeyun.dpdns.org/media/posts/26/responsive/m1_m1pro_m1_max-xl.webp 1024w"></figure>
<p>有关于M1这么强大的原因，还得益于以下几个优势：</p>
<ol>
<li>ARM架构的精简指令集的优势</li>
<li>系统级的封装芯片的设计</li>
<li>硬件封闭的生态系统和自家操作系统的优势</li>
<li>神经网络引擎协助进行图像方面的计算</li>
</ol>
<h2>M1 Pro / Max / Ultra：性能的层层扩展</h2>
<p>苹果在 M1 成功的基础上，开始了分层策略：</p>
<table class=" align-center" style="width: 100%; border-collapse: collapse; table-layout: auto;">
<thead>
<tr style="height: 48.5625px;">
<th style="width: 13.2832%; height: 48.5625px;">芯片</th>
<th style="width: 24.5614%; height: 48.5625px;">CPU规格</th>
<th style="width: 31.8296%; height: 48.5625px;">GPU规格</th>
<th style="width: 30.3258%; height: 48.5625px;">使用设备</th>
</tr>
</thead>
<tbody>
<tr style="height: 237.562px;">
<td style="width: 13.2832%; height: 237.562px;">M1</td>
<td style="width: 24.5614%; height: 237.562px;">
<div class="li-div-cpu li-div-cpu-b">3.20GHz ×4<br>2.06GHz ×4</div>
</td>
<td style="width: 31.8296%; height: 237.562px;">Apple ×7<br>112 EUs<br>896 ALUs/Apple ×8<br>128 EUs<br>1024 ALUs<br>@1278MHz</td>
<td style="width: 30.3258%; height: 237.562px;">MacBook Air (M1, 2020 年)<br>MacBook Pro (13英寸,M1,2020年)<br>Mac mini (M1, 2020 年)<br>iMac (24 英寸, M1, 2021 年)<br>iPad Air (第 5 代)<br>iPad Pro 11 英寸 (第 3 代)<br>iPad Pro 12.9 英寸 (第 5 代)</td>
</tr>
<tr style="height: 183.562px;">
<td style="width: 13.2832%; height: 183.562px;">M1 Pro</td>
<td style="width: 24.5614%; height: 183.562px;">3.23GHz ×6<br>2.06GHz ×2/3.23GHz ×8<br>2.06GHz ×2</td>
<td style="width: 31.8296%; height: 183.562px;">Apple ×14<br>224 EUs<br>1792 ALUs/Apple ×16<br>256 EUs<br>2048 ALUs<br>@1296MHz</td>
<td style="width: 30.3258%; height: 183.562px;">
<div class="li-div-device li-div-device-b">MacBook Pro (14 英寸,2021 年)<br>MacBook Pro (16 英寸,2021 年)</div>
</td>
</tr>
<tr style="height: 183.562px;">
<td style="width: 13.2832%; height: 183.562px;">M1 Max</td>
<td style="width: 24.5614%; height: 183.562px;">
<div class="li-div-cpu li-div-cpu-b">3.23GHz ×8<br>2.06GHz ×2</div>
</td>
<td style="width: 31.8296%; height: 183.562px;">Apple ×24<br>384 EUs<br>3072 ALUs/Apple ×32<br>512 EUs<br>4096 ALUs<br>@1296MHz</td>
<td style="width: 30.3258%; height: 183.562px;">
<div class="li-div-device li-div-device-b">MacBook Pro (14 英寸,2021 年)<br>MacBook Pro (16 英寸, 2021 年)<br>Mac Studio (2022 年)</div>
</td>
</tr>
<tr style="height: 93.555px;">
<td style="width: 13.2832%; height: 93.555px;">M1 Ultra</td>
<td style="width: 24.5614%; height: 93.555px;">
<div class="li-div-cpu li-div-cpu-b">3.23GHz ×16<br>2.06GHz ×4</div>
</td>
<td style="width: 31.8296%; height: 93.555px;">Apple ×48<br>768 EUs<br>6144 ALUs/Apple ×48<br>768 EUs<br>6144 ALUs@1296MHz</td>
<td style="width: 30.3258%; height: 93.555px;">
<div class="li-div-device li-div-device-b">Mac Studio (2022 年)</div>
</td>
</tr>
</tbody>
</table>
<p><strong>UltraFusion 架构</strong> 是苹果在芯片设计史上的一次里程碑。<br>它让两颗 M1 Max 通过硅互联桥高速通信，就像两颗芯片变成“一颗超芯片”，<br>实现了桌面级 CPU 的性能，但保持 ARM 架构的能效</p>
<p>M1 家族的出现，使苹果不再依赖外部厂商，彻底掌控了从芯片到系统的底层生态</p>
<h2>M2：性能的线性提升与AI能力的觉醒</h2>
<p data-start="401" data-end="687">M2 并没有像 M1 那样一夜改写整个行业，但它把 M1 的架构优势继续放大并补足了实际使用中暴露的短板。M2 在 CPU 架构上仍然延续 Firestorm/Icestorm 思路（高性能核心 + 高能效核心），但在 <strong data-start="511" data-end="541">GPU 核心数、内存带宽、媒体引擎与最大统一内存容量</strong> 上都进行了升级——这让它在创作类工作（视频编解码、图像处理、模型推理的边缘任务）上更“顺手”</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/26/M2_Summary2-2.jpg" alt="" width="3840" height="2160" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/26/responsive/M2_Summary2-2-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/26/responsive/M2_Summary2-2-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/26/responsive/M2_Summary2-2-md.webp 768w ,https://zeyun.dpdns.org/media/posts/26/responsive/M2_Summary2-2-xl.webp 1024w"></figure>
<p data-start="401" data-end="687">M2 发布于 2022 年，依旧基于 ARM 架构，但制程从 5nm 升级为第二代 5nm。<br>相比 M1，CPU 提升 18%，GPU 提升 35%，神经引擎提升 40%，M2 提供了更高的 GPU 性能、更大的统一内存上限（最高 24GB）以及 100GB/s 的内存带宽</p>
<p data-start="689" data-end="706"><strong data-start="689" data-end="706">M2 的升级点：</strong></p>
<ul data-start="707" data-end="899">
<li data-start="707" data-end="820">
<p data-start="709" data-end="820">继续以 UMA（统一内存架构）为核心，使得 CPU/GPU/NPU 更高效共享同一内存池，减少数据搬运开销并提高实际应用中的响应速度与能耗效率</p>
</li>
<li data-start="821" data-end="899">
<p data-start="823" data-end="899">在媒体处理方面加入更强的硬件加速（ProRes 编码/解码等），对创作者友好</p>
</li>
</ul>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/26/v2-55271f2c1e3bc6329bf2aa37a90286f2_1440w-2.webp" alt="" width="832" height="468" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/26/responsive/v2-55271f2c1e3bc6329bf2aa37a90286f2_1440w-2-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/26/responsive/v2-55271f2c1e3bc6329bf2aa37a90286f2_1440w-2-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/26/responsive/v2-55271f2c1e3bc6329bf2aa37a90286f2_1440w-2-md.webp 768w ,https://zeyun.dpdns.org/media/posts/26/responsive/v2-55271f2c1e3bc6329bf2aa37a90286f2_1440w-2-xl.webp 1024w"></figure>
<table class=" align-center" style="width: 100%; border-collapse: collapse; table-layout: auto;">
<thead>
<tr style="height: 105.555px;">
<th style="width: 11.214%; height: 105.555px;">芯片</th>
<th style="width: 17.4897%; height: 105.555px;" align="right">CPU（高性能 × 高能效）</th>
<th style="width: 16.6667%; height: 105.555px;" align="right">GPU（最大核数）</th>
<th style="width: 9.5679%; height: 105.555px;" align="right">Neural Engine</th>
<th style="width: 16.6667%; height: 105.555px;" align="right">统一内存带宽</th>
<th style="width: 17.2798%; height: 105.555px;" align="right">最大统一内存</th>
<th style="width: 11.2181%; height: 105.555px;">常见搭载设备</th>
</tr>
</thead>
<tbody>
<tr style="height: 183.562px;">
<td style="width: 11.214%; height: 183.562px;"><strong>M2</strong></td>
<td style="width: 17.4897%; height: 183.562px;" align="right">8 核（4P + 4E）</td>
<td style="width: 16.6667%; height: 183.562px;" align="right">8 / 10 核</td>
<td style="width: 9.5679%; height: 183.562px;" align="right">16 核</td>
<td style="width: 16.6667%; height: 183.562px;" align="right">100 GB/s</td>
<td style="width: 17.2798%; height: 183.562px;" align="right">24 GB</td>
<td style="width: 11.2181%; height: 183.562px;">MacBook Air (M2)、13" MacBook Pro (M2)、iPad Pro（部分型号）。(<a href="https://support.apple.com/en-us/111867?utm_source=chatgpt.com" title="MacBook Air (M2, 2022) - Tech Specs">苹果支持</a>)</td>
</tr>
<tr style="height: 129.562px;">
<td style="width: 11.214%; height: 129.562px;"><strong>M2 Pro</strong></td>
<td style="width: 17.4897%; height: 129.562px;" align="right">可达 12 核（8P + 4E）或 10 核（6P + 4E）</td>
<td style="width: 16.6667%; height: 129.562px;" align="right">16 / 19 核</td>
<td style="width: 9.5679%; height: 129.562px;" align="right">16 核</td>
<td style="width: 16.6667%; height: 129.562px;" align="right">200 GB/s</td>
<td style="width: 17.2798%; height: 129.562px;" align="right">32 GB</td>
<td style="width: 11.2181%; height: 129.562px;">14"/16" MacBook Pro、Mac mini（部分配置）</td>
</tr>
<tr style="height: 74.562px;">
<td style="width: 11.214%; height: 74.562px;"><strong>M2 Max</strong></td>
<td style="width: 17.4897%; height: 74.562px;" align="right">可达 12 核（8P + 4E）</td>
<td style="width: 16.6667%; height: 74.562px;" align="right">可达 30 / 38 核</td>
<td style="width: 9.5679%; height: 74.562px;" align="right">16 核</td>
<td style="width: 16.6667%; height: 74.562px;" align="right">400 GB/s</td>
<td style="width: 17.2798%; height: 74.562px;" align="right">96 GB</td>
<td style="width: 11.2181%; height: 74.562px;">14"/16" MacBook Pro（高阶）、Mac Studio（部分版本）</td>
</tr>
<tr style="height: 102.562px;">
<td style="width: 11.214%; height: 102.562px;"><strong>M2 Ultra</strong></td>
<td style="width: 17.4897%; height: 102.562px;" align="right">24 核（16P + 8E，Ultra 为两颗 M2 Max 互联）</td>
<td style="width: 16.6667%; height: 102.562px;" align="right">可达 60 / 76 核</td>
<td style="width: 9.5679%; height: 102.562px;" align="right">32 核</td>
<td style="width: 16.6667%; height: 102.562px;" align="right">800 GB/s</td>
<td style="width: 17.2798%; height: 102.562px;" align="right">192 GB</td>
<td style="width: 11.2181%; height: 102.562px;">Mac Studio、Mac Pro（部分型号）</td>
</tr>
</tbody>
</table>
<p>换句话说，从 M2 开始，Mac 进入了“AI 预备阶段”，搭载了 M2 的 Mac 本地调式没问题，跑训练真的够呛</p>
<h3 data-start="1868" data-end="1885">M2（芯片，开新篇）</h3>
<ul data-start="1886" data-end="2210">
<li data-start="1886" data-end="2056">
<p data-start="1888" data-end="2056">核心配置：8 核 CPU（4P+4E），GPU 可选 8 或 10 核，Neural Engine 16 核。支持最多 24GB 统一内存，带宽 100GB/s。适合日常生产力、轻量创作与编码加速。官方示范中，M2 的 GPU 在相同功耗下比 M1 有显著提升</p>
</li>
<li data-start="2057" data-end="2210">
<p data-start="2059" data-end="2210">点评：把 M1 的“高能效+统一内存”优点继续保持，并适度提升图形与媒体性能，目标是让轻薄本在视频剪辑与图形处理上更实用（而不是仅仅跑分更高）。UMA 的优势在 24GB 的上限下仍能带来强感知收益（比如小模型推理、合成任务）</p>
</li>
</ul>
<figure class="post__image"><img  src="https://zeyun.dpdns.org/media/posts/26/M2_product.webp" alt="" width="189" height="189" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/26/responsive/M2_product-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/26/responsive/M2_product-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/26/responsive/M2_product-md.webp 768w ,https://zeyun.dpdns.org/media/posts/26/responsive/M2_product-xl.webp 1024w"></figure><figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/26/M2_APL1109_temp.png" alt="" width="189" height="189" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/26/responsive/M2_APL1109_temp-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/26/responsive/M2_APL1109_temp-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/26/responsive/M2_APL1109_temp-md.webp 768w ,https://zeyun.dpdns.org/media/posts/26/responsive/M2_APL1109_temp-xl.webp 1024w"></figure><figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/26/M2_structure.webp" alt="" width="189" height="189" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/26/responsive/M2_structure-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/26/responsive/M2_structure-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/26/responsive/M2_structure-md.webp 768w ,https://zeyun.dpdns.org/media/posts/26/responsive/M2_structure-xl.webp 1024w"></figure>
<h3 data-start="2212" data-end="2230">M2 Pro（让 Pro 级性能再晋级）</h3>
<ul data-start="2231" data-end="2514">
<li data-start="2231" data-end="2367">
<p data-start="2233" data-end="2367">核心配置：将 M2 横向扩展，最高 12 核 CPU、最高 19 核 GPU，带宽翻倍到 200GB/s，内存上限 32GB。苹果称这是为“next-level workflows”设计的</p>
</li>
<li data-start="2368" data-end="2514">
<p data-start="2370" data-end="2514">点评：相比 M2，M2 Pro 的亮点是<strong data-start="2390" data-end="2404">带宽与更多高性能核心</strong>，这直接提升了工程、影像后期、并行编译等对内存带宽/多核扩展依赖高的工作负载表现。对笔记本来说，这是一条“性能明显提升但仍保电池友好”的路径</p>
</li>
</ul>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/26/Apple-M2-chips-hero-230117_big.jpg.large_2x-2.jpg" alt="" width="1960" height="1102" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/26/responsive/Apple-M2-chips-hero-230117_big.jpg.large_2x-2-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/26/responsive/Apple-M2-chips-hero-230117_big.jpg.large_2x-2-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/26/responsive/Apple-M2-chips-hero-230117_big.jpg.large_2x-2-md.webp 768w ,https://zeyun.dpdns.org/media/posts/26/responsive/Apple-M2-chips-hero-230117_big.jpg.large_2x-2-xl.webp 1024w"></figure>
<h3 data-start="2516" data-end="2539">M2 Max（迅猛冲新高）</h3>
<ul data-start="2540" data-end="2830">
<li data-start="2540" data-end="2695">
<p data-start="2542" data-end="2695">核心配置：在 M2 Pro 基础上进一步放大 GPU（最高可达 38 核）、内存带宽翻倍至 400GB/s、统一内存可选到 64/96GB（视机型）。官方强调它能处理大场景的 3D、超大分辨率视频与多镜头 ProRes 工作流</p>
</li>
<li data-start="2696" data-end="2830">
<p data-start="2698" data-end="2830">点评：这颗芯定义了“轻薄工作站”的概念：无需外接显卡也能处理很多此前只有桌面级机器能做的任务。内存带宽与大容量统一内存，是 M2 Max 的王牌，真实场景下能减少交换/分页带来的性能坎</p>
</li>
</ul>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/26/9c4d5-16859883863919-1920.webp" alt="" width="1920" height="1033" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/26/responsive/9c4d5-16859883863919-1920-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/26/responsive/9c4d5-16859883863919-1920-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/26/responsive/9c4d5-16859883863919-1920-md.webp 768w ,https://zeyun.dpdns.org/media/posts/26/responsive/9c4d5-16859883863919-1920-xl.webp 1024w"></figure>
<h3 data-start="2832" data-end="2852">M2 Ultra（桌面级工作站&amp;一块惊天动地的芯片）</h3>
<ul data-start="2853" data-end="3245">
<li data-start="2853" data-end="3043">
<p data-start="2855" data-end="3043">核心配置：通过 UltraFusion 把两颗 M2 Max 互联（类似 M1 Ultra 的策略），达到 24 核 CPU、可达 76 核 GPU、32 核 Neural Engine、800GB/s 带宽与最高 192GB 统一内存。官方把它定位为面向专业工作站的 Apple Silicon</p>
</li>
<li data-start="3044" data-end="3245">
<p data-start="3046" data-end="3245">点评：M2 Ultra 是把 SoC 可扩展性推到极致——相比传统桌面 CPU + 独立 GPU + 显存 的分离架构，Ultra 的 UMA 在带宽与延迟层面做得更好（当然它仍然受制于封装和可支持的最大内存）。这意味着在某些大模型训练、超高分辨率多轨视频实时编辑等任务上，M2 Ultra 能提供非常竞争力的单机体验</p>
</li>
</ul>
<h2 data-start="143" data-end="166">M3：从“强化”到“智能平台”的跃升</h2>
<p data-start="167" data-end="373">M3 是苹果芯片战略中，“AI 时代”开始真正变得可执行的一步<br data-start="199" data-end="202">我认为它不仅仅是在 M2 的基础上再提升一点性能，而是一次 <strong data-start="232" data-end="255">“大模型语言本地化”</strong> 的趋势<br data-start="262" data-end="265">M3 首次采用了成熟的 3 nm 制程，使得其内部的神经网络加速单元、媒体处理引擎与统一内存架构有了突破性的能力——尤其在处理语音识别、抠像、图像生成、以及大语言模型（LLM）推理方面，M3 的神经方面进化值得重视</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/26/Apple-M3-chip-series-231030_big.jpg.large_2x.jpg" alt="" width="1960" height="1102" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/26/responsive/Apple-M3-chip-series-231030_big.jpg.large_2x-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/26/responsive/Apple-M3-chip-series-231030_big.jpg.large_2x-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/26/responsive/Apple-M3-chip-series-231030_big.jpg.large_2x-md.webp 768w ,https://zeyun.dpdns.org/media/posts/26/responsive/Apple-M3-chip-series-231030_big.jpg.large_2x-xl.webp 1024w"></figure>
<p data-start="375" data-end="559">M3 仍然采用 UMA（统一内存架构），但在 AI／神经网络任务中，这一点显得尤为关键：CPU、GPU、Neural Engine 共享高速统一内存池，使得数据从输入（例如语音信号、视频帧、文本序列）进到模型推理，再输出结果的路径更短、延迟更低、能耗更少<br data-start="509" data-end="512">这意味着即便是在笔记本／轻薄本中，M3 也具备比传统架构更强的 <strong data-start="544" data-end="558">本地化大规模推理能力</strong></p>
<p data-start="561" data-end="706">在发布会上，苹果宣称 M3 的 Neural Engine 比第一代 M1 快 “多达 60%” <br data-start="648" data-end="651">这告诉我们：神经网络相关任务如语音识别、多模态输入、图像生成、语言模型推理，在 M3 上将变得更高效、更实用</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/26/Apple-M3-chip-series-architecture-231030_big.jpg.large_2x-2.jpg" alt="" width="1960" height="1102" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/26/responsive/Apple-M3-chip-series-architecture-231030_big.jpg.large_2x-2-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/26/responsive/Apple-M3-chip-series-architecture-231030_big.jpg.large_2x-2-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/26/responsive/Apple-M3-chip-series-architecture-231030_big.jpg.large_2x-2-md.webp 768w ,https://zeyun.dpdns.org/media/posts/26/responsive/Apple-M3-chip-series-architecture-231030_big.jpg.large_2x-2-xl.webp 1024w"></figure>
<h5 data-start="739" data-end="762">1. 大语言模型（LLM）适配能力</h5>
<ul data-start="763" data-end="1267">
<li data-start="893" data-end="1037">
<p data-start="895" data-end="1037">关键原因在于：Neural Engine 的加速 + 高速统一内存带宽 + UMA 架构。根据资料，M3 的 Neural Engine 峰值约 18 TOPS（每秒 18 万亿次运算）这比前代提升明显</p>
</li>
<li data-start="1038" data-end="1168">
<p data-start="1040" data-end="1168">在语言模型推理时，关键的是“矩阵乘法 +激活函数 +注意力机制”这一类重复性大、并行度高的操作。Neural Engine 专为这类任务设计，在效率上优于纯 CPU／纯 GPU</p>
</li>
<li data-start="1169" data-end="1227">
<p data-start="1171" data-end="1227">因此，M3 在本地运行语言理解／生成、语音转文字、文本分析等任务时，具有比传统笔电更低延迟、更优功耗的优势</p>
</li>
</ul>
<h5 data-start="1269" data-end="1287">2. 语音处理与实时推理</h5>
<ul data-start="1288" data-end="1509">
<li data-start="1288" data-end="1391">
<p data-start="1290" data-end="1391">在语音识别、语音转文字、语音理解、语义响应等场景里，延迟与功耗是关键。M3 的 Neural Engine 与媒体引擎协同，使得音频信号的捕获 → 特征提取 → 模型推理 →反馈生成这一流程更高效</p>
</li>
<li data-start="1392" data-end="1440">
<p data-start="1394" data-end="1440">并且，因为统一内存，音频帧、特征张量、模型中间状态都能快速共享，无需跨芯片／跨存储搬运，这点在未来的本地大语言的部署上，会很吃香</p>
</li>
<li data-start="1441" data-end="1509">
<p data-start="1443" data-end="1509">举例来说，如果你在 MacBook Air（M3）上用实时语音助手或会议转录应用，理论上你所感受到的“响应延迟”将明显低于传统架构</p>
</li>
</ul>
<h5 data-start="1511" data-end="1533">3. 抠像／图像生成／图形化处理</h5>
<ul data-start="1534" data-end="2003">
<li data-start="1534" data-end="1733">
<p data-start="1536" data-end="1733">本地化的抠像（例如视频背景抠除）、图像生成（如 AI 绘图、风格转换）、图形化处理（如实时渲染、Mesh Shading、Ray Tracing）这一类别，对神经网络 + GPU +内存带宽要求非常高。M3 在这几方面也有显著加强：例如 M3 系列 GPU 支持硬件加速的 Mesh Shading／Ray Tracing</p>
</li>
<li data-start="1734" data-end="1859">
<p data-start="1736" data-end="1859">在抠像任务中，典型流程是：摄像头捕获 →图像分割模型（神经网络）识别前景/背景 →结合 GPU 渲染输出。这其中分割模型运行在 Neural Engine + GPU 上，而数据在统一内存里快速流动。M3 的高带宽和优化结构使这个流程更流畅</p>
</li>
<li data-start="1860" data-end="1943">
<p data-start="1862" data-end="1943">图像生成方面，比如 AI 绘图、图层合成、灯光渲染、实时反馈，M3 能做到“在本机”更快完成，而不必频繁上传云端。对于创作者而言，这意味着更低延迟、更高效率</p>
</li>
</ul>
<h4 data-start="2010" data-end="2038">为什么 M3 的神经网络表现值得留意？</h4>
<ul data-start="2039" data-end="2779">
<li data-start="2039" data-end="2162">
<p data-start="2041" data-end="2162"><strong data-start="2041" data-end="2052">3 nm 制程</strong>：M3 是苹果首款大规模采用 3nm 制程的 Mac SoC。 制程的改进不仅带来更高晶体管密度，也带来了更大潜力在神经网络加速单元上的提升。</p>
</li>
<li data-start="2163" data-end="2291">
<p data-start="2165" data-end="2291"><strong data-start="2165" data-end="2184">统一内存架构（UMA）继续强化</strong>：神经网络模型推理往往受内存移动与带宽限制。M3 在带宽与内存容量上的提升，直接利好模型推理。比如资料显示起步带宽约 100 GB/s</p>
</li>
<li data-start="2292" data-end="2451">
<p data-start="2294" data-end="2451"><strong data-start="2294" data-end="2316">Neural Engine 专用加速</strong>：虽然苹果没有完全公开每一个细节，但可知 M3 的 Neural Engine 提升明显。且被用于推理任务。对于大语言模型推理、语音处理、图像分割等任务尤为关键</p>
</li>
<li data-start="2452" data-end="2571">
<p data-start="2454" data-end="2571"><strong data-start="2454" data-end="2467">媒体／渲染引擎协同</strong>：M3 不只是“神经网络加速”，它还在媒体引擎（视频编/解码）、图形引擎（Ray Tracing/Mesh Shading）方面同步加强。对于 AI 应用场景（如 AR/VR、实时视频处理）极具实际价值</p>
</li>
<li data-start="2572" data-end="2660">
<p data-start="2574" data-end="2660"><strong data-start="2574" data-end="2589">本地化 AI 趋势匹配</strong>：随着“隐私、安全、实时响应”在终端设备上的需求越来越高，能够在设备侧运行语言模型、视觉模型，是一种趋势。M3 为这种趋势提供了硬件基础</p>
</li>
<li data-start="2661" data-end="2779">
<p data-start="2663" data-end="2779"><strong data-start="2663" data-end="2674">生态与软件支撑</strong>：苹果的 Core ML、Accelerate、Metal 等工具链支持这些硬件加速单元。开发者可以更便捷地部署模型于 Mac 上</p>
</li>
</ul>
<h2 data-start="195" data-end="219">M3 的 NPU：从加速单元到「智能中枢」</h2>
<p data-start="221" data-end="343">在 M3 芯片中，苹果的 <strong data-start="234" data-end="257">Neural Engine（神经引擎）</strong> 实际上就是其自研的 <strong data-start="268" data-end="299">NPU（Neural Processing Unit）</strong><br data-start="300" data-end="303">这颗 NPU 是苹果在 AI 能力上“从辅助加速器，迈向主处理核心”的关键</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/26/Ping-Mu-Jie-Tu-2025-10-19-083238.png" alt="" width="1373" height="781" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/26/responsive/Ping-Mu-Jie-Tu-2025-10-19-083238-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/26/responsive/Ping-Mu-Jie-Tu-2025-10-19-083238-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/26/responsive/Ping-Mu-Jie-Tu-2025-10-19-083238-md.webp 768w ,https://zeyun.dpdns.org/media/posts/26/responsive/Ping-Mu-Jie-Tu-2025-10-19-083238-xl.webp 1024w"></figure>
<p data-start="345" data-end="431">不同于 CPU 的通用逻辑和 GPU 的图形并行处理，<strong data-start="372" data-end="390">NPU 专为神经网络计算而生</strong>，特别擅长执行大量矩阵乘法、卷积运算、激活函数和注意力机制等深度学习核心操作</p>
<p data-start="433" data-end="606">而与 NPU 密切相关的另一颗重要模块是 <strong data-start="454" data-end="495">DSP（Digital Signal Processor，数字信号处理器）</strong></p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/26/Ping-Mu-Jie-Tu-2025-10-19-083705.png" alt="" width="2758" height="711" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/26/responsive/Ping-Mu-Jie-Tu-2025-10-19-083705-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/26/responsive/Ping-Mu-Jie-Tu-2025-10-19-083705-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/26/responsive/Ping-Mu-Jie-Tu-2025-10-19-083705-md.webp 768w ,https://zeyun.dpdns.org/media/posts/26/responsive/Ping-Mu-Jie-Tu-2025-10-19-083705-xl.webp 1024w"></figure>
<p data-start="433" data-end="606"><br data-start="496" data-end="499">在传统架构中，DSP 负责处理音频、图像、视频等“信号级任务”，比如语音波形、相机图像降噪、视频帧优化；而 NPU 则进一步在“特征级任务”上工作（例如语义识别、图像理解、语言模型推理）<br data-start="593" data-end="596">可以简单理解为：</p>
<blockquote data-start="608" data-end="642">
<p data-start="610" data-end="642"><strong data-start="610" data-end="642">DSP 负责把信号变成特征，NPU 负责让特征变成智能</strong></p>
</blockquote>
<p data-start="644" data-end="796">在 M 系列芯片中，这两者往往是紧密协作的：<br data-start="666" data-end="669">语音输入时，DSP 先将音频信号做噪声消除、特征提取，再交由 NPU 完成语音识别或语义理解<br data-start="716" data-end="719">图像处理时，DSP 做降噪、色彩恢复，而 NPU 则做人物分割、背景抠像或物体识别。<br data-start="761" data-end="764">这种“信号 + 语义”的耦合，是苹果 AI 能力高效落地的根基</p>
<h2 data-start="803" data-end="820">NPU 在大语言模型中的角色</h2>
<p data-start="822" data-end="965">大语言模型（LLM）本质上是一个高维矩阵计算问题：<br data-start="847" data-end="850">每一次推理都需要执行海量的矩阵乘加、Softmax、Attention 等操作，这正是 NPU 擅长的部分<br data-start="904" data-end="907">在 Apple Silicon 的架构中，NPU 可直接接管这些 <strong data-start="940" data-end="953">张量级并行计算任务</strong>，并以极低功耗完成</p>
<p data-start="967" data-end="999">相比 GPU 的高并行但高功耗，NPU 的设计更“定制化”</p>
<ul data-start="1000" data-end="1085">
<li data-start="1000" data-end="1038">
<p data-start="1002" data-end="1038">它的计算单元直接映射 Transformer 模型中的矩阵运算逻辑</p>
</li>
<li data-start="1039" data-end="1060">
<p data-start="1041" data-end="1060">内部缓存对张量的读写做了极致优化；</p>
</li>
<li data-start="1061" data-end="1085">
<p data-start="1063" data-end="1085">数据流路径被简化到最短，以减少访存延迟</p>
</li>
</ul>
<p data-start="1087" data-end="1101">在 M3 上，这意味着：</p>
<ul data-start="1102" data-end="1225">
<li data-start="1102" data-end="1152">
<p data-start="1104" data-end="1152">即便在本地运行 ollama、Gemini 等 4B～7B 级别模型，推理速度依然可用</p>
</li>
<li data-start="1153" data-end="1192">
<p data-start="1155" data-end="1192">模型可部分卸载到 NPU 上运行，从而释放 CPU / GPU 资源</p>
</li>
<li data-start="1193" data-end="1225">
<p data-start="1195" data-end="1225">系统级能耗维持在笔电可承受的水平，而不需要外接 GPU</p>
</li>
</ul>
<p data-start="1227" data-end="1320">换句话说，<strong data-start="1232" data-end="1263">M3 的 NPU 让 “离线运行大语言模型” 成为现实</strong> —— 这正是苹果在 Vision Pro 和 macOS AI 功能（如本地转录、智能总结、语义搜索）中的基础</p>
<p>这使得 M3 系列成为了 Apple Silicon 时代的转折点——<br>从“移动芯片性能奇迹”走向“桌面级计算中心”</p>
<h2>M4：为 AI 而生的计算核心</h2>
<p>M4 是苹果首个“面向人工智能”优化的芯片。<br>它采用 <strong>第二代 3nm 工艺</strong>，并在内部增加了全新的 <strong>高带宽内存架构（HBM-like设计思路）</strong>，使数据传输效率进一步提高</p>
<h3 data-start="2044" data-end="2074">平台生态与 Apple Intelligence</h3>
<p data-start="2075" data-end="2243">苹果在 M4 发布时强调，这一代芯片是为了支撑 <strong data-start="2099" data-end="2121">Apple Intelligence</strong> 而打造——即“个人人工智能”在设备端的实现<br data-start="2183" data-end="2186">换句话说，M4 不仅是面向创作者或专业用户的算力平台，更是面向“人人都能用 AI 助手／本地模型”时代的硬件基石</p>
<table class=" align-center" style="width: 100%; border-collapse: collapse; table-layout: auto;">
<thead>
<tr>
<th style="width: 9.48861%;">芯片</th>
<th style="width: 21.4468%;">CPU 规格</th>
<th style="width: 18.5873%;">GPU 规格</th>
<th style="width: 12.0882%;">Neural Engine</th>
<th style="width: 12.6081%;">内存带宽</th>
<th style="width: 10.3985%;">最大统一内存</th>
<th style="width: 15.5977%;">常见搭载设备</th>
</tr>
</thead>
<tbody>
<tr>
<td style="width: 9.48861%;"><strong>M4</strong></td>
<td style="width: 21.4468%;">10 核</td>
<td style="width: 18.5873%;">10 核 </td>
<td style="width: 12.0882%;">16 核</td>
<td style="width: 12.6081%;">120 GB/s 起步 </td>
<td style="width: 10.3985%;">起步可配置至 32GB 以上</td>
<td style="width: 15.5977%;">MacBook Pro 14″ (M4)；iMac/Mac mini 等</td>
</tr>
<tr>
<td style="width: 9.48861%;"><strong>M4 Pro</strong></td>
<td style="width: 21.4468%;">12-14 核 </td>
<td style="width: 18.5873%;">16-20 核 </td>
<td style="width: 12.0882%;">16 核</td>
<td style="width: 12.6081%;">273 GB/s 起步 </td>
<td style="width: 10.3985%;">高达 64 GB 内存</td>
<td style="width: 15.5977%;">MacBook Pro 14"/16" (M4 Pro)</td>
</tr>
<tr>
<td style="width: 9.48861%;"><strong>M4 Max</strong></td>
<td style="width: 21.4468%;">14-16 核</td>
<td style="width: 18.5873%;">32-40 核 </td>
<td style="width: 12.0882%;">16 核</td>
<td style="width: 12.6081%;">410-546 GB/s </td>
<td style="width: 10.3985%;">高达 128 GB 内存</td>
<td style="width: 15.5977%;">MacBook Pro 高配版/Mac Studio (部分版本)</td>
</tr>
</tbody>
</table>
<p>更值得注意的是，M4 的 <strong>神经引擎（Neural Engine）</strong> 达到了 38 万亿次操作／秒（38 TOPS）的算力，比 M1 提升了近 3 倍，M4 在 AI 推理能力上实现显著跃进</p>
<p>这让 Apple Intelligence（苹果的本地AI系统）能在设备上实时运行，<br>不依赖云端，也不牺牲隐私</p>
<p>M4 的重点，不在于CPU提升，而在于为未来的“本地AI模型”铺平道路<br>未来的 Siri、图像生成、文字摘要、语音翻译，都会在设备本地完成——<br>而这正是苹果硬件战略的核心：<strong>AI 私有化、本地化、隐私化</strong></p>
<h2>M 系列的整体演进：不是追求极限，而是重构效率</h2>
<p>如果要总结 M1 到 M4 的核心变化，可以用一句话来概括：</p>
<blockquote>
<p>M1 改变了电脑的形态，M4 改变了电脑的思维</p>
</blockquote>
<table class=" align-center" style="width: 100%; border-collapse: collapse; table-layout: auto;">
<thead>
<tr style="height: 75.5625px;">
<th style="width: 9.90362%; height: 75.5625px;">代数</th>
<th style="width: 17.6338%; height: 75.5625px;">制程</th>
<th style="width: 15.0028%; height: 75.5625px;">CPU提升</th>
<th style="width: 15.1865%; height: 75.5625px;">GPU提升</th>
<th style="width: 15.0486%; height: 75.5625px;">神经引擎</th>
<th style="width: 27.0822%; height: 75.5625px;">关键变化</th>
</tr>
</thead>
<tbody>
<tr style="height: 48.5625px;">
<td style="width: 9.90362%; height: 48.5625px;">M1</td>
<td style="width: 17.6338%; height: 48.5625px;">5nm</td>
<td style="width: 15.0028%; height: 48.5625px;">基准</td>
<td style="width: 15.1865%; height: 48.5625px;">基准</td>
<td style="width: 15.0486%; height: 48.5625px;">16TOPS</td>
<td style="width: 27.0822%; height: 48.5625px;">ARM + UMA架构</td>
</tr>
<tr style="height: 75.5625px;">
<td style="width: 9.90362%; height: 75.5625px;">M2</td>
<td style="width: 17.6338%; height: 75.5625px;">第二代5nm</td>
<td style="width: 15.0028%; height: 75.5625px;">+18%</td>
<td style="width: 15.1865%; height: 75.5625px;">+35%</td>
<td style="width: 15.0486%; height: 75.5625px;">20TOPS</td>
<td style="width: 27.0822%; height: 75.5625px;">媒体引擎、AI加速</td>
</tr>
<tr style="height: 48.5625px;">
<td style="width: 9.90362%; height: 48.5625px;">M3</td>
<td style="width: 17.6338%; height: 48.5625px;">3nm</td>
<td style="width: 15.0028%; height: 48.5625px;">+20%</td>
<td style="width: 15.1865%; height: 48.5625px;">+65%</td>
<td style="width: 15.0486%; height: 48.5625px;">18TOPS</td>
<td style="width: 27.0822%; height: 48.5625px;">硬件光追、动态缓存</td>
</tr>
<tr style="height: 75.5625px;">
<td style="width: 9.90362%; height: 75.5625px;">M4</td>
<td style="width: 17.6338%; height: 75.5625px;">第二代3nm</td>
<td style="width: 15.0028%; height: 75.5625px;">+25%</td>
<td style="width: 15.1865%; height: 75.5625px;">+50%</td>
<td style="width: 15.0486%; height: 75.5625px;">38TOPS</td>
<td style="width: 27.0822%; height: 75.5625px;">第二代3nm，10核CPU架构</td>
</tr>
</tbody>
</table>
<h2>Apple Silicon 的意义：硬件、软件与AI的统一</h2>
<p>M 系列芯片真正强大的地方，并不在于跑分，而在于 <strong>整合能力</strong>：</p>
<ul>
<li>
<p><strong>系统级优化</strong>：macOS、iPadOS 与芯片架构高度绑定，效率远高于Windows生态</p>
</li>
<li>
<p><strong>统一内存架构</strong>：CPU、GPU、NPU共享资源，无需数据搬运</p>
</li>
<li>
<p><strong>本地AI算力</strong>：从M4开始，Siri与生成式AI不再依赖云计算</p>
</li>
<li>
<p><strong>生态联动</strong>：iPhone、iPad、Mac间的数据传输无缝协同</p>
</li>
</ul>
<p>换句话说，M系列的每一次迭代，都不是单纯的性能提升，<br>而是苹果在为未来的“个人计算AI时代”做底层铺路</p>
<h2>总结：M系列芯片代表的，是苹果的计算哲学</h2>
<p> </p>
<p><strong>这就是 Apple Silicon 的意义在于：</strong></p>
<blockquote>
<p>让计算不再依赖参数，而回归到“效率”与“体验”的本质</p>
<p>它不只是芯片的迭代，更是苹果对未来计算形态的答案</p>
</blockquote>
<p>感谢你能看到这里，倘若与您的观点有任何出处，那么一切以您的为准<br>如果这篇分析能帮你更好地理解 M 系列芯片的演变，<br>那就是我写作的意义<br>我们下一篇见 (ง •_•)ง✨</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>“抄”出来的科技，真的是“进步”吗？</title>
        <author>
            <name>云泽</name>
        </author>
        <link href="https://zeyun.dpdns.org/kjcx.html"/>
        <id>https://zeyun.dpdns.org/kjcx.html</id>
            <category term="随便写写"/>
            <category term="科技分享"/>

        <updated>2025-10-07T02:39:21+08:00</updated>
            <summary>
                <![CDATA[
                    说到科技圈，很多人第一反应就是“抄袭”要么是苹果抄安卓，要么是安卓厂商（某米17就是典型例子）反过来抄苹果 久而久之，大家都习惯了：一个新功能刚出来，不出几个月，整个行业都开始跟风 难道真的就像网上调侃的那样——科技以换壳为本？ 先别急着下结论，所谓的“抄”，在科技行业里几乎是必然的 •&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>说到科技圈，很多人第一反应就是“抄袭”要么是苹果抄安卓，要么是安卓厂商（某米17就是典型例子）反过来抄苹果</p>
<p>久而久之，大家都习惯了：一个新功能刚出来，不出几个月，整个行业都开始跟风</p>
<figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/24/Chao-Xi.jpg" alt="" width="660" height="378" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/24/responsive/Chao-Xi-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/24/responsive/Chao-Xi-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/24/responsive/Chao-Xi-md.webp 768w ,https://zeyun.dpdns.org/media/posts/24/responsive/Chao-Xi-xl.webp 1024w"></figure>
<h2>问题是，这样的“抄”，到底有意义吗？</h2>
<p>难道真的就像网上调侃的那样——科技以换壳为本？</p>
<p><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">先别急着下结论，所谓的“抄”，在科技行业里几乎是必然的</span></p>
<blockquote>
<p>• 省去试错成本：别人已经验证过的东西，说明能解决需求，后来者直接跟进，风险小很多</p>
<p>• 用户推动：一旦用户体验过某个好用的功能，就会希望所有设备都有，不跟上，就显得落伍</p>
<p>• 竞争压力：这个行业迭代太快，不抄、不跟进，就等于掉队</p>
</blockquote>
<p>所以抄并不是偷懒，而是一种“保证自己不被淘汰”的本能反应</p>
<h2><figure class="post__image"><img loading="lazy"  src="https://zeyun.dpdns.org/media/posts/24/sukurinsiyotuto-2025-10-07-024224.png" alt="" width="1343" height="1273" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/24/responsive/sukurinsiyotuto-2025-10-07-024224-xs.webp 320w ,https://zeyun.dpdns.org/media/posts/24/responsive/sukurinsiyotuto-2025-10-07-024224-sm.webp 480w ,https://zeyun.dpdns.org/media/posts/24/responsive/sukurinsiyotuto-2025-10-07-024224-md.webp 768w ,https://zeyun.dpdns.org/media/posts/24/responsive/sukurinsiyotuto-2025-10-07-024224-xl.webp 1024w"></figure></h2>
<h2>抄得好，还是抄的烂？</h2>
<h5>区别就在于：你是“机械复制”，还是“消化吸收再重构”</h5>
<blockquote>
<p>• 机械抄：原样搬运，结果往往四不像，体验还割裂</p>
<p>• 深度吸收：在别人的思路上，结合自身系统和生态，重新打磨，甚至做到比原版更好</p>
</blockquote>
<p>比如全面屏手势，最早是安卓厂商探索，但体验一般。后来苹果在 iOS 上做了完善，变得流畅自然，反过来又影响了安卓，才形成今天相对统一的交互方式。这就是“抄 + 改 + 优化”的典型案例</p>
<h2>“科技以换壳为本”？</h2>
<p><br>这句话虽然是段子，但也戳中了现实：不少厂商确实只会在外观和参数上折腾，比如堆摄像头、换名字、搞噱头，短期看热闹，长期看没用<br><br>不过换壳并不是完全没有意义。行业在过渡期缺乏底层突破时，厂商只能靠外观和堆料去卷。但等到行业成熟，真正能留下来的，还是那些在系统、芯片、生态联动上有积累的厂商</p>
<blockquote>
<p>• 抄不可避免，但它不该是终点</p>
<p>• 有意义的抄，是消化吸收之后做出自己的改进，让体验更好。否则就只能永远跟在别人后面</p>
</blockquote>
<p><strong>抄是进化的起点，创新才是走得更远的关键</strong><br><br>写到这里，我并不是要为“抄袭”正名，而是想说：与其争论谁抄谁，不如看看谁能在抄的基础上走得更远。对用户来说，真正重要的从来不是“谁先做”，而是最后用到手里的产品好不好用</p>
<p class="align-center">感谢您得阅读，以上内容可能会含有较多主观成分在内，还请多多包涵</p>
<p class="align-center">那么就这样吧，下一篇见~~</p>
<p class="align-center">本篇彩蛋如下</p>
<p class="align-center">超级下载器NDM：<a href="https://wwve.lanzn.com/b014wurvqd" target="_blank" rel="noopener noreferrer">点我下载</a></p>
<p class="align-center">密码：79f7</p>
            ]]>
        </content>
    </entry>
</feed>
