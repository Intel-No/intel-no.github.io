<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>数据库基础入门指南 Part 3 - 云泽の小屋</title><meta name="description" content="前提环境准备说明 本文所有题目基于以下两张核心表（就是我在 Part 2 里须要copy的那张表）&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="stylesheet" href="https://zeyun.dpdns.org/media/plugins/syntaxHighlighter/prism-black.css"><link rel="stylesheet" href="https://zeyun.dpdns.org/media/plugins/syntaxHighlighter/prism-inline-color.css"><link rel="canonical" href="https://zeyun.dpdns.org/my_sql_part3.html"><link rel="alternate" type="application/atom+xml" href="https://zeyun.dpdns.org/feed.xml" title="云泽の小屋 - RSS"><link rel="alternate" type="application/json" href="https://zeyun.dpdns.org/feed.json" title="云泽の小屋 - JSON"><meta property="og:title" content="数据库基础入门指南 Part 3"><meta property="og:image" content="https://zeyun.dpdns.org/media/website/Happy_Mac.png"><meta property="og:image:width" content="516"><meta property="og:image:height" content="516"><meta property="og:site_name" content="云泽の小屋"><meta property="og:description" content="前提环境准备说明 本文所有题目基于以下两张核心表（就是我在 Part 2 里须要copy的那张表）&hellip;"><meta property="og:url" content="https://zeyun.dpdns.org/my_sql_part3.html"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@mstsc3389"><meta name="twitter:title" content="数据库基础入门指南 Part 3"><meta name="twitter:description" content="前提环境准备说明 本文所有题目基于以下两张核心表（就是我在 Part 2 里须要copy的那张表）&hellip;"><meta name="twitter:image" content="https://zeyun.dpdns.org/media/website/Happy_Mac.png"><link rel="shortcut icon" href="https://zeyun.dpdns.org/media/website/icons8-happy-mac-100.png" type="image/png"><link rel="preload" href="https://zeyun.dpdns.org/assets/dynamic/fonts/publicsans/publicsans.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="https://zeyun.dpdns.org/assets/css/style.css?v=644632a36b29378d943864c9b371911a"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://zeyun.dpdns.org/my_sql_part3.html"},"headline":"数据库基础入门指南 Part 3","datePublished":"2025-11-19T21:59+08:00","dateModified":"2025-11-19T22:49+08:00","image":{"@type":"ImageObject","url":"https://zeyun.dpdns.org/media/website/1024px-BanG_Dream_Logo-10th.webp","height":434,"width":1024},"description":"前提环境准备说明 本文所有题目基于以下两张核心表（就是我在 Part 2 里须要copy的那张表）&hellip;","author":{"@type":"Person","name":"云泽","url":"https://zeyun.dpdns.org/authors/yun-ze/"},"publisher":{"@type":"Organization","name":"云泽","logo":{"@type":"ImageObject","url":"https://zeyun.dpdns.org/media/website/1024px-BanG_Dream_Logo-10th.webp","height":434,"width":1024}}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript><style>.fi{fill:none;stroke-linecap:round;stroke-linejoin:round;vertical-align:middle}</style><style>.ti{fill:none;stroke-linecap:round;stroke-linejoin:round;vertical-align:middle}</style></head><body class="post-template"><div class="container"><div class="left-bar"><div class="left-bar__inner"><header class="header"><a class="logo" href="https://zeyun.dpdns.org/"><img src="https://zeyun.dpdns.org/media/website/1024px-BanG_Dream_Logo-10th.webp" alt="云泽の小屋" width="1024" height="434"></a><nav class="navbar"><button class="navbar__toggle" aria-label="菜单" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle__box"><span class="navbar__toggle__inner">菜单</span></span></button><ul class="navbar__menu"><li><a href="https://zeyun.dpdns.org/aboutme.html" target="_self" aria-label="🏠小屋の介绍"><span>🏠小屋の介绍</span></a></li><li><a href="https://zeyun.dpdns.org/my_sql_part1.html" target="_self" aria-label="⚡数据库基础入门"><span>⚡数据库基础入门</span></a></li><li><a href="https://zeyun.dpdns.org/ipad_fx.html" target="_self" aria-label="👾iPad 全系列产品定位分析"><span>👾iPad 全系列产品定位分析</span></a></li><li><a href="https://zeyun.dpdns.org/good_web.html" target="_self" aria-label="🌐网站推荐"><span>🌐网站推荐</span></a></li><li><a href="https://lyle.qzz.io/" target="_blank" aria-label="🌵友站链接"><span>🌵友站链接</span></a></li><li><a href="https://zeyun.dpdns.org/game_snake.html" target="_self" aria-label="🎮Games"><span>🎮Games</span></a></li></ul></nav><a class="logo logo--atbottom" href="https://zeyun.dpdns.org/"><img src="https://zeyun.dpdns.org/media/website/1024px-BanG_Dream_Logo-10th.webp" alt="云泽の小屋" width="1024" height="434"></a></header></div></div><main class="main post"><article class="content"><div class="content__meta content__meta--attop"><div class="content__meta--attop__inner"><div class="content__maintag"><svg width="20" height="20" aria-hidden="true" focusable="false"><use xlink:href="https://zeyun.dpdns.org/assets/svg/svg-map.svg#tag"/></svg> 发布于 <a href="https://zeyun.dpdns.org/tags/study_note/" class="metadata__maintag">数据库学习笔记</a></div></div></div><div class="main__inner"><div class="content__meta"><div class="content__author"><img src="https://zeyun.dpdns.org/media/website/Wen-Di-Gao-Qing-Zi-Pai-Zhao-2.png" loading="lazy" height="521" width="521" alt="云泽" class="content__author__avatar"><div><a href="https://zeyun.dpdns.org/authors/yun-ze/" class="content__author__name">云泽</a></div></div><div class="content__date"><time datetime="2025-11-19T21:59">25/11/19</time></div></div><header class="content__header"><h1 class="content__title">数据库基础入门指南 Part 3</h1></header><div class="content__entry"><h2 class="header-iWP5WJ auto-hide-last-sibling-br align-center">前提环境准备说明</h2><div class="auto-hide-last-sibling-br paragraph-pP9ZLC paragraph-element br-paragraph-space align-center">本文所有题目基于以下两张核心表（就是我在 Part 2 里须要copy的那张表）</div><div class="align-center"><a href="https://zeyun.dpdns.org/my_sql_part2.html" target="_blank" rel="noopener noreferrer">点我跳转 <strong>Part 2</strong></a></div><div> </div><h5 class="align-center">表格内容回顾</h5><ul class="auto-hide-last-sibling-br"><li><code>product_series</code>（产品系列表）：存储产品分类（如 iPhone Standard、iPad Pro），核心字段<code>series_id</code>（主键）、<code>series_name</code>（系列名称）、<code>product_type</code>（产品类型：iPhone/iPad）</li><li><code>products</code>（产品详情表）：存储具体型号参数，核心字段<code>product_id</code>（主键）、<code>model_name</code>（型号名称）、<code>release_year</code>（发布年份）、<code>series_id</code>（外键，关联系列表）、<code>screen_size_inch</code>（屏幕尺寸）等</li><li>模拟扩展表<code>sales</code>（产品销量表）：用于多表关联练习，字段含<code>sale_id</code>（主键）、<code>product_id</code>（关联产品表）、<code>sale_num</code>（销量）、<code>sale_year</code>（销售年份）</li></ul><h3 class="header-iWP5WJ auto-hide-last-sibling-br">题目 1：使用 USING 语法查询产品型号 + 系列信息</h3><h4 class="header-iWP5WJ auto-hide-last-sibling-br">题目要求：</h4><div class="auto-hide-last-sibling-br paragraph-pP9ZLC paragraph-element br-paragraph-space">用 USING 语法查询所有产品的型号名称（中文别名 “产品型号”）、系列名称（中文别名 “所属系列”）、产品类型（中文别名 “产品类型”）</div><h6><strong>思路参考：</strong></h6><div><pre class="language-sql line-numbers"><code>--语法格式
SELECT 
  表1别名.字段1 AS 中文别名1,
  表2别名.字段2 AS 中文别名2,
  表2别名.字段3 AS 中文别名3
FROM 表1 表1别名
INNER JOIN 表2 表2别名
USING(关联字段);  -- 仅当两张表的关联字段名称完全一致时可用USING</code></pre></div><h6><strong>答案如下：</strong></h6><div><pre class="language-sql line-numbers"><code>SELECT 
  p.model_name AS 产品型号,
  ps.series_name AS 所属系列,
  ps.product_type AS 产品类型
FROM products p
INNER JOIN product_series ps
USING(series_id);  -- USING语法：关联字段在两张表中名称相同（均为series_id），可简化写法
</code></pre></div><div><h4 class="header-iWP5WJ auto-hide-last-sibling-br">含义解释</h4><ul class="auto-hide-last-sibling-br"><li><code>USING(series_id)</code>是内连接的简化写法，当两张表的关联字段名称完全相同时（此处均为<code>series_id</code>），可替代<code>ON p.series_id = ps.series_id</code>，让代码更简洁</li><li>例如查询结果会同时显示 “iPhone 15” 对应的 “Standard” 系列和 “iPhone” 类型，“iPad Pro M5” 对应的 “Pro” 系列和 “iPad” 类型</li><li>作用：在关联字段同名时简化连接条件，同时保留内连接 “只匹配关联字段相等的数据” 的核心逻辑</li></ul><h4 class="header-iWP5WJ auto-hide-last-sibling-br">核心知识点</h4><ol class="auto-hide-last-sibling-br"><li>USING 语法的适用场景（关联字段名称相同）</li><li>表别名与字段别名的使用（简化代码 + 优化结果可读性）</li></ol></div><div> </div><div><h3 class="header-iWP5WJ auto-hide-last-sibling-br">题目 2：查询屏幕尺寸≥10 英寸的 iPad Pro 产品</h3><h4 class="header-iWP5WJ auto-hide-last-sibling-br">题目要求</h4><div class="auto-hide-last-sibling-br paragraph-pP9ZLC paragraph-element br-paragraph-space">查询屏幕尺寸≥10 英寸的 iPad Pro 系列产品，显示型号名称（“产品型号”）、屏幕尺寸（“屏幕尺寸 (英寸)”）、存储选项（“存储版本”），按屏幕尺寸升序排序</div><div><h6><strong>思路参考：</strong></h6></div></div><div><pre class="language-sql line-numbers"><code>--语法格式如下
SELECT 
  表1别名.字段1 AS 中文别名1,
  表1别名.字段2 AS 中文别名2,
  表1别名.字段3 AS 中文别名3
FROM 表1 表1别名
INNER JOIN 表2 表2别名
ON 表1别名.关联字段 = 表2别名.关联字段
WHERE 表2别名.筛选字段1 = '条件值1'
AND 表2别名.筛选字段2 = '条件值2'
AND 表1别名.筛选字段3 &gt;= 数值条件
ORDER BY 表1别名.排序字段 ASC;</code></pre><h6><strong>答案如下：</strong></h6></div><div><pre class="language-sql line-numbers"><code>SELECT 
  p.model_name AS 产品型号,
  p.screen_size_inch AS 屏幕尺寸(英寸),
  p.storage_options AS 存储版本
FROM products p
INNER JOIN product_series ps
ON p.series_id = ps.series_id
WHERE ps.product_type = 'iPad'  -- 筛选“iPad”类型
AND ps.series_name = 'Pro'    -- 筛选“Pro”系列
AND p.screen_size_inch &gt;= 10  -- 筛选屏幕尺寸≥10英寸
ORDER BY p.screen_size_inch ASC;  -- 按屏幕尺寸升序（ASC可省略，默认升序）</code></pre></div><div><h4 class="header-iWP5WJ auto-hide-last-sibling-br">含义解释</h4><ul class="auto-hide-last-sibling-br"><li>先通过<code>ON p.series_id = ps.series_id</code>关联两张表，确保每个产品都能匹配到对应的系列信息</li><li>再通过<code>WHERE</code>子句的三个条件精准筛选：只保留 “iPad 类型”“Pro 系列” 且 “屏幕≥10 英寸” 的数据，例如 “iPad Pro 11-inch (2018)”“iPad Pro 12.9-inch (3rd gen, 2018)” 等型号</li><li>最后用<code>ORDER BY p.screen_size_inch ASC</code>按屏幕尺寸从小到大排序，方便对比不同型号的屏幕差异</li><li>作用：实现 “多条件精准筛选 + 有序展示”，满足 “找特定规格产品” 的业务需求</li></ul><h4 class="header-iWP5WJ auto-hide-last-sibling-br">核心知识点</h4><ol class="auto-hide-last-sibling-br"><li>多条件筛选（AND 连接多个过滤条件）</li><li>数值比较条件（≥等运算符的使用）</li><li>排序方向（ASC 升序的应用）</li></ol></div><div> </div><div><h3 class="header-iWP5WJ auto-hide-last-sibling-br">题目 3：查询 2020 年后发布的产品（含型号、系列、初始系统、类型）</h3><h4 class="header-iWP5WJ auto-hide-last-sibling-br">题目要求</h4><div class="auto-hide-last-sibling-br paragraph-pP9ZLC paragraph-element br-paragraph-space">查询 2020 年及以后发布的所有产品，显示型号名称（“产品型号”）、系列名称（“所属系列”）、初始系统（“初始操作系统”）、产品类型（“产品类型”），按发布年份降序排列</div><div> </div><div class="auto-hide-last-sibling-br paragraph-pP9ZLC paragraph-element br-paragraph-space"><strong style="font-family: var(--font-base); font-size: 1em; letter-spacing: var(--letter-spacing);">思路参考：</strong></div><div><pre class="language-sql line-numbers"><code>--语法格式如下
SELECT 
  表1别名.字段1 AS 中文别名1,
  表2别名.字段2 AS 中文别名2,
  表1别名.字段3 AS 中文别名3,
  表2别名.字段4 AS 中文别名4
FROM 表1 表1别名
INNER JOIN 表2 表2别名
ON 表1别名.关联字段 = 表2别名.关联字段
WHERE 表1别名.时间字段 &gt;= 年份条件
ORDER BY 表1别名.时间字段 DESC;</code></pre><h6><strong>答案如下：</strong></h6></div></div><div><pre class="language-sql line-numbers"><code>SELECT 
  p.model_name AS 产品型号,
  ps.series_name AS 所属系列,
  p.initial_os AS 初始操作系统,
  ps.product_type AS 产品类型
FROM products p
INNER JOIN product_series ps
ON p.series_id = ps.series_id
WHERE p.release_year &gt;= 2020  -- 筛选2020年后发布的产品
ORDER BY p.release_year DESC;  -- 按发布年份倒序（最新产品在前）</code></pre></div><div><h4 class="header-iWP5WJ auto-hide-last-sibling-br">含义解释</h4><ul class="auto-hide-last-sibling-br"><li>关联表后，通过<code>WHERE p.release_year &gt;= 2020</code>筛选出 2020 年及之后发布的产品，例如 “iPhone 12”“iPad Air 4” 等</li><li>查询结果包含型号、系列、初始系统和产品类型，相当于 “一站式获取产品的基础信息 + 分类信息”</li><li><code>ORDER BY p.release_year DESC</code>让最新发布的产品（如 2025 年的 “iPhone 17”）排在最前面，符合 “关注新品” 的常规需求</li><li>作用：按时间范围筛选数据，并整合多维度信息，便于快速了解产品迭代情况</li></ul><h4 class="header-iWP5WJ auto-hide-last-sibling-br">核心知识点</h4><ol class="auto-hide-last-sibling-br"><li>时间条件筛选（年份字段的比较）</li><li>多字段提取（整合不同表的关键信息）</li><li>降序排序（DESC 在时间类数据中的应用）</li></ol></div><div> </div><div><h3 class="header-iWP5WJ auto-hide-last-sibling-br">题目 4：多表内连接（模拟销量表查询 2022 年高销量产品）</h3><h4 class="header-iWP5WJ auto-hide-last-sibling-br">题目要求</h4><div class="auto-hide-last-sibling-br paragraph-pP9ZLC paragraph-element br-paragraph-space">新增 “产品销量表（sales）”，字段：sale_id (主键自增)、product_id (关联产品表)、sale_num (销量)、sale_year (销售年份)；查询 2022 年销量≥1000 的产品，显示型号名称（“产品型号”）、系列名称（“所属系列”）、产品类型（“产品类型”）、销量（“2022 年销量”）</div><h6><strong>数据补充：</strong></h6><div><pre class="language-sql line-numbers"><code>-- 先模拟创建销量表并插入测试数据（实际使用时执行）
CREATE TABLE IF NOT EXISTS sales (
  sale_id INT PRIMARY KEY AUTO_INCREMENT,
  product_id INT NOT NULL,
  sale_num INT NOT NULL,
  sale_year YEAR NOT NULL,
  FOREIGN KEY (product_id) REFERENCES products(product_id)
);
INSERT INTO sales (product_id, sale_num, sale_year) VALUES
(1, 1200, 2022), (5, 1500, 2022), (10, 900, 2022), (15, 2000, 2022);</code></pre></div><div><strong style="font-family: var(--font-base); font-size: 1em; letter-spacing: var(--letter-spacing);">思路参考：</strong></div></div><div><pre class="language-sql line-numbers"><code>SELECT 
  表1别名.字段1 AS 中文别名1,
  表2别名.字段2 AS 中文别名2,
  表2别名.字段3 AS 中文别名3,
  表3别名.字段4 AS 中文别名4
FROM 表1 表1别名
INNER JOIN 表2 表2别名 ON 表1别名.关联字段1 = 表2别名.关联字段1
INNER JOIN 表3 表3别名 ON 表1别名.关联字段2 = 表3别名.关联字段2
WHERE 表3别名.筛选字段1 = 条件值1
AND 表3别名.筛选字段2 &gt;= 条件值2;</code></pre><h6><strong>答案如下：</strong></h6></div><div><pre class="language-sql line-numbers"><code>-- 多表连接查询SQL
SELECT 
  p.model_name AS 产品型号,
  ps.series_name AS 所属系列,
  ps.product_type AS 产品类型,
  s.sale_num AS 2022年销量
FROM products p
INNER JOIN product_series ps ON p.series_id = ps.series_id  -- 先关联产品表和系列表
INNER JOIN sales s ON p.product_id = s.product_id          -- 再关联销量表
WHERE s.sale_year = 2022  -- 筛选2022年销量数据
AND s.sale_num &gt;= 1000; -- 筛选销量≥1000的产品</code></pre></div><div><h4 class="header-iWP5WJ auto-hide-last-sibling-br">含义解释</h4><ul class="auto-hide-last-sibling-br"><li>这是三张表的关联查询：先通过<code>products</code>与<code>product_series</code>关联获取产品分类信息，再通过<code>products</code>与<code>sales</code>关联获取销量数据，形成 “产品详情→分类→销量” 的完整链条</li><li>筛选条件<code>s.sale_year = 2022 AND s.sale_num &gt;= 1000</code>确保只显示 2022 年销量超 1000 的产品，例如假设 “iPhone 14” 在 2022 年销量 1500，就会被选中</li><li>作用：实现跨表数据整合，解决 “哪些高销量产品属于什么系列” 这类复杂业务问题</li></ul><h4 class="header-iWP5WJ auto-hide-last-sibling-br">核心知识点</h4><ol class="auto-hide-last-sibling-br"><li>多表内连接语法（连续使用 INNER JOIN 关联多张表）</li><li>多表关联条件（每张表需明确与其他表的关联字段）</li><li>基于业务场景的多表数据整合</li></ol></div><div> </div><div><h3 class="header-iWP5WJ auto-hide-last-sibling-br">题目 5：统计每个 iPhone 系列的产品总数</h3><h4 class="header-iWP5WJ auto-hide-last-sibling-br">题目要求</h4><div class="auto-hide-last-sibling-br paragraph-pP9ZLC paragraph-element br-paragraph-space">统计每个 iPhone 系列的产品数量，显示系列名称（“iPhone 系列”）、产品总数（“产品数量”），按产品数量降序排序</div><h6>思路参考：</h6><div><pre class="language-sql line-numbers"><code>--语法格式如下
SELECT 
  表2别名.分组字段 AS 中文别名1,
  COUNT(表1别名.主键字段) AS 中文别名2  -- 用主键计数，避免NULL影响结果
FROM 表1 表1别名
INNER JOIN 表2 表2别名
ON 表1别名.关联字段 = 表2别名.关联字段
WHERE 表2别名.筛选字段 = '条件值'
GROUP BY 表2别名.分组字段
ORDER BY 中文别名2 DESC;</code></pre><h6>答案如下：</h6></div></div><div><pre class="language-sql line-numbers"><code>SELECT 
  ps.series_name AS iPhone系列,
  COUNT(p.product_id) AS 产品数量  -- COUNT统计产品ID（非NULL值），确保计数准确
FROM products p
INNER JOIN product_series ps
ON p.series_id = ps.series_id
WHERE ps.product_type = 'iPhone'  -- 仅统计iPhone产品
GROUP BY ps.series_name  -- 按系列名称分组（每个系列对应一组统计）
ORDER BY 产品数量 DESC;  -- 按产品数量倒序</code></pre></div><div><h4 class="header-iWP5WJ auto-hide-last-sibling-br">含义解释</h4><ul class="auto-hide-last-sibling-br"><li><code>GROUP BY ps.series_name</code>将 iPhone 产品按系列分组（如 “Standard”“Pro”“Plus” 等单独成组）</li><li><code>COUNT(p.product_id)</code>统计每组内的产品数量（用主键<code>product_id</code>计数，确保不会漏算或多算），例如 “Standard” 系列可能有 10 款产品，“Pro” 系列有 7 款</li><li>排序后能直观看到哪个系列的产品型号最多，方便分析产品布局</li><li>作用：按类别统计数量，回答 “每个分类有多少数据” 的问题</li></ul><h4 class="header-iWP5WJ auto-hide-last-sibling-br">核心知识点</h4><ol class="auto-hide-last-sibling-br"><li>GROUP BY 分组逻辑（按类别聚合数据）</li><li>COUNT 聚合函数（统计记录数量，优先使用主键）</li><li>分组后排序（按统计结果排序，强化数据可读性）</li></ol></div><div> </div><div><h3 class="header-iWP5WJ auto-hide-last-sibling-br">题目 6：查询平均电池容量≥3000mAh 的 iPhone 系列</h3><h4 class="header-iWP5WJ auto-hide-last-sibling-br">题目要求</h4><div class="auto-hide-last-sibling-br paragraph-pP9ZLC paragraph-element br-paragraph-space">查询平均电池容量≥3000mAh 的 iPhone 系列，显示系列名称（“iPhone 系列”）、平均电池容量（“平均电池容量 (mAh)”，保留 1 位小数），按平均电池容量降序排序</div><h6>思路参考：</h6></div><div><pre class="language-sql line-numbers"><code>SELECT 
  表2别名.分组字段 AS 中文别名1,
  ROUND(AVG(表1别名.数值字段), 保留小数位数) AS 中文别名2
FROM 表1 表1别名
INNER JOIN 表2 表2别名
ON 表1别名.关联字段 = 表2别名.关联字段
WHERE 表2别名.筛选字段 = '条件值'
AND 表1别名.数值字段 IS NOT NULL  -- 排除NULL值
GROUP BY 表2别名.分组字段
HAVING 中文别名2 &gt;= 数值条件  -- 分组后筛选用HAVING（WHERE无法筛选聚合结果）
ORDER BY 中文别名2 DESC;</code></pre><h6>答案如下：</h6></div><div><pre class="language-sql line-numbers"><code>SELECT 
ps.series_name AS iPhone系列,ROUND(AVG(p.battery_capacity_mah), 1) AS 平均电池容量(mAh) 
 -- ROUND(值,1)保留1位小数
FROM products p
INNER JOIN product_series ps
ON p.series_id = ps.series_id
WHERE ps.product_type = 'iPhone'  -- 仅统计iPhone产品
AND p.battery_capacity_mah IS NOT NULL  -- 排除电池容量为NULL的数据（避免影响平均值）
GROUP BY ps.series_name
HAVING 平均电池容量(mAh) &gt;= 3000  -- 分组后筛选：平均容量≥3000mAh（注意用HAVING而非WHERE）
ORDER BY 平均电池容量(mAh) DESC;</code></pre><h4 class="header-iWP5WJ auto-hide-last-sibling-br">含义解释</h4><ul class="auto-hide-last-sibling-br"><li><code>AVG(p.battery_capacity_mah)</code>计算每个 iPhone 系列的平均电池容量，例如 “Plus” 系列可能平均 4000mAh，“mini” 系列可能平均 2300mAh。</li><li><code>ROUND(..., 1)</code>将平均值保留 1 位小数（如 3279.0 而不是 3279），让结果更规范。</li><li><code>HAVING 平均电池容量(mAh) &gt;= 3000</code>筛选出平均容量达标的系列（注意：分组后的筛选必须用 HAVING，不能用 WHERE）。</li><li>作用：实现 “按类别算平均值 + 筛选达标的类别”，适合分析产品性能差异。</li></ul><h4 class="header-iWP5WJ auto-hide-last-sibling-br">核心知识点</h4><ol class="auto-hide-last-sibling-br"><li>AVG 聚合函数（计算数值字段的平均值）</li><li>ROUND 函数（格式化数值，保留指定小数位数）</li><li>HAVING 子句（分组后筛选聚合结果，与 WHERE 区分）</li></ol><h3 class="header-iWP5WJ auto-hide-last-sibling-br">题目 7：查询初始系统为 iOS 16 及以上的 Pro 系列产品</h3><h4 class="header-iWP5WJ auto-hide-last-sibling-br">题目要求</h4><div class="auto-hide-last-sibling-br paragraph-pP9ZLC paragraph-element br-paragraph-space">查询初始系统是 iOS 16、iOS 17、iOS 18 或 iOS 26 的 Pro 系列产品（含 iPhone 和 iPad），显示型号名称（“产品型号”）、系列名称（“所属系列”）、产品类型（“产品类型”）、初始系统（“初始操作系统”），按产品类型升序排序</div><h6><strong style="font-family: var(--font-base); font-size: 1em; letter-spacing: var(--letter-spacing);">思路参考：</strong></h6><div><pre class="language-sql line-numbers"><code>SELECT 
  表1别名.字段1 AS 中文别名1,
  表2别名.字段2 AS 中文别名2,
  表2别名.字段3 AS 中文别名3,
  表1别名.字段4 AS 中文别名4
FROM 表1 表1别名
INNER JOIN 表2 表2别名
ON 表1别名.关联字段 = 表2别名.关联字段
WHERE 表2别名.筛选字段1 = '条件值1'
AND 表1别名.筛选字段2 IN ('条件值2', '条件值3', '条件值4')  -- IN简化多值匹配
ORDER BY 表2别名.排序字段 ASC;</code></pre><h6><strong style="font-family: var(--font-base); font-size: 1em; letter-spacing: var(--letter-spacing);">答案如下：</strong></h6></div><pre class="language-sql line-numbers"><code>SELECT 
  p.model_name AS 产品型号,
  ps.series_name AS 所属系列,
  ps.product_type AS 产品类型,
  p.initial_os AS 初始操作系统
FROM products p
INNER JOIN product_series ps
ON p.series_id = ps.series_id
WHERE ps.series_name = 'Pro'  -- 筛选Pro系列
AND p.initial_os IN ('iOS 16', 'iOS 17', 'iOS 18', 'iOS 26')  -- IN匹配多个系统值
ORDER BY ps.product_type ASC;  -- 按产品类型升序（iPhone在前或iPad在前，按字母排序）</code></pre><h4 class="header-iWP5WJ auto-hide-last-sibling-br">含义解释</h4><ul class="auto-hide-last-sibling-br"><li><code>IN ('iOS 16', 'iOS 17', 'iOS 18', 'iOS 26')</code>是多值匹配的简化写法，相当于 “初始系统 = iOS 16 OR 初始系统 = iOS 17 ...”，筛选出搭载较新系统的产品</li><li>结果只包含 “Pro” 系列（如 “iPhone 14 Pro”“iPad Pro 11-inch (4th gen, 2022)”），且按产品类型升序排列（通常 “iPad” 会排在 “iPhone” 前面，按字母顺序）</li><li>作用：高效匹配多个离散值，快速定位符合特定属性的产品</li></ul><h4 class="header-iWP5WJ auto-hide-last-sibling-br">核心知识点</h4><ol class="auto-hide-last-sibling-br"><li>IN 运算符（简化多值匹配条件）</li><li>字符型字段的筛选（匹配系统版本等文本信息）</li><li>按分类字段排序（让同类型数据集中展示）</li></ol><h3 class="header-iWP5WJ auto-hide-last-sibling-br">题目 8：统计 2021 年后发布的各系列产品数量</h3><h4 class="header-iWP5WJ auto-hide-last-sibling-br">题目要求</h4><div class="auto-hide-last-sibling-br paragraph-pP9ZLC paragraph-element br-paragraph-space">统计 2021 年及以后发布的各产品系列（含 iPhone 和 iPad）的产品数量，显示产品类型（“产品类型”）、系列名称（“所属系列”）、产品数量（“产品数量”），按产品类型升序、产品数量降序排序</div><h6><span style="color: var(--headings-color); font-family: var(--font-base); font-size: 1em; font-weight: var(--font-weight-bold); letter-spacing: var(--letter-spacing);">思路参考：</span></h6><div><pre class="language-sql line-numbers"><code>SELECT 
  表2别名.分组字段1 AS 中文别名1,
  表2别名.分组字段2 AS 中文别名2,
  COUNT(表1别名.主键字段) AS 中文别名3
FROM 表1 表1别名
INNER JOIN 表2 表2别名
ON 表1别名.关联字段 = 表2别名.关联字段
WHERE 表1别名.时间字段 &gt;= 条件值
GROUP BY 表2别名.分组字段1, 表2别名.分组字段2  -- 联合分组：按多个字段分组
ORDER BY 表2别名.分组字段1 ASC, 中文别名3 DESC;  -- 多字段排序：先排字段1，再排统计结果</code></pre><h6><strong style="font-family: var(--font-base); font-size: 1em; letter-spacing: var(--letter-spacing);">答案如下：</strong></h6><pre class="language-sql line-numbers"><code>SELECT 
  ps.product_type AS 产品类型,
  ps.series_name AS 所属系列,
  COUNT(p.product_id) AS 产品数量
FROM products p
INNER JOIN product_series ps
ON p.series_id = ps.series_id
WHERE p.release_year &gt;= 2021  -- 筛选2021年后发布的产品
GROUP BY ps.product_type, ps.series_name  -- 按“产品类型+系列名称”联合分组（同一类型下的不同系列）
ORDER BY ps.product_type ASC, 产品数量 DESC;  -- 先按类型升序，再按数量降序</code></pre><h4 class="header-iWP5WJ auto-hide-last-sibling-br">含义解释</h4><ul class="auto-hide-last-sibling-br"><li><code>GROUP BY ps.product_type, ps.series_name</code>是 “联合分组”，先按 “产品类型”（iPhone/iPad）分大类，再在每个大类下按 “系列名称” 分小类（如 iPad 下的 “数字版”“Air” 等）。</li><li>统计结果能同时看到 “iPhone 的 Pro 系列有 5 款 2021 年后的产品”“iPad 的 Air 系列有 4 款” 等信息。</li><li>排序规则<code>ps.product_type ASC, 产品数量 DESC</code>确保先按类型归类，同一类型内按数量从多到少排列，层次清晰。</li><li>作用：实现多级分类统计，适合分析不同类别下的子分类数据分布。</li></ul><h4 class="header-iWP5WJ auto-hide-last-sibling-br">核心知识点</h4><ol class="auto-hide-last-sibling-br"><li>联合分组（GROUP BY 多个字段，实现多级分类）</li><li>多字段排序（按多个条件排序，先主后次）</li><li>时间范围 + 分类统计的组合应用</li></ol><h2 class="header-iWP5WJ auto-hide-last-sibling-br align-center">总结</h2><div class="auto-hide-last-sibling-br paragraph-pP9ZLC paragraph-element br-paragraph-space align-center">本文通过举例苹果产品设备库的现实场景，覆盖了内连接查询的核心考点：从基础的 <strong>ON/USING</strong> 语法、多条件<strong>筛选排序</strong>，到进阶的<strong>多表关联</strong>、<strong>分组聚合（COUNT/AVG）</strong>、<strong>HAVING 筛选</strong>等</div><h5 class="auto-hide-last-sibling-br paragraph-pP9ZLC paragraph-element br-paragraph-space align-center"><strong>未完待续 ing</strong></h5></div></div></div><footer class="content__footer"><div class="content__last-updated">本文更新于 <time datetime="2025-11-19T22:49">25/11/19</time></div><div class="content__share"><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fzeyun.dpdns.org%2Fmy_sql_part3.html&amp;via=%40mstsc3389&amp;text=%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97%20Part%203" class="js-share twitter tltp tltp--top" aria-label="推特 (Twitter)" rel="nofollow noopener noreferrer"><svg><use xlink:href="https://zeyun.dpdns.org/assets/svg/svg-map.svg#twitter"/></svg> <span>Twitter</span></a></div></footer></div></article><div class="content__section post__related"><div class="main__inner"><h3 class="content__section__title">相关文章</h3><div class="post__related__wrap"><article class="c-card"><div class="c-card__meta"><div class="c-card__author"><img src="https://zeyun.dpdns.org/media/website/Wen-Di-Gao-Qing-Zi-Pai-Zhao-2.png" loading="lazy" height="521" width="521" alt="云泽"> <a href="https://zeyun.dpdns.org/authors/yun-ze/">云泽</a></div><time datetime="2025-12-06T16:45">25/12/06 </time><a href="https://zeyun.dpdns.org/tags/lu-you-jiao-huan-ji-shu-xue-xi-bi-ji/" class="c-card-tag">网络设备配置技术学习笔记</a></div><header class="c-card__header"><h2 class="c-card__title"><a href="https://zeyun.dpdns.org/network_with_huawei_ensp_part2.html">网络设备配置实战分析 Part 2</a></h2><p>本项目基于华为的ensp模拟器实现 我在这里会更加侧重于实践的步骤，至于部分的理论知识，请参考互联网或者Ai 本章的主要讲解的内容如下 拓扑下载：点我下载 密码：8hc8&hellip;</p></header></article><article class="c-card"><div class="c-card__meta"><div class="c-card__author"><img src="https://zeyun.dpdns.org/media/website/Wen-Di-Gao-Qing-Zi-Pai-Zhao-2.png" loading="lazy" height="521" width="521" alt="云泽"> <a href="https://zeyun.dpdns.org/authors/yun-ze/">云泽</a></div><time datetime="2025-11-16T22:40">25/11/16 </time><a href="https://zeyun.dpdns.org/tags/study_note/" class="c-card-tag">数据库学习笔记</a></div><header class="c-card__header"><h2 class="c-card__title"><a href="https://zeyun.dpdns.org/my_sql_part2.html">数据库基础入门指南 Part 2</a></h2><p>本章内容概述：学习简单的连接查询 本章难度：(⭐⭐⭐⭐/⭐) 连接查询是一种数据库查询技术，用于将多张表中存在关联关系的数据合并在一起，从而获取更完整的信息。以苹果产品库为例，product_series 表存储了产品系列的分类信息（如系列名称、产品类型），products 表存储了具体产品型号的参数（如型号名称、发布年份）。这两张表通过 series_id 字段产生关联（products 的 series_id 关联 product_series 的 series_id）。连接查询就是通过这个关联关系，把两张表中匹配的数据 “拼接” 成一条结果，让我们能同时看到产品型号所属的系列和类型等信息&hellip;</p></header></article></div></div></div></main><div class="right-bar"><div class="right-bar__inner"><div class="sidebar"><section class="box featured"><h3 class="box__title">精选文章</h3><ul class="featured__container"><li class="featured__item"><div><a href="https://zeyun.dpdns.org/ipad_fx.html" class="featured__title">iPad 全系列产品定位分析</a> <time class="featured__meta" datetime="2025-10-06T01:04">25/10/06</time></div></li><li class="featured__item"><div><a href="https://zeyun.dpdns.org/my_sql_part1.html" class="featured__title">数据库基础入门指南  Part 1</a> <time class="featured__meta" datetime="2025-11-02T03:00">25/11/02</time></div></li></ul></section><section class="box authors"><h3 class="box__title">作者</h3><ul class="authors__cotainer"><li class="authors__item"><a href="https://zeyun.dpdns.org/authors/yun-ze/" class="authors__image"><img src="https://zeyun.dpdns.org/media/website/Wen-Di-Gao-Qing-Zi-Pai-Zhao-2.png" loading="lazy" alt="云泽" height="521" width="521" class="authors__img"></a><div><a href="https://zeyun.dpdns.org/authors/yun-ze/" class="authors__title">云泽</a></div></li></ul></section><section class="box tags"><h3 class="box__title">推荐主题</h3><ul class="tags__list"><li class="tags__item"><a href="https://zeyun.dpdns.org/tags/ke_ji_fen_xiang/" class="btn btn--gray">科技分享 <sup>(8)</sup></a></li><li class="tags__item"><a href="https://zeyun.dpdns.org/tags/sheng_huo_ling_gan/" class="btn btn--gray">生活小灵感 <sup>(1)</sup></a></li><li class="tags__item"><a href="https://zeyun.dpdns.org/tags/study_note/" class="btn btn--gray">数据库学习笔记 <sup>(3)</sup></a></li><li class="tags__item"><a href="https://zeyun.dpdns.org/tags/play_funny/" class="btn btn--gray">随便写写 <sup>(1)</sup></a></li><li class="tags__item"><a href="https://zeyun.dpdns.org/tags/lu-you-jiao-huan-ji-shu-xue-xi-bi-ji/" class="btn btn--gray">网络设备配置技术学习笔记 <sup>(3)</sup></a></li></ul></section><div class="box copyright">谢谢访问，祝你有美好的一天(●&#x27;◡&#x27;●)</div></div></div></div></div><script defer="defer" src="https://zeyun.dpdns.org/assets/js/scripts.min.js?v=b2d91bcadbf5db401b76eb5bb3092eb7"></script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script><script defer="defer" src="https://zeyun.dpdns.org/media/plugins/syntaxHighlighter/prism.js"></script><script defer="defer" src="https://zeyun.dpdns.org/media/plugins/syntaxHighlighter/prism-line-numbers.min.js"></script><script defer="defer" src="https://zeyun.dpdns.org/media/plugins/syntaxHighlighter/clipboard.min.js"></script><script defer="defer" src="https://zeyun.dpdns.org/media/plugins/syntaxHighlighter/prism-copy-to-clipboard.min.js"></script><script defer="defer" src="https://zeyun.dpdns.org/media/plugins/syntaxHighlighter/prism-inline-color.min.js"></script><script defer="defer" src="https://zeyun.dpdns.org/media/plugins/syntaxHighlighter/prism-autolinker.min.js"></script></body></html>