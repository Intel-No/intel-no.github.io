<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>网络设备配置实战分析 Part 3 - 云泽の小屋</title><meta name="description" content="本次项目实验目标： 环境准备：点我下载拓扑图，密码： Step1：先给我们的所有PC机以及各种设备，重命名，配置对应的网路地址和关闭Debug调试（这里我依旧以PC1，L2-SW1，L3-AR1为例）其余设备也是同理 PC1配置如下：（tips：PC3的网关就是与AR1连接的端口IP哦~） L2-SW1配置如下：&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="stylesheet" href="https://zeyun.dpdns.org/media/plugins/syntaxHighlighter/prism-black.css"><link rel="stylesheet" href="https://zeyun.dpdns.org/media/plugins/syntaxHighlighter/prism-inline-color.css"><link rel="canonical" href="https://zeyun.dpdns.org/network_with_huawei_ensp_part3.html"><link rel="alternate" type="application/atom+xml" href="https://zeyun.dpdns.org/feed.xml" title="云泽の小屋 - RSS"><link rel="alternate" type="application/json" href="https://zeyun.dpdns.org/feed.json" title="云泽の小屋 - JSON"><meta property="og:title" content="网络设备配置实战分析 Part 3"><meta property="og:image" content="https://zeyun.dpdns.org/media/website/Happy_Mac.png"><meta property="og:image:width" content="516"><meta property="og:image:height" content="516"><meta property="og:site_name" content="云泽の小屋"><meta property="og:description" content="本次项目实验目标： 环境准备：点我下载拓扑图，密码： Step1：先给我们的所有PC机以及各种设备，重命名，配置对应的网路地址和关闭Debug调试（这里我依旧以PC1，L2-SW1，L3-AR1为例）其余设备也是同理 PC1配置如下：（tips：PC3的网关就是与AR1连接的端口IP哦~） L2-SW1配置如下：&hellip;"><meta property="og:url" content="https://zeyun.dpdns.org/network_with_huawei_ensp_part3.html"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@mstsc3389"><meta name="twitter:title" content="网络设备配置实战分析 Part 3"><meta name="twitter:description" content="本次项目实验目标： 环境准备：点我下载拓扑图，密码： Step1：先给我们的所有PC机以及各种设备，重命名，配置对应的网路地址和关闭Debug调试（这里我依旧以PC1，L2-SW1，L3-AR1为例）其余设备也是同理 PC1配置如下：（tips：PC3的网关就是与AR1连接的端口IP哦~） L2-SW1配置如下：&hellip;"><meta name="twitter:image" content="https://zeyun.dpdns.org/media/website/Happy_Mac.png"><link rel="shortcut icon" href="https://zeyun.dpdns.org/media/website/icons8-happy-mac-100.png" type="image/png"><link rel="preload" href="https://zeyun.dpdns.org/assets/dynamic/fonts/publicsans/publicsans.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="https://zeyun.dpdns.org/assets/css/style.css?v=644632a36b29378d943864c9b371911a"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://zeyun.dpdns.org/network_with_huawei_ensp_part3.html"},"headline":"网络设备配置实战分析 Part 3","datePublished":"2025-12-12T23:16+08:00","dateModified":"2025-12-26T22:00+08:00","image":{"@type":"ImageObject","url":"https://zeyun.dpdns.org/media/website/1024px-BanG_Dream_Logo-10th.webp","height":434,"width":1024},"description":"本次项目实验目标： 环境准备：点我下载拓扑图，密码： Step1：先给我们的所有PC机以及各种设备，重命名，配置对应的网路地址和关闭Debug调试（这里我依旧以PC1，L2-SW1，L3-AR1为例）其余设备也是同理 PC1配置如下：（tips：PC3的网关就是与AR1连接的端口IP哦~） L2-SW1配置如下：&hellip;","author":{"@type":"Person","name":"云泽","url":"https://zeyun.dpdns.org/authors/yun-ze/"},"publisher":{"@type":"Organization","name":"云泽","logo":{"@type":"ImageObject","url":"https://zeyun.dpdns.org/media/website/1024px-BanG_Dream_Logo-10th.webp","height":434,"width":1024}}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript><style>.fi{fill:none;stroke-linecap:round;stroke-linejoin:round;vertical-align:middle}</style><style>.ti{fill:none;stroke-linecap:round;stroke-linejoin:round;vertical-align:middle}</style></head><body class="post-template"><div class="container"><div class="left-bar"><div class="left-bar__inner"><header class="header"><a class="logo" href="https://zeyun.dpdns.org/"><img src="https://zeyun.dpdns.org/media/website/1024px-BanG_Dream_Logo-10th.webp" alt="云泽の小屋" width="1024" height="434"></a><nav class="navbar"><button class="navbar__toggle" aria-label="菜单" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle__box"><span class="navbar__toggle__inner">菜单</span></span></button><ul class="navbar__menu"><li><a href="https://zeyun.dpdns.org/aboutme.html" target="_self" aria-label="🏠小屋の介绍"><span>🏠小屋の介绍</span></a></li><li><a href="https://zeyun.dpdns.org/my_sql_part1.html" target="_self" aria-label="⚡数据库基础入门"><span>⚡数据库基础入门</span></a></li><li><a href="https://zeyun.dpdns.org/ipad_fx.html" target="_self" aria-label="👾iPad 全系列产品定位分析"><span>👾iPad 全系列产品定位分析</span></a></li><li><a href="https://zeyun.dpdns.org/good_web.html" target="_self" aria-label="🌐网站推荐"><span>🌐网站推荐</span></a></li><li><a href="https://lyle.qzz.io/" target="_blank" aria-label="🌵友站链接"><span>🌵友站链接</span></a></li><li><a href="https://zeyun.dpdns.org/game_snake.html" target="_self" aria-label="🎮Games"><span>🎮Games</span></a></li></ul></nav><a class="logo logo--atbottom" href="https://zeyun.dpdns.org/"><img src="https://zeyun.dpdns.org/media/website/1024px-BanG_Dream_Logo-10th.webp" alt="云泽の小屋" width="1024" height="434"></a></header></div></div><main class="main post"><article class="content"><div class="content__meta content__meta--attop"><div class="content__meta--attop__inner"><div class="content__maintag"><svg width="20" height="20" aria-hidden="true" focusable="false"><use xlink:href="https://zeyun.dpdns.org/assets/svg/svg-map.svg#tag"/></svg> 发布于 <a href="https://zeyun.dpdns.org/tsgs/lu-you-jiao-huan-ji-shu-xue-xi-bi-ji/" class="metadata__maintag">网络设备配置技术学习笔记</a></div></div></div><div class="main__inner"><div class="content__meta"><div class="content__author"><img src="https://zeyun.dpdns.org/media/website/Wen-Di-Gao-Qing-Zi-Pai-Zhao-2.png" loading="lazy" height="521" width="521" alt="云泽" class="content__author__avatar"><div><a href="https://zeyun.dpdns.org/authors/yun-ze/" class="content__author__name">云泽</a></div></div><div class="content__date"><time datetime="2025-12-12T23:16">25/12/12</time></div></div><header class="content__header"><h1 class="content__title">网络设备配置实战分析 Part 3</h1></header><div class="content__entry"><p>本次项目实验目标：</p><ul style="list-style-type: square;"><li>实现全网互通（包含OSPF，不同网段vlan规划）</li><li>冗余网关协议（包含聚合链路，VRRP实验）</li><li>生成树协议STP&amp;MSTP（含测试实验&amp;拓扑扩展）</li></ul><p>环境准备：点我下载拓扑图，密码：</p><h4 class="align-center"><strong>全图总览如下</strong></h4><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-13-012607.png" alt="" width="2381" height="1383" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-012607-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-012607-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-012607-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-012607-xl.webp 1024w"></figure><h4 class="align-center">实验一：实现全网互通</h4><p class="align-left"><span style="color: #e03e2d;">Step1：</span>先给我们的所有PC机以及各种设备，重命名，配置对应的网路地址和关闭Debug调试（这里我依旧以PC1，L2-SW1，L3-AR1为例）其余设备也是同理</p><p class="align-center">PC1配置如下：（tips：PC3的网关就是与AR1连接的端口IP哦~）</p><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-12-235926.png" alt="" width="1545" height="1055" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-12-235926-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-12-235926-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-12-235926-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-12-235926-xl.webp 1024w"></figure><p class="align-center">L2-SW1配置如下：</p><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-13-000347.png" alt="" width="1309" height="468" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-000347-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-000347-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-000347-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-000347-xl.webp 1024w"></figure><p class="align-center">L3-AR1配置如下：</p><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-13-000228.png" alt="" width="1298" height="497" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-000228-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-000228-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-000228-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-000228-xl.webp 1024w"></figure><p class="align-left"><span style="color: #e03e2d;">Step2：</span>进入各个设备的对应端口，配置基础信息</p><p class="align-left">先创建几个vlan以便后续的操作（vlan2 ，vlan10，vlan20）</p><ul class="align-center"><li class="align-left">vlan2：用于给我三层的交换机配IP</li><li class="align-left">vlan10：用于给PC1以及第二层的交换机配IP用</li><li class="align-left">vlan20：同理，用于给PC2以及对应的第二层的交换机配IP用</li></ul><p class="align-center">我这里依旧以L3-SW1示例：</p><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-13-001931.png" alt="" width="1280" height="170" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-001931-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-001931-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-001931-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-001931-xl.webp 1024w"></figure><pre class="language-c line-numbers"><code>[L3-SW1]vlan batch 2 10 20</code></pre><p class="align-left">使用 vlan batch 命令，可以同时配置多条vlan</p><p class="align-left">其次进入对应的vlan，去给他们分配IP地址</p><p class="align-left"><code>*注：</code>在L3-SW1/2上的vlan2/10/20都不是同一个，都需要进入对应机器去单独配置</p><p class="align-left">例如（我这里在L3-SW1上配的vlan2就和L3-SW2的不同）<strong>目前只需要关注我标记出来的就行</strong></p><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/L3-SW1-VLANID.png" alt="" width="827" height="452" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/L3-SW1-VLANID-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/L3-SW1-VLANID-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/L3-SW1-VLANID-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/L3-SW1-VLANID-xl.webp 1024w"></figure><p class="align-left">上图为L3-SW1，下图为L3-SW2（<strong>目前先看标记的就行，其余的不着急配</strong>）</p><p>看细节，这里我的L3-SW1/2的配置的同为vlan20的<strong>ip最后一位不同</strong>（此处的ip千万不能相同，否则会出现后期配VRRP的Master时候，会为双Master，不过就算配错，解决办法后面也有，往下看就行，别担心）</p><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/L3-SW2-VLANID.png" alt="" width="838" height="446" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/L3-SW2-VLANID-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/L3-SW2-VLANID-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/L3-SW2-VLANID-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/L3-SW2-VLANID-xl.webp 1024w"></figure><p class="align-left">那么这个IP地址怎么去看呢？很简单，看连接的端口IP就行。例如我这个L3-SW1的vlan2的IP地址，就是来自于上层路由的连接端口的IP</p><p class="align-left"><span style="color: #e03e2d;">Step3：</span>在vlan的信息划分好之后，我们需要进入这个对应的端口，去把刚刚创建的vlan给它加入进来（我这里仅演示了L3-SW1的过程，L3-SW2也是同样的配置方法）</p><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-13-004012.png" alt="" width="1256" height="542" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-004012-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-004012-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-004012-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-004012-xl.webp 1024w"></figure><p class="align-left">这里我设置 g/0/22 口的解释之后的步骤分别是：</p><ol class="align-left"><li>进入 g0/0/22 口</li><li>设置 g0/0/22 的端口类型为<code>Access</code>模式（简单来说，是给连接终端设备，PC，服务器等用的“专属通道“，只走一个 vlan 的流量的模式）</li><li>将之前配置的 vlan2 划分给 g0/0/22 口</li></ol><p class="align-left">设置 g0/0/1 口的步骤解释起来分别是：</p><ol class="align-left"><li>进入 g0/0/1 口</li><li>设置 g0/0/1 的端口类型为<code>Trunk</code>模式（这个模式与Access模式不同的是，这个Trunk模式就是给“交换机之间”用的“共享通道”，使得设备之间的通讯能同时走多个 vlan 的流量）</li><li>设置放行所有流量（通常不会这样做，但这里是实验环境，所以我就全部放行了）</li></ol><p class="align-left"> g0/0/2 也是和 g0/0/1 同理，这里我就不过多赘述了</p><p class="align-left"><span style="color: #e03e2d;">Step4：</span>我比较习惯从下网上配，所以在L3-SW1/2的准备工作做好了之后（也就是在创建好基础的vlan之后）我们先进入L2-SW1/2的 Ethernet 0/0/1 口，去配置与PC1相连接的接口模式</p><pre class="language-cpp line-numbers"><code>[L2-SW1]vlan 10
[L2-SW1-vlan10]q
//创建vlan10，并退出这个vlan的视图（IP地址不在这里配）
[L2-SW1-Ethernet0/0/1]int vlan 10
//使用int命令，进入vlan10
[L2-SW1-Vlanif10]ip address 192.168.10.254 24
//配置IP（IP地址+子网掩码）
[L2-SW1]int e0/0/1
//进入e0/0/1
[L2-SW1-Ethernet0/0/1]port link-type access 
//设置端口模式为access
[L2-SW1-Ethernet0/0/1]port default vlan 10
//划分vlan10到这个端口内</code></pre><p class="align-left">别忘了在L2-SW1/2还是有两根线连接着L3-SW1/2的（<strong>GE0/0/1，GE0/0/2</strong>口），所以你还需要进入这<strong>两个口</strong>里去配置接口模式，我这里依旧以PC1所对应的L2-SW1演示</p><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-13-011844.png" alt="" width="997" height="190" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-011844-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-011844-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-011844-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-011844-xl.webp 1024w"></figure><p class="align-left">这里的思路依旧是：系统视图下→进入对应的端口→设置模式为<code>Trunk</code>模式→放行所有端口</p><p class="align-left">这里使用PC1去Ping网关验证，看看能否Ping通对应网关（PC1的就是之前设置的192.168.10.254的那个）</p><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-13-011004.png" alt="" width="1083" height="515" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-011004-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-011004-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-011004-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-011004-xl.webp 1024w"></figure><p class="align-left">可以看到，我这里已经验证成功</p><p class="align-left">这里的PC2所对应的L2-SW2也是同理，我这里就不过多赘述了（唯一需要注意的就是网关别配错，我这里PC2所对应的网关是<strong>192.168.20.250</strong>，别弄成254了）</p><p class="align-left"><span style="color: #e03e2d;">Step5：</span>设置在L3-AR1上配置基础信息以及OSPF路由</p><p class="align-left">以下是用于设置各个端口的IP的指令（进入端口配IP就行，没啥难度的）</p><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-13-013328.png" alt="" width="1257" height="346" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-013328-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-013328-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-013328-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-013328-xl.webp 1024w"></figure><p class="align-center">在L3-AR1上创建OSPF路由（就是加入临近的网段），如下图所示</p><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-13-013705.png" alt="" width="1233" height="194" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-013705-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-013705-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-013705-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-013705-xl.webp 1024w"></figure><p class="align-left">如果OSPF忘记了的朋友，可以去看看我的上一篇文章里面有讲，这里我就不过多赘述了</p><p class="align-left">配置完成后再次回到L3-SW1/2中，我们需要在这<strong>两个设备</strong>中添加OSPF路由，从而实现全网互通</p><p class="align-center">这是我在L3-SW1配置的操作，如下图所示：</p><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-13-014426.png" alt="" width="1257" height="291" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-014426-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-014426-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-014426-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-014426-xl.webp 1024w"></figure><p class="align-left">分别对应的是：</p><ul class="align-center" style="list-style-type: circle;"><li class="align-left">192.168.10.0的网段 + 反掩码</li><li class="align-left">192.168.20.0的网段 + 反掩码</li><li class="align-left">10.0.0.0的网段 + 反掩码</li></ul><p class="align-left"><code>*注：</code>L3-SW2也需要操作，切记不可以忘记！！！</p><p class="align-left">这里我们依旧使用PC3去PingPC1测试，可以看到即使不在同一个网段也能Ping通，即为成功</p><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-13-015100.png" alt="" width="2466" height="1363" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-015100-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-015100-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-015100-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-13-015100-xl.webp 1024w"></figure><p class="align-center"><strong>至此，恭喜你已经实现基础的全网通</strong></p><h4 class="align-center">实验二：冗余网关协议（聚合链路&amp;VRRP）</h4><p class="align-left">在原有的基础之上，我们将继续操作（<code>*注：</code>以下的Ping实验验证时，可能会存在短时间Ping不通的情况，那是涉及到ENSP模拟器的性能，及这个网络协商的时间差）我会给L3-SW1与L3-SW2之间配聚合链路（这里我会使用<span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);"><a href="https://info.support.huawei.com/info-finder/encyclopedia/zh/LACP.html" target="_blank" rel="noopener noreferrer">LACP</a>模式来组聚合链路，</span></p><div class="align-center" data-page-id="B6msdqjeYoAmxTxeIVScaVKBnNg" data-lark-html-role="root" data-docx-has-block-data="false"><div class="old-record-id-DRTQd6vXDocyUYxUmgVc0WqYnDb align-left">并设置L3-SW1为主动端，且设置当前端口中最大的链路活动状态为2个<span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">）</span></div><h5>聚合链路配置</h5><p class="align-left">功能概述：是一种将<strong>多个物理链路捆绑成一个逻辑链路</strong>的技术，核心作用是<strong>提升带宽、增加链路冗余</strong></p><div class="align-left"> </div></div><div class="align-center" data-page-id="B6msdqjeYoAmxTxeIVScaVKBnNg" data-lark-html-role="root" data-docx-has-block-data="false"><div class="old-record-id-DRTQd6vXDocyUYxUmgVc0WqYnDb align-left"><span style="color: #e03e2d;">Step1</span>：首先进入L3-SW1上，创建一个聚合接口为Eth-Trunk2，然后设置模式为lacp模式，并且设置聚合口中最大的活动数为2，最后将物理端口加入到当前聚合口中</div><div class="align-center"> </div><div class="align-center">下图为我在L3-SW1上的演示：（L3-SW2也是同理）</div><div class="align-center"> </div><div class="align-center"><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-19-203418.png" alt="" width="1026" height="190" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-203418-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-203418-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-203418-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-203418-xl.webp 1024w"></figure></div><div class="align-center"> </div><div class="align-center">代码解释如下：</div><div class="align-center"><pre class="language-cpp line-numbers"><code>[L3-SW1]int Eth-Trunk 2
//创建名为 Eth-Trunk 2 的隧道
[L3-SW1-Eth-Trunk2]port link-type trunk
//设置端口类型为Trunk模式
[L3-SW1-Eth-Trunk2]port trunk allow-pass vlan 2 to 4094
//放行所有端口
[L3-SW1-Eth-Trunk2]mode lacp-static
//设置类型为lacp模式

//以下Max设置仅在主动端设置（例如这里我将L3-SW1设为主动端）
[L3-SW1-Eth-Trunk2]max active-linknumber 2
//设置 Eth-Trunk 2 的链路聚合组的最大活动链路数量为 2
[L3-SW1-Eth-Trunk2]trunkport GigabitEthernet 0/0/23 to 0/0/24
//将GigabitEthernet0/0/23 和 0/0/24 这两个物理端口加入当前 Eth-Trunk 聚合组
//注：以上命令需在 Eth-Trunk 接口视图下执行，比如先执行interface Eth-Trunk 2 进入聚合组 2，再执行这些）</code></pre></div><div class="align-left"><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);"><span style="color: #e03e2d;">Step2</span>：继续在L3-SW2上设置主动端的优先级（默认为32768）我们将主动</span><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">提高其优先级，并配置为100</span></div><div class="align-center"> </div><div class="align-center">L3-SW2的配置如下图所示：</div><div class="align-center"><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-19-204819.png" alt="" width="788" height="132" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-204819-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-204819-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-204819-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-204819-xl.webp 1024w"></figure></div><div class="align-left"> </div><div class="align-left">简单来说就是进入端口，使用<code>lacp priority</code>命令，将L3-SW2的两个端口的优先级为100</div><div class="align-left"> </div><div class="align-left">优先级规则：LACP 端口优先级<strong>数值越小，优先级越高</strong>；在聚合组中，优先级高的端口会优先被选为 “活动链路”（当聚合组的<code>max active-linknumber</code>限制了活动链路数量时，低优先级的端口会成为备用）</div><div class="align-center"> </div><div class="align-center"><code>*注</code>：在L3-SW2千万别忘记了输入应用的指令，如下所示：</div><div class="align-center"><pre class="language-cpp line-numbers"><code>[L3-SW2]int Eth-Trunk 2
//进入 Eth-Trunk 2 端口
[L3-SW2-Eth-Trunk2]trunkport GigabitEthernet 0/0/23 to 0/0/24
//将之前配置的信息应用到 g0/0/23和24口</code></pre></div><div class="align-left">以上这条指令会把 <code>GigabitEthernet0/0/23</code>和 <code>GigabitEthernet0/0/24</code>这两个物理端口，批量加入到刚刚配置的 Eth-Trunk 2 的链路聚合组中</div><div class="align-left"> </div><div class="align-left">可使用我下图中<strong>蓝色高亮</strong>的指令去验证，在L3-SW1/2任意一台设备上</div><div class="align-left">去输入一下（若和我下图示范的一样，那么则为配置正确）</div><div class="align-center"><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-19-210320.png" alt="" width="1257" height="603" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-210320-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-210320-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-210320-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-210320-xl.webp 1024w"></figure></div><div class="align-center"> </div><div class="align-center">成功后，就可以看到这两个端口的状态为UP的了</div><div class="align-center"> </div><div class="align-center"><strong>至此，聚合链路部分就已经成功配置完毕了</strong></div><h5 class="align-center">VRRP配置</h5><p class="align-left">功能概述：它是一种用于<strong>网关冗余备份</strong>的网络协议，核心作用是让多台设备（通常是交换机 / 路由器）共享同一个 “虚拟网关 IP”，避免单点故障导致终端无法上网</p><div class="align-center" data-page-id="B6msdqjeYoAmxTxeIVScaVKBnNg" data-lark-html-role="root" data-docx-has-block-data="false"><div class="align-left"> </div><div class="old-record-id-BFA8dNtpPo2UzYxFQY2czjoNn7d align-left"><span style="color: #e03e2d;">Step1</span>：首先创建 vlan 10 和 vlan 20 的虚拟地址（我这里将vlan 10/20 的设置为192.168.10/20.251）</div><div class="align-left"> </div><div class="old-record-id-BFA8dNtpPo2UzYxFQY2czjoNn7d align-left"><span style="color: #e03e2d;">Step2</span>：设置监控上行链路为g0/0/22端口，我将设置 L3-SW1 作为 vlan 10 的 Master 设备（所以需要对vlan 10 的vrrp组设置优先级为 120 ，设置链路抢占时间为 20 秒）</div><div> </div><div>配置如下（我在L3-SW1演示的截图）：</div><div><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-19-213114.png" alt="" width="1133" height="230" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-213114-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-213114-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-213114-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-213114-xl.webp 1024w"></figure></div><div> </div><div class="old-record-id-BFA8dNtpPo2UzYxFQY2czjoNn7d">逐行代码解释如下：</div><div><pre class="language-cpp line-numbers"><code>[L3-SW1]int vlan10
//进入 vlan10
[L3-SW1-Vlanif10]vrrp vrid 10 virtual-ip 192.168.10.251
//设置一个虚拟id为10的vrrp vrid，并划分虚拟ip为192.168.10.251
[L3-SW1-Vlanif10]vrrp vrid 10 priority 120
//设置这个vlan10下的虚拟id的优先级为120
[L3-SW1-Vlanif10]vrrp vrid 10 preempt-mode timer delay 20
//设置vlan10的虚拟id链路抢占时间为20秒
[L3-SW1-Vlanif10]vrrp vrid 10 track interface GigabitEthernet0/0/22
//让vrrp 10的配置应用在L3-SW1的g0/0/22的端口
[L3-SW1-Vlanif10]int vlan20
//进入vlan20
[L3-SW1-Vlanif20]vrrp vrid 20 virtual-ip 192.168.20.251
//配置vlan20的vrrp的虚拟id</code></pre></div></div><p class="align-left">此外在L3-SW2上也亦是如此：</p><pre class="language-cpp line-numbers"><code>[L3-SW2]interface vlan10
[L3-SW2-Vlanif10] vrrp vrid 10 virtual-ip 192.168.10.251
//以上用于在这个L3-SW2上去宣告vlan10下的的虚拟id

[L3-SW2-Vlanif10]int vlan20
[L3-SW2-Vlanif20]vrrp vrid 20 virtual-ip 192.168.20.251
//以上用于去设置一个虚拟id为20的vrrp vrid，并划分虚拟ip为192.168.20.251

[L3-SW2-Vlanif20]vrrp vrid 20 priority 120
//设置这个vlan20下的虚拟id的优先级为120
[L3-SW2-Vlanif20] vrrp vrid 20 preempt-mode timer delay 20
//设置vlan20下的虚拟id链路抢占时间为20秒
[L3-SW2-Vlanif20] vrrp vrid 20 track interface GigabitEthernet0/0/22
//让vrrp 20的配置应用在L3-SW2的g0/0/22端口</code></pre><p class="align-center"> L3-SW2的配置图片如下：</p><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-19-214540.png" alt="" width="1120" height="300" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-214540-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-214540-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-214540-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-214540-xl.webp 1024w"></figure><p class="align-left"><code>*常见问题</code>：如果我已经配了不同的的优先级（也就是输入了在L3-SW1和L3-SW2不同的vrrp vrid 10 priority 120/100）还是显示都为Master，怎么解决？（如下图所示）</p><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-20-012320.png" alt="" width="1110" height="231" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-012320-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-012320-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-012320-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-012320-xl.webp 1024w"></figure><div class="align-left" data-page-id="B6msdqjeYoAmxTxeIVScaVKBnNg" data-lark-html-role="root" data-docx-has-block-data="false"><div class="align-center">上图的这个vlan20理应是Backup，而不是Master（此处为错误示范）</div><div class="align-center"><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/Xiang-Tong-vlan20De-ipDi-Zhi.png" alt="" width="2388" height="1431" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Xiang-Tong-vlan20De-ipDi-Zhi-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/Xiang-Tong-vlan20De-ipDi-Zhi-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/Xiang-Tong-vlan20De-ipDi-Zhi-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/Xiang-Tong-vlan20De-ipDi-Zhi-xl.webp 1024w"></figure></div><div class="align-left">这个很显然就是L3-SW1或L3-SW2的vlan10/20的IP地址最后一位冲突了，只需要进入对应的vlan，修改vlan的ip就可以解决</div><h5>需要注意的是这里的L3-SW1和L3-SW2上的vlan20下的ip不能和同网段的ip一样，否则大概率失败</h5><div class="align-left"> </div><div class="align-left">操作如下（比如我这里就是L3-SW1上的vlan20的ip配错了，不小心配成和L3-SW2一样的ip了）：</div><div class="align-center"><pre class="language-cpp line-numbers"><code>&lt;L3-SW1&gt;sys
//进入系统试图
[L3-SW1]int vlan20
//进入vlan20

[L3-SW1-Vlanif20]dis this
#
interface Vlanif20
 ip address 192.168.20.253 255.255.255.0
 vrrp vrid 20 virtual-ip 192.168.20.251
#
return
//查看这个端口的情况，发现错误地方

[L3-SW1-Vlanif20]undo ip address 192.168.20.253 24
//删除错误ip，使用undo + 需要删除的指令

[L3-SW1-Vlanif20]ip address 192.168.20.254 24
//添加新的ip</code></pre><p>修改后即可恢复正常状态（如下图所示）：</p><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-20-014347.png" alt="" width="1106" height="236" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-014347-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-014347-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-014347-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-014347-xl.webp 1024w"></figure></div><div class="align-left align-center"> </div><div class="old-record-id-SEXrdattxoG9eJxTXq4cOjarnSg align-left"><span style="color: #e03e2d;">Step3</span>：设置完成VRRP之后，需要将全部网络进行联通，所以需要在三层设备上配置OSPF路由，首先进行路由器ID设置，设置路由器的ID信息如下</div><div class="align-center"><div data-page-id="B6msdqjeYoAmxTxeIVScaVKBnNg" data-lark-html-role="root" data-docx-has-block-data="true"><div><table class="ace-table" style="width: 100%; height: 194.25px;" data-ace-table-col-widths="332;488"><colgroup><col style="width: 47.2934%;" width="332"><col style="width: 69.5157%;" width="488"></colgroup><tbody><tr style="height: 48.5625px;"><td class="align-center" style="height: 48.5625px;" colspan="1" rowspan="1"><div class="ace-line ace-line old-record-id-K1mtdbXOQoytwFxwGYEcJYzRn0c"><strong>设备</strong></div></td><td class="align-center" style="height: 48.5625px;" colspan="1" rowspan="1"><div class="ace-line ace-line old-record-id-KAFsdTWISoyrBixWYhicmHwinQh"><strong>ID</strong></div></td></tr><tr style="height: 48.5625px;"><td class="align-center" style="height: 48.5625px;" colspan="1" rowspan="1"><div class="ace-line ace-line old-record-id-Mu1mdMKjfo89YuxsN1McM5qkn8g">L3-AR1</div></td><td class="align-center" style="height: 48.5625px;" colspan="1" rowspan="1"><div class="ace-line ace-line old-record-id-XAGMdPpWJoW4ujxY6H9ccwqAncf">1.1.1.1</div></td></tr><tr style="height: 48.5625px;"><td class="align-center" style="height: 48.5625px;" colspan="1" rowspan="1"><div class="ace-line ace-line old-record-id-GRi9d3h3yoLpTCxTKtwck0CSnSb">L3-SW1</div></td><td class="align-center" style="height: 48.5625px;" colspan="1" rowspan="1"><div class="ace-line ace-line old-record-id-WxMtdPP7poeO0Dx4B4kc7ZhgnOh">2.2.2.2</div></td></tr><tr style="height: 48.5625px;"><td class="align-center" style="height: 48.5625px;" colspan="1" rowspan="1"><div class="ace-line ace-line old-record-id-UQYDdnhDHotgg1xtjbgchAdCnpd">L3-SW2</div></td><td class="align-center" style="height: 48.5625px;" colspan="1" rowspan="1"><div class="ace-line ace-line old-record-id-Jgu6dmOWPoGLekxwMskcuGtPnYf">3.3.3.3</div></td></tr></tbody></table></div></div></div><div class="align-center">配置命令如下（这里我以L3-SW1演示）：</div><div class="align-center"><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-19-220218.png" alt="" width="785" height="163" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-220218-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-220218-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-220218-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-19-220218-xl.webp 1024w"></figure></div><pre class="language-cpp line-numbers"><code>[L3-SW1]router id 2.2.2.2
//修改router id</code></pre><p class="align-left">至于在L3-AR1，L3-SW1与L3-SW2之间的OSPF部分，我已经在前面的部分说过了，这里我就不在过多赘述了（前面配过的可以跳过此步骤，没配的记得配一下）</p><h5 class="align-left align-center">验证环节</h5><p class="align-left align-center">这里我使用wireshark抓包工具向你直观的展示VRRP的“起死回生”环节</p><p class="align-left">我们首先使用PC1去一直Ping PC3（我使用的是ping + ip地址 + ”-t“命令）来保持PC1一直往PC3发送<a href="https://baike.baidu.com/item/ICMP/572452" target="_blank" rel="noopener noreferrer">ICMP</a>的报文</p><p class="align-left">可以看到这里的PC1走的是GE0/0/2口（图中展示了GE0/0/2抓到了来自PC1与PC3之间通讯的ICMP报文，而这个GE0/0/1口则没有，只是普通的VRRP和OSPF的<a href="https://blog.csdn.net/x13262608581/article/details/134025835" target="_blank" rel="noopener noreferrer">多播协议</a>）</p><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/Zhua-Bao-GE02Kou-You-Shu-Ju.png" alt="" width="2450" height="1413" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Zhua-Bao-GE02Kou-You-Shu-Ju-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/Zhua-Bao-GE02Kou-You-Shu-Ju-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/Zhua-Bao-GE02Kou-You-Shu-Ju-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/Zhua-Bao-GE02Kou-You-Shu-Ju-xl.webp 1024w"></figure><p class="align-left">接下来，我将这个PC1与PC3通讯的L3-SW2机器给它物理关掉，那么则会发生下图的的情况（由于本人的电脑性能不佳，等待了较长的时间）最终成功等待到了这个L3-SW1的再次通讯</p><p class="align-left">可以看到我在下图的这个GE0/0/1口，成功捕捉到了来自于这个VRRP协议再次拉起的PC1于PC3的ICMP的通讯信息的数据包</p><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-20-014945.png" alt="" width="2400" height="1543" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-014945-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-014945-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-014945-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-014945-xl.webp 1024w"></figure><p class="align-center">从以上的实验可简单说明这个VRRP冗余网关协议的作用</p><p class="align-center"><strong>至此，VRRP配置的部分就已经成功配置完毕了</strong></p><h4 class="align-center">实验三：生成树协议STP&amp;MSTP</h4><p class="align-left">在学习这个概念之前，我们需要先简单的了解有关于以下这几个问题的产生原理，才能理解这STP协议和MSTP协议的本质</p><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-21-093943.png" alt="" width="2199" height="1106" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-093943-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-093943-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-093943-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-093943-xl.webp 1024w"></figure><blockquote><h5 class="align-left"> Q：网络环路的产生&amp;什么是网络环路？</h5><p class="align-left"><strong>A：</strong>网络设备之间物理意义上的形成环形连接，简单来说就是网络设备之间不存在树状结构的网络拓扑，而全是按照环形拓扑所连接的，那这个我们就称之为网络环路（如上图所示<strong>左侧所示为树状结构，右侧为环形结构</strong>）</p><h5 class="align-left"> Q：环形网络会导致什么问题？</h5><p class="align-left"><strong>A：</strong>网络环路会导致<strong>广播风暴</strong>和交换机的<strong>帧交换表震荡</strong></p><h5 class="align-left">Q：什么是生成树协议？</h5><p class="align-left"><strong>A：</strong>以太网交换机使用生成树协议STP（Spanning Tree Protocol），可以在<strong>提高网络可靠性的同时又避免环路带来的各种问题</strong></p><h5 class="align-left"><strong>Q：什么是生成树算法？</strong></h5><p class="align-left"><strong>A：</strong>那顾名思义，前面我们知道了环路没有树形结构，那么这个生成树算法就可以简单理解成<strong>在这个环路的网络中创建一个树形拓扑</strong>，既可以利用环路的备用优势，还可以避免环路的劣势问题</p><h5 class="align-left">Q：生成树算法的定义及目标</h5><p class="align-left"><strong>A：</strong>生成树算法STA（Spanning Tree Algorithm）是生成树协议STP（Spanning Tree Protocol）的核心。而它的实现目标是：<strong>在包含有物理环路的网络中，构建出一个能够连通全网各节点的树型无环逻辑拓扑</strong></p></blockquote><p class="align-left align-center"><strong>接下来我来为你展示STP是怎么工作的</strong></p><p class="align-left">首先我们线看到下图，这张图表示着有3台PC（分别为命名为H1&amp;2&amp;3），在每台机器的上层都连接着一个交换机，为了保障这3台机器之间能正常通讯，我们会把这3个交换机的连接设置成环路（目的是为了利用环路的优势去创建备用链路），而这个STP协议就是为了防止环路的产生而设置的（而这个STP协议则会在保证线路通畅的同时，暂时阻塞一个用不着的端口，从而实现防止环路的形成）</p><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-20-171138.png" alt="" width="1245" height="648" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-171138-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-171138-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-171138-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-171138-xl.webp 1024w"></figure><p class="align-left">如上图所示，我们在3台交换机上设置了STP生成树协议，可以看出STP协议的工作原理是把交换机C上的一个接口调整成暂时阻塞的状态，来实现保证网络拓扑的树状结构的</p><p class="align-left">如下图所示，我们的交换机A的一个端口出现了故障，那么这个STP协议就会立即打开原本阻塞的端口<strong>顶替已经故障的线路</strong>，实现内网的正常通讯</p><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-20-171214.png" alt="" width="1264" height="660" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-171214-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-171214-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-171214-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-20-171214-xl.webp 1024w"></figure><p class="align-left align-center"> <strong>以上就是STP协议的的简单理解</strong></p><p class="align-left">生成树算法的三个步骤：</p><ol><li class="align-left">“选举”根交换机</li><li class="align-left">“选举”根端口</li><li class="align-left">“选举”指定端口并阻塞备用端口</li></ol><p class="align-left">现在我们在之前的那个拓扑里再次添加几个路由器，和一台“傻瓜”交换机（这里的傻瓜不是字面意思，指的是这个交换机不做配置，只是默认当成路由器的集线器使用）组成一个新的网段，并设置成VRRP来实验</p><p>由于前面我说过这个VRRP的配置过程了，那我这里只作简要说明了</p><p class="align-left">（1）：给L3-AR1添加网口，用于拓展连接（记住，这里新添加的接口是GE4/0/*了，别ip配错了）</p><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-21-151107.png" alt="" width="2033" height="1229" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-151107-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-151107-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-151107-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-151107-xl.webp 1024w"></figure><p class="align-left">（2）：添加&amp;配置新的路由，拓扑如下（改名，配端口ip等基础操作）</p><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-21-155210.png" alt="" width="2406" height="1397" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-155210-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-155210-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-155210-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-155210-xl.webp 1024w"></figure><p class="align-left"><code>*注意点</code>：（重要核对排查信息点已使用方框括起来了）</p><p class="align-left">（1）L3-AR1的OSPF要添加一条来自于10.3.3.0网段的记录</p><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/l3-ar1-area0-ospf.png" alt="" width="620" height="410" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/l3-ar1-area0-ospf-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/l3-ar1-area0-ospf-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/l3-ar1-area0-ospf-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/l3-ar1-area0-ospf-xl.webp 1024w"></figure><p class="align-left">（2）新添加的L3-AR2/AR3都要添加OSPF（网段来自10段和172段的）</p><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-21-161257-2.png" alt="" width="1387" height="393" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-161257-2-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-161257-2-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-161257-2-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-161257-2-xl.webp 1024w"></figure><p class="align-left">（3）新添加的这个L3-AR2/3对应的router id分别为4.4.4.4和5.5.5.5（1~3已经被前面的L3-SW1/2&amp;L3-AR1占用了）</p><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/l3-ar1andar2routerid.png" alt="" width="1759" height="363" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/l3-ar1andar2routerid-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/l3-ar1andar2routerid-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/l3-ar1andar2routerid-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/l3-ar1andar2routerid-xl.webp 1024w"></figure><p class="align-left">（4）VRRP设置的时候需要将L3-AR2设置成Master节点，(即这个端口的优先级设置为120）L3-AR3则不需要设置优先级，但是vrrp virtual-ip必须要两个都配置（还需注意vrid的分组）</p><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/l3-ar2-vrrp-pr-120.png" alt="" width="826" height="374" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/l3-ar2-vrrp-pr-120-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/l3-ar2-vrrp-pr-120-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/l3-ar2-vrrp-pr-120-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/l3-ar2-vrrp-pr-120-xl.webp 1024w"></figure><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/l3-ar2-vrrp-vid.png" alt="" width="822" height="372" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/l3-ar2-vrrp-vid-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/l3-ar2-vrrp-vid-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/l3-ar2-vrrp-vid-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/l3-ar2-vrrp-vid-xl.webp 1024w"></figure><p class="align-left">（5）PC3的网关改成VRRP的虚拟ip，这个直接配在L3-AR2/3的GE0/0/2口就行（PC3的地址我配置的默认是172.16.100.1）</p><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/Ping-Mu-Jie-Tu-2025-12-21-162624-2.png" alt="" width="1544" height="1048" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-162624-2-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-162624-2-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-162624-2-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/Ping-Mu-Jie-Tu-2025-12-21-162624-2-xl.webp 1024w"></figure><p class="align-left">（6）L2-SW3可以不用做任何的设置，直接当成“傻瓜”交换机就行</p><p class="align-left">（7）测试是否全网通（我这里使用PC3去Ping pc1&amp;pc2去测试网路连通性）</p><figure class="post__image"><img loading="lazy" src="https://zeyun.dpdns.org/media/posts/35/pc3pingpc1andpc2.png" alt="" width="1542" height="1051" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://zeyun.dpdns.org/media/posts/35/responsive/pc3pingpc1andpc2-xs.webp 320w, https://zeyun.dpdns.org/media/posts/35/responsive/pc3pingpc1andpc2-sm.webp 480w, https://zeyun.dpdns.org/media/posts/35/responsive/pc3pingpc1andpc2-md.webp 768w, https://zeyun.dpdns.org/media/posts/35/responsive/pc3pingpc1andpc2-xl.webp 1024w"></figure><p><strong>可以看到能成功相互通讯，那么即代表成功</strong></p><p class="align-left">在掌握了STP的一些基础的概念之后，那么MSTP和STP就很好区分了</p><p class="align-left">其实MSTP就是STP的<strong>升级版</strong>，二者的核心区别在于对 VLAN 的支持能力、收敛效率和资源利用率</p><strong>MSTP 的域概念：</strong><div class="container-Uxvbjy md-box-line-break wrapper-GYqxgQ undefined"><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">MSTP 引入了</span><strong style="font-family: var(--editor-font-family); font-size: inherit;">MST域（MST Region）</strong><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);"> 的概念，同一域内的交换机必须配置相同的</span><strong style="font-family: var(--editor-font-family); font-size: inherit;">域名、修订级别和vlan的实例映射关系</strong><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">，否则会被视为不同的域，按<strong>RSTP</strong>的方式处理（RSTP就是STP的快速版本，而MSTP则是在RSTP基础上扩展了多实例功能，因此 MSTP同时具备<strong>“快速收敛”</strong>和<strong>“多 VLAN 灵活控制”</strong>的优势）</span></div><br><div data-page-id="B6msdqjeYoAmxTxeIVScaVKBnNg" data-lark-html-role="root" data-docx-has-block-data="false"><div class="old-record-id-MDcrdDbYkoInndxntUYcQQJondc"><strong>步骤一：</strong>首先在四台交换机上配置MSTP的区域（每一台都要输入一遍这个代码，我这里仅在L3-SW1演示）</div></div><pre class="language-cpp line-numbers"><code>[L3-SW1]stp region-configuration
//进入MSTP域的配置视图
[L3-SW1-mst-region]region-name huawei
//设置MSTP域名为 huawei（同域设备域名需一致）
[L3-SW1-mst-region]instance 1 vlan 10
//将vlan10映射到生成树实例 1
[L3-SW1-mst-region]instance 2 vlan 20
//将vlan20映射到生成树实例 2
[L3-SW1-mst-region]active region-configuration 
//激活上述MSTP域配置，使其生效</code></pre><p><strong>核心作用</strong>：让vlan10/20分别按实例 1、2 独立计算生成树，实现不同vlan的流量负载分担</p><p><strong>步骤二：</strong><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">继续在L3-SW1上和L3-SW2上进行根节点的配置，因为在VRRP中配置了vlan10的Master节点为L3-SW1所以，在配置的时候，将生成树的1区域，在SW1上设置为根节点，将2号区域设置为非根节点</span></p><pre class="language-cpp line-numbers"><code>[L3-SW1]stp instance 1 root primary
//设置本交换机为MSTP实例 1 的主根桥（优先级最高）
[L3-SW1]stp instance 2 root secondary
//设置本交换机为MSTP实例 2 的备根桥（优先级次高），主根桥故障时它接替成为实例 2 的根桥</code></pre><h5><strong>核心作用：为不同 VLAN 映射的实例指定根桥，实现流量按需转发</strong></h5><p><code>*细节注意：</code>在L3-SW1上是这样配的，一旦到了L3-SW2可就不是这样了（如下所示，要和L3-SW1对称配）</p><pre class="language-cpp line-numbers"><code>[L3-SW2]stp instance 1 root secondary
//设置 1 号区域为非根节点
[L3-SW2]stp instance 2 root primary
//设置 2 号区域为根节点</code></pre><h5>剩余内容更新中ing</h5><p class="align-right"><strong>本次内容到此结束，感谢您的观看，谢谢ԅ(¯﹃¯ԅ)</strong></p></div></div></div><footer class="content__footer"><div class="content__last-updated">本文更新于 <time datetime="2025-12-26T22:00">25/12/26</time></div><div class="content__share"><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fzeyun.dpdns.org%2Fnetwork_with_huawei_ensp_part3.html&amp;via=%40mstsc3389&amp;text=%E7%BD%91%E7%BB%9C%E8%AE%BE%E5%A4%87%E9%85%8D%E7%BD%AE%E5%AE%9E%E6%88%98%E5%88%86%E6%9E%90%20Part%203" class="js-share twitter tltp tltp--top" aria-label="推特 (Twitter)" rel="nofollow noopener noreferrer"><svg><use xlink:href="https://zeyun.dpdns.org/assets/svg/svg-map.svg#twitter"/></svg> <span>Twitter</span></a></div></footer></div></article><div class="content__section post__related"><div class="main__inner"><h3 class="content__section__title">相关文章</h3><div class="post__related__wrap"><article class="c-card"><div class="c-card__meta"><div class="c-card__author"><img src="https://zeyun.dpdns.org/media/website/Wen-Di-Gao-Qing-Zi-Pai-Zhao-2.png" loading="lazy" height="521" width="521" alt="云泽"> <a href="https://zeyun.dpdns.org/authors/yun-ze/">云泽</a></div><time datetime="2025-12-06T16:45">25/12/06 </time><a href="https://zeyun.dpdns.org/tsgs/lu-you-jiao-huan-ji-shu-xue-xi-bi-ji/" class="c-card-tag">网络设备配置技术学习笔记</a></div><header class="c-card__header"><h2 class="c-card__title"><a href="https://zeyun.dpdns.org/network_with_huawei_ensp_part2.html">网络设备配置实战分析 Part 2</a></h2><p>本项目基于华为的ENSP模拟器实现 我在这里会更加侧重于实践的步骤，至于部分的理论知识，请参考互联网或者Ai 本章的主要讲解的内容如下 拓扑下载：点我下载 ，密码：8hc8 本项目的拓扑如下图所示（可以看到，我划分了很多的网段，还有很多路由，不用慌，我会一步一步的来）&hellip;</p></header></article><article class="c-card"><div class="c-card__meta"><div class="c-card__author"><img src="https://zeyun.dpdns.org/media/website/Wen-Di-Gao-Qing-Zi-Pai-Zhao-2.png" loading="lazy" height="521" width="521" alt="云泽"> <a href="https://zeyun.dpdns.org/authors/yun-ze/">云泽</a></div><time datetime="2025-11-16T22:40">25/11/16 </time><a href="https://zeyun.dpdns.org/tsgs/study_note/" class="c-card-tag">数据库学习笔记</a></div><header class="c-card__header"><h2 class="c-card__title"><a href="https://zeyun.dpdns.org/my_sql_part2.html">数据库基础入门指南 Part 2</a></h2><p>本章内容概述：学习简单的连接查询 本章难度：(⭐⭐⭐⭐/⭐) 连接查询是一种数据库查询技术，用于将多张表中存在关联关系的数据合并在一起，从而获取更完整的信息。以苹果产品库为例，product_series 表存储了产品系列的分类信息（如系列名称、产品类型），products 表存储了具体产品型号的参数（如型号名称、发布年份）。这两张表通过 series_id 字段产生关联（products 的 series_id 关联 product_series 的 series_id）。连接查询就是通过这个关联关系，把两张表中匹配的数据 “拼接” 成一条结果，让我们能同时看到产品型号所属的系列和类型等信息&hellip;</p></header></article></div></div></div></main><div class="right-bar"><div class="right-bar__inner"><div class="sidebar"><section class="box featured"><h3 class="box__title">精选文章</h3><ul class="featured__container"><li class="featured__item"><div><a href="https://zeyun.dpdns.org/ipad_fx.html" class="featured__title">iPad 全系列产品定位分析</a> <time class="featured__meta" datetime="2025-10-06T01:04">25/10/06</time></div></li><li class="featured__item"><div><a href="https://zeyun.dpdns.org/my_sql_part1.html" class="featured__title">数据库基础入门指南  Part 1</a> <time class="featured__meta" datetime="2025-11-02T03:00">25/11/02</time></div></li></ul></section><section class="box authors"><h3 class="box__title">作者</h3><ul class="authors__cotainer"><li class="authors__item"><a href="https://zeyun.dpdns.org/authors/yun-ze/" class="authors__image"><img src="https://zeyun.dpdns.org/media/website/Wen-Di-Gao-Qing-Zi-Pai-Zhao-2.png" loading="lazy" alt="云泽" height="521" width="521" class="authors__img"></a><div><a href="https://zeyun.dpdns.org/authors/yun-ze/" class="authors__title">云泽</a></div></li></ul></section><section class="box tags"><h3 class="box__title">推荐主题</h3><ul class="tags__list"><li class="tags__item"><a href="https://zeyun.dpdns.org/tsgs/ke_ji_fen_xiang/" class="btn btn--gray">科技分享 <sup>(8)</sup></a></li><li class="tags__item"><a href="https://zeyun.dpdns.org/tsgs/sheng_huo_ling_gan/" class="btn btn--gray">生活小灵感 <sup>(1)</sup></a></li><li class="tags__item"><a href="https://zeyun.dpdns.org/tsgs/study_note/" class="btn btn--gray">数据库学习笔记 <sup>(3)</sup></a></li><li class="tags__item"><a href="https://zeyun.dpdns.org/tsgs/play_funny/" class="btn btn--gray">随便写写 <sup>(1)</sup></a></li><li class="tags__item"><a href="https://zeyun.dpdns.org/tsgs/lu-you-jiao-huan-ji-shu-xue-xi-bi-ji/" class="btn btn--gray">网络设备配置技术学习笔记 <sup>(3)</sup></a></li></ul></section><div class="box copyright">谢谢访问，祝你有美好的一天(●&#x27;◡&#x27;●)</div></div></div></div></div><script defer="defer" src="https://zeyun.dpdns.org/assets/js/scripts.min.js?v=b2d91bcadbf5db401b76eb5bb3092eb7"></script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script><script defer="defer" src="https://zeyun.dpdns.org/media/plugins/syntaxHighlighter/prism.js"></script><script defer="defer" src="https://zeyun.dpdns.org/media/plugins/syntaxHighlighter/prism-line-numbers.min.js"></script><script defer="defer" src="https://zeyun.dpdns.org/media/plugins/syntaxHighlighter/clipboard.min.js"></script><script defer="defer" src="https://zeyun.dpdns.org/media/plugins/syntaxHighlighter/prism-copy-to-clipboard.min.js"></script><script defer="defer" src="https://zeyun.dpdns.org/media/plugins/syntaxHighlighter/prism-inline-color.min.js"></script><script defer="defer" src="https://zeyun.dpdns.org/media/plugins/syntaxHighlighter/prism-autolinker.min.js"></script></body></html>